<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Procurement Management System</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%); min-height: 100vh; color: #e2e8f0; }
        .header { background: rgba(15, 23, 42, 0.9); backdrop-filter: blur(20px); border-bottom: 1px solid rgba(51, 65, 85, 0.5); position: sticky; top: 0; z-index: 100; padding: 1rem 1.5rem; }
        .header-content { max-width: 1800px; margin: 0 auto; }
        .header-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; gap: 1rem; }
        .logo-section { display: flex; align-items: center; gap: 1rem; }
        .logo-icon { width: 44px; height: 44px; background: linear-gradient(135deg, #14b8a6, #06b6d4); border-radius: 12px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(20, 184, 166, 0.3); }
        .logo-icon svg { width: 24px; height: 24px; color: white; }
        .logo-text h1 { font-size: 1.25rem; font-weight: 700; color: white; }
        .logo-text p { font-size: 0.75rem; color: #94a3b8; }
        .header-actions { display: flex; align-items: center; gap: 1rem; flex-wrap: wrap; }
        .project-select { appearance: none; background: #1e293b url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2394a3b8'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E") no-repeat right 0.75rem center; background-size: 1.25rem; border: 1px solid #475569; color: white; padding: 0.625rem 2.5rem 0.625rem 1rem; border-radius: 12px; font-size: 0.875rem; cursor: pointer; min-width: 280px; }
        .project-select:focus { outline: none; border-color: #14b8a6; box-shadow: 0 0 0 3px rgba(20, 184, 166, 0.2); }
        .btn { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.625rem 1.25rem; border-radius: 12px; font-size: 0.875rem; font-weight: 500; cursor: pointer; border: none; transition: all 0.2s; }
        .btn-primary { background: linear-gradient(135deg, #0d9488, #06b6d4); color: white; box-shadow: 0 4px 15px rgba(20, 184, 166, 0.3); }
        .btn-primary:hover { background: linear-gradient(135deg, #14b8a6, #22d3ee); }
        .btn-secondary { background: #334155; color: white; }
        .btn-secondary:hover { background: #475569; }
        .btn-icon { padding: 0.5rem; border-radius: 8px; background: transparent; color: #94a3b8; border: none; cursor: pointer; }
        .btn-icon:hover { background: #334155; color: white; }
        .nav-tabs { display: flex; gap: 0.25rem; flex-wrap: wrap; }
        .nav-tab { display: flex; align-items: center; gap: 0.5rem; padding: 0.625rem 1rem; border-radius: 12px; font-size: 0.875rem; font-weight: 500; color: #94a3b8; background: transparent; border: none; cursor: pointer; transition: all 0.2s; }
        .nav-tab:hover { background: #1e293b; color: white; }
        .nav-tab.active { background: linear-gradient(135deg, rgba(13, 148, 136, 0.2), rgba(6, 182, 212, 0.2)); color: #2dd4bf; border: 1px solid rgba(20, 184, 166, 0.3); }
        .nav-tab svg { width: 18px; height: 18px; }
        .main-content { max-width: 1800px; margin: 0 auto; padding: 1.5rem; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 1.5rem; }
        .stat-card { background: linear-gradient(135deg, #1e293b, rgba(30, 41, 59, 0.5)); border-radius: 16px; padding: 1.25rem; border: 1px solid rgba(51, 65, 85, 0.5); }
        .stat-card-content { display: flex; justify-content: space-between; align-items: center; }
        .stat-label { color: #94a3b8; font-size: 0.875rem; margin-bottom: 0.25rem; }
        .stat-value { font-size: 2rem; font-weight: 700; color: white; }
        .stat-icon { width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center; justify-content: center; }
        .stat-icon.blue { background: rgba(59, 130, 246, 0.2); }
        .stat-icon.blue svg { color: #60a5fa; }
        .stat-icon.emerald { background: rgba(16, 185, 129, 0.2); }
        .stat-icon.emerald svg { color: #34d399; }
        .stat-icon.red { background: rgba(239, 68, 68, 0.2); }
        .stat-icon.red svg { color: #f87171; }
        .stat-icon.teal { background: rgba(20, 184, 166, 0.2); }
        .stat-icon.teal svg { color: #2dd4bf; }
        .stat-icon svg { width: 24px; height: 24px; }
        .card { background: linear-gradient(135deg, #1e293b, rgba(30, 41, 59, 0.5)); border-radius: 16px; border: 1px solid rgba(51, 65, 85, 0.5); overflow: hidden; margin-bottom: 1.5rem; }
        .card-header { padding: 1.5rem; border-bottom: 1px solid rgba(51, 65, 85, 0.5); }
        .card-title { font-size: 1.125rem; font-weight: 600; color: white; }
        .card-body { padding: 1.5rem; }
        .charts-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 1.5rem; margin-bottom: 1.5rem; }
        .chart-container { height: 280px; position: relative; }
        .filter-bar { display: flex; flex-wrap: wrap; gap: 0.75rem; align-items: center; justify-content: space-between; }
        .filter-group { display: flex; flex-wrap: wrap; gap: 0.75rem; align-items: center; }
        .search-input { position: relative; }
        .search-input input { background: #0f172a; border: 1px solid #475569; border-radius: 12px; padding: 0.5rem 1rem 0.5rem 2.5rem; color: white; font-size: 0.875rem; width: 220px; }
        .search-input input::placeholder { color: #64748b; }
        .search-input input:focus { outline: none; border-color: #14b8a6; }
        .search-input svg { position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); color: #64748b; width: 18px; height: 18px; }
        .filter-select { background: #0f172a; border: 1px solid #475569; border-radius: 12px; padding: 0.5rem 1rem; color: white; font-size: 0.875rem; cursor: pointer; }
        .filter-select:focus { outline: none; border-color: #14b8a6; }
        .table-wrapper { overflow-x: auto; }
        .data-table { width: 100%; border-collapse: collapse; }
        .data-table th { text-align: left; padding: 1rem; font-size: 0.75rem; font-weight: 600; color: #94a3b8; text-transform: uppercase; background: rgba(15, 23, 42, 0.5); }
        .data-table td { padding: 1rem; border-bottom: 1px solid rgba(51, 65, 85, 0.5); }
        .data-table tr:hover { background: rgba(51, 65, 85, 0.2); }
        .badge { display: inline-flex; align-items: center; padding: 0.25rem 0.625rem; border-radius: 9999px; font-size: 0.75rem; font-weight: 500; border: 1px solid; }
        .badge-success { background: rgba(16, 185, 129, 0.2); color: #34d399; border-color: rgba(16, 185, 129, 0.3); }
        .badge-warning { background: rgba(245, 158, 11, 0.2); color: #fbbf24; border-color: rgba(245, 158, 11, 0.3); }
        .badge-danger { background: rgba(239, 68, 68, 0.2); color: #f87171; border-color: rgba(239, 68, 68, 0.3); }
        .badge-info { background: rgba(6, 182, 212, 0.2); color: #22d3ee; border-color: rgba(6, 182, 212, 0.3); }
        .badge-default { background: rgba(100, 116, 139, 0.2); color: #94a3b8; border-color: rgba(100, 116, 139, 0.3); }
        .progress-bar { width: 100%; }
        .progress-track { height: 8px; background: #334155; border-radius: 4px; overflow: hidden; position: relative; }
        .progress-plan { position: absolute; height: 100%; background: #475569; opacity: 0.5; }
        .progress-fill { height: 100%; border-radius: 4px; transition: width 0.5s ease; }
        .progress-fill.green { background: #10b981; }
        .progress-fill.yellow { background: #f59e0b; }
        .progress-fill.red { background: #ef4444; }
        .progress-labels { display: flex; justify-content: space-between; margin-top: 0.25rem; font-size: 0.75rem; }
        .progress-labels span:first-child { color: #94a3b8; }
        .progress-labels span:last-child { color: #64748b; }
        .modal-overlay { display: none; position: fixed; inset: 0; background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(4px); z-index: 200; align-items: center; justify-content: center; padding: 1rem; }
        .modal-overlay.active { display: flex; }
        .modal { background: #1e293b; border-radius: 16px; width: 100%; max-width: 900px; max-height: 90vh; overflow: hidden; border: 1px solid #334155; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; padding: 1rem 1.5rem; border-bottom: 1px solid #334155; }
        .modal-title { font-size: 1.25rem; font-weight: 600; color: white; }
        .modal-close { padding: 0.5rem; border-radius: 8px; background: transparent; border: none; color: #94a3b8; cursor: pointer; }
        .modal-close:hover { background: #334155; color: white; }
        .modal-body { padding: 1.5rem; overflow-y: auto; max-height: calc(90vh - 140px); }
        .modal-footer { padding: 1rem 1.5rem; border-top: 1px solid #334155; display: flex; justify-content: flex-end; gap: 0.75rem; }
        .form-tabs { display: flex; gap: 0.5rem; margin-bottom: 1.5rem; border-bottom: 1px solid #334155; padding-bottom: 1rem; flex-wrap: wrap; }
        .form-tab { display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; border-radius: 8px; font-size: 0.875rem; font-weight: 500; color: #94a3b8; background: transparent; border: none; cursor: pointer; }
        .form-tab:hover { background: #334155; color: white; }
        .form-tab.active { background: #0d9488; color: white; }
        .form-section { display: none; }
        .form-section.active { display: block; }
        .form-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; }
        .form-group { margin-bottom: 1rem; }
        .form-group.full { grid-column: span 2; }
        .form-label { display: block; font-size: 0.875rem; font-weight: 500; color: #cbd5e1; margin-bottom: 0.375rem; }
        .form-input, .form-select, .form-textarea { width: 100%; background: #0f172a; border: 1px solid #475569; border-radius: 12px; padding: 0.625rem 1rem; color: white; font-size: 0.875rem; }
        .form-input:focus, .form-select:focus, .form-textarea:focus { outline: none; border-color: #14b8a6; box-shadow: 0 0 0 3px rgba(20, 184, 166, 0.2); }
        .form-textarea { resize: none; }
        .form-input::placeholder { color: #64748b; }
        .form-checkbox { display: flex; align-items: center; gap: 0.75rem; padding: 1rem; background: rgba(15, 23, 42, 0.5); border-radius: 12px; }
        .form-checkbox input { width: 20px; height: 20px; accent-color: #14b8a6; }
        .form-checkbox label { color: #cbd5e1; font-weight: 500; }
        .milestone-row { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; align-items: center; padding: 1rem; background: rgba(15, 23, 42, 0.5); border-radius: 12px; margin-bottom: 0.75rem; }
        .milestone-label { color: #cbd5e1; font-weight: 500; }
        .milestone-input label { display: block; font-size: 0.75rem; color: #64748b; margin-bottom: 0.25rem; }
        .milestone-input input { width: 100%; background: #1e293b; border: 1px solid #475569; border-radius: 8px; padding: 0.5rem; color: white; font-size: 0.875rem; }
        .scurve-display { background: #0f172a; border: 1px solid #475569; border-radius: 12px; padding: 0.625rem 1rem; color: #2dd4bf; }
        .package-card { background: linear-gradient(135deg, #1e293b, rgba(30, 41, 59, 0.5)); border-radius: 16px; padding: 1.5rem; border: 1px solid rgba(51, 65, 85, 0.5); margin-bottom: 1rem; }
        .package-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem; flex-wrap: wrap; gap: 1rem; }
        .package-tags { display: flex; gap: 0.5rem; margin-bottom: 0.5rem; flex-wrap: wrap; }
        .package-tag { padding: 0.25rem 0.625rem; border-radius: 8px; font-size: 0.75rem; font-weight: 500; }
        .package-tag.ho { background: rgba(59, 130, 246, 0.2); color: #60a5fa; }
        .package-tag.site { background: rgba(168, 85, 247, 0.2); color: #a78bfa; }
        .package-tag.default { background: #334155; color: #94a3b8; }
        .package-title { font-size: 1.25rem; font-weight: 600; color: white; margin-bottom: 0.25rem; }
        .package-desc { color: #94a3b8; font-size: 0.875rem; }
        .package-meta { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-top: 1rem; }
        .meta-item label { display: block; font-size: 0.75rem; color: #64748b; text-transform: uppercase; margin-bottom: 0.25rem; }
        .meta-item span { color: white; }
        .package-milestones { margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid #334155; }
        .milestones-title { font-size: 0.875rem; font-weight: 500; color: #94a3b8; margin-bottom: 0.75rem; }
        .milestones-list { display: flex; flex-wrap: wrap; gap: 0.5rem; }
        .milestone-badge { display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 0.75rem; border-radius: 8px; font-size: 0.875rem; }
        .milestone-badge.completed { background: rgba(16, 185, 129, 0.2); border: 1px solid rgba(16, 185, 129, 0.3); color: #34d399; }
        .milestone-badge.pending { background: rgba(51, 65, 85, 0.5); border: 1px solid #475569; color: #94a3b8; }
        .package-progress { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 1.5rem; }
        .progress-section h4 { font-size: 0.875rem; font-weight: 500; color: #cbd5e1; margin-bottom: 0.5rem; display: flex; justify-content: space-between; }
        .progress-section h4 span { color: #2dd4bf; }
        .risk-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 1.5rem; }
        .risk-stat { border-radius: 16px; padding: 1.25rem; }
        .risk-stat.critical { background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.05)); border: 1px solid rgba(239, 68, 68, 0.2); }
        .risk-stat.medium { background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(217, 119, 6, 0.05)); border: 1px solid rgba(245, 158, 11, 0.2); }
        .risk-stat.low { background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.05)); border: 1px solid rgba(16, 185, 129, 0.2); }
        .risk-stat.open { background: linear-gradient(135deg, rgba(6, 182, 212, 0.1), rgba(8, 145, 178, 0.05)); border: 1px solid rgba(6, 182, 212, 0.2); }
        .risk-stat-content { display: flex; align-items: center; gap: 0.75rem; }
        .risk-stat-icon { width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center; justify-content: center; }
        .risk-stat.critical .risk-stat-icon { background: rgba(239, 68, 68, 0.2); }
        .risk-stat.critical .risk-stat-icon svg { color: #f87171; }
        .risk-stat.critical .risk-stat-value { color: #f87171; }
        .risk-stat.medium .risk-stat-icon { background: rgba(245, 158, 11, 0.2); }
        .risk-stat.medium .risk-stat-icon svg { color: #fbbf24; }
        .risk-stat.medium .risk-stat-value { color: #fbbf24; }
        .risk-stat.low .risk-stat-icon { background: rgba(16, 185, 129, 0.2); }
        .risk-stat.low .risk-stat-icon svg { color: #34d399; }
        .risk-stat.low .risk-stat-value { color: #34d399; }
        .risk-stat.open .risk-stat-icon { background: rgba(6, 182, 212, 0.2); }
        .risk-stat.open .risk-stat-icon svg { color: #22d3ee; }
        .risk-stat.open .risk-stat-value { color: #22d3ee; }
        .risk-stat-label { font-size: 0.875rem; color: #94a3b8; }
        .risk-stat-value { font-size: 1.875rem; font-weight: 700; }
        .heat-map { display: grid; grid-template-columns: auto repeat(3, 1fr); gap: 0.5rem; }
        .heat-map-header { text-align: center; font-size: 0.75rem; font-weight: 500; color: #94a3b8; padding: 0.5rem; }
        .heat-map-label { text-align: right; font-size: 0.75rem; font-weight: 500; color: #94a3b8; padding: 1rem 0.5rem; display: flex; align-items: center; justify-content: flex-end; }
        .heat-map-cell { border-radius: 8px; padding: 0.75rem; text-align: center; font-weight: 700; }
        .heat-map-cell.low-risk { background: rgba(16, 185, 129, 0.2); color: #34d399; }
        .heat-map-cell.med-risk { background: rgba(245, 158, 11, 0.3); color: #fbbf24; }
        .heat-map-cell.high-risk { background: rgba(239, 68, 68, 0.3); color: #f87171; }
        .project-card { background: linear-gradient(135deg, #1e293b, rgba(30, 41, 59, 0.5)); border-radius: 16px; border: 1px solid rgba(51, 65, 85, 0.5); overflow: hidden; margin-bottom: 1.5rem; }
        .project-card-body { padding: 1.5rem; }
        .project-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1.5rem; flex-wrap: wrap; gap: 1rem; }
        .project-info { display: flex; align-items: center; gap: 0.75rem; }
        .project-icon { width: 40px; height: 40px; background: linear-gradient(135deg, rgba(20, 184, 166, 0.2), rgba(6, 182, 212, 0.2)); border-radius: 12px; display: flex; align-items: center; justify-content: center; }
        .project-icon svg { color: #2dd4bf; }
        .project-name { font-size: 1.25rem; font-weight: 600; color: white; }
        .project-type { font-size: 0.875rem; color: #94a3b8; }
        .project-details { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1.5rem; margin-bottom: 1.5rem; }
        .project-detail label { display: block; font-size: 0.75rem; color: #64748b; text-transform: uppercase; margin-bottom: 0.25rem; }
        .project-detail span { color: white; }
        .project-metrics { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; padding-top: 1.5rem; border-top: 1px solid #334155; }
        .metric-card { background: rgba(15, 23, 42, 0.5); border-radius: 12px; padding: 1rem; }
        .metric-card-header { display: flex; align-items: center; gap: 0.5rem; font-size: 0.875rem; color: #94a3b8; margin-bottom: 0.25rem; }
        .metric-card-header svg { width: 14px; height: 14px; }
        .metric-card-value { color: white; font-size: 0.875rem; }
        .metric-card-sub { color: #2dd4bf; font-size: 0.75rem; margin-top: 0.25rem; }
        .project-scope { margin-top: 1rem; padding: 1rem; background: rgba(15, 23, 42, 0.3); border-radius: 12px; border: 1px solid rgba(51, 65, 85, 0.5); }
        .project-scope label { display: block; font-size: 0.75rem; color: #64748b; text-transform: uppercase; margin-bottom: 0.5rem; }
        .project-scope p { color: #cbd5e1; font-size: 0.875rem; }
        .incoterm-info { padding: 1rem; background: rgba(15, 23, 42, 0.5); border-radius: 12px; border: 1px solid #334155; margin-top: 1rem; }
        .incoterm-header { display: flex; align-items: center; gap: 0.5rem; color: #2dd4bf; font-weight: 500; margin-bottom: 0.5rem; }
        .incoterm-desc { color: #94a3b8; font-size: 0.875rem; }
        .incoterm-mode { color: #64748b; font-size: 0.75rem; margin-top: 0.25rem; }
        .action-buttons { display: flex; gap: 0.5rem; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; flex-wrap: wrap; gap: 1rem; }
        .page-title { font-size: 1.5rem; font-weight: 700; color: white; }
        .critical-item { background: rgba(15, 23, 42, 0.5); border-radius: 12px; padding: 1rem; border: 1px solid rgba(239, 68, 68, 0.2); margin-bottom: 0.75rem; transition: border-color 0.2s; }
        .critical-item:hover { border-color: rgba(239, 68, 68, 0.5); }
        .critical-item:nth-child(-n+5) { border-left: 3px solid #ef4444; }
        .critical-item:nth-child(n+6) { border-left: 3px solid #475569; }
        .critical-item-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.75rem; }
        .critical-item h4 { color: white; font-weight: 500; }
        .critical-item p { color: #94a3b8; font-size: 0.875rem; }
        .critical-tags { display: flex; flex-wrap: wrap; gap: 0.5rem; }
        .tag { padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.75rem; font-weight: 500; }
        .tag-critical { background: rgba(239, 68, 68, 0.2); color: #f87171; }
        .tag-warning { background: rgba(245, 158, 11, 0.2); color: #fbbf24; }
        /* View Detail Modal Styles */
        .modal-large { max-width: 1000px; width: 95%; max-height: 90vh; }
        .detail-header { display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 1rem; margin-bottom: 1.5rem; padding-bottom: 1.5rem; border-bottom: 1px solid #334155; }
        .detail-title-section h2 { font-size: 1.5rem; font-weight: 700; color: white; margin-bottom: 0.5rem; }
        .detail-title-section p { color: #94a3b8; font-size: 0.875rem; }
        .detail-badges { display: flex; gap: 0.5rem; flex-wrap: wrap; margin-top: 0.75rem; }
        .detail-section { margin-bottom: 1.5rem; }
        .detail-section-title { font-size: 1rem; font-weight: 600; color: #2dd4bf; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem; padding-bottom: 0.5rem; border-bottom: 1px solid #334155; }
        .detail-section-title svg { width: 20px; height: 20px; }
        .detail-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; }
        .detail-item { background: rgba(15, 23, 42, 0.5); border-radius: 12px; padding: 1rem; border: 1px solid #334155; }
        .detail-item label { display: block; font-size: 0.75rem; color: #64748b; text-transform: uppercase; margin-bottom: 0.25rem; }
        .detail-item span { color: white; font-size: 0.9rem; font-weight: 500; }
        .detail-item.highlight { border-color: rgba(20, 184, 166, 0.3); background: rgba(20, 184, 166, 0.1); }
        .milestone-timeline { display: flex; flex-direction: column; gap: 0.75rem; }
        .milestone-item { display: grid; grid-template-columns: 1fr 120px 120px 80px; gap: 1rem; align-items: center; padding: 0.75rem 1rem; background: rgba(15, 23, 42, 0.5); border-radius: 10px; border: 1px solid #334155; }
        .milestone-item.completed { border-color: rgba(16, 185, 129, 0.3); }
        .milestone-item.pending { border-color: rgba(100, 116, 139, 0.3); }
        .milestone-name { color: white; font-weight: 500; }
        .milestone-date { color: #94a3b8; font-size: 0.875rem; text-align: center; }
        .milestone-date.actual { color: #2dd4bf; }
        .milestone-status { text-align: center; }
        .progress-detail { margin-top: 0.5rem; }
        .progress-detail-bar { height: 12px; background: #334155; border-radius: 6px; overflow: hidden; position: relative; margin-bottom: 0.5rem; }
        .progress-detail-fill { height: 100%; border-radius: 6px; transition: width 0.3s; }
        .progress-detail-fill.green { background: linear-gradient(90deg, #10b981, #34d399); }
        .progress-detail-fill.yellow { background: linear-gradient(90deg, #f59e0b, #fbbf24); }
        .progress-detail-fill.red { background: linear-gradient(90deg, #ef4444, #f87171); }
        .progress-info { display: flex; justify-content: space-between; font-size: 0.875rem; color: #94a3b8; }
        .progress-info .value { color: white; font-weight: 600; }
        .btn-back { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.625rem 1.25rem; border-radius: 12px; font-size: 0.875rem; font-weight: 500; cursor: pointer; border: 1px solid #475569; background: transparent; color: #94a3b8; transition: all 0.2s; }
        .btn-back:hover { background: #334155; color: white; border-color: #14b8a6; }
        .btn-view { padding: 0.4rem 0.75rem; border-radius: 8px; background: rgba(6, 182, 212, 0.2); color: #22d3ee; border: 1px solid rgba(6, 182, 212, 0.3); font-size: 0.75rem; font-weight: 500; cursor: pointer; transition: all 0.2s; display: inline-flex; align-items: center; gap: 0.25rem; }
        .btn-view:hover { background: rgba(6, 182, 212, 0.3); }
        .delivery-status { display: flex; align-items: center; gap: 1rem; margin-top: 1rem; padding: 1rem; background: rgba(15, 23, 42, 0.5); border-radius: 12px; border: 1px solid #334155; }
        .delivery-icon { width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center; justify-content: center; background: rgba(6, 182, 212, 0.2); }
        .delivery-icon svg { color: #22d3ee; width: 24px; height: 24px; }
        .delivery-info h4 { color: white; font-weight: 500; margin-bottom: 0.25rem; }
        .delivery-info p { color: #94a3b8; font-size: 0.875rem; }
        @media (max-width: 768px) { .form-grid { grid-template-columns: 1fr; } .form-group.full { grid-column: span 1; } .milestone-row { grid-template-columns: 1fr; } .milestone-item { grid-template-columns: 1fr; gap: 0.5rem; } .milestone-date { text-align: left; } .milestone-status { text-align: left; } }
        /* Weight Factor Styles */
        .wf-grid { display: grid; gap: 1rem; }
        .wf-section { background: rgba(15, 23, 42, 0.5); border-radius: 12px; padding: 1rem; border: 1px solid #334155; }
        .wf-section-title { font-size: 0.875rem; font-weight: 600; color: #2dd4bf; margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem; }
        .wf-section-title svg { width: 18px; height: 18px; }
        .wf-items { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 0.5rem; }
        .wf-item { display: flex; flex-direction: column; gap: 0.25rem; }
        .wf-item label { font-size: 0.75rem; color: #94a3b8; }
        .wf-item input { background: #0f172a; border: 1px solid #475569; border-radius: 8px; padding: 0.5rem; color: white; font-size: 0.875rem; width: 100%; text-align: center; }
        .wf-item input:focus { outline: none; border-color: #14b8a6; }
        .wf-total { display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: rgba(20, 184, 166, 0.1); border-radius: 12px; border: 1px solid rgba(20, 184, 166, 0.3); margin-top: 1rem; }
        .wf-total-label { font-size: 0.875rem; color: #94a3b8; }
        .wf-total-value { font-size: 1.5rem; font-weight: 700; }
        .wf-total-value.valid { color: #34d399; }
        .wf-total-value.invalid { color: #f87171; }
        .wf-info { display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem; background: rgba(59, 130, 246, 0.1); border-radius: 8px; border: 1px solid rgba(59, 130, 246, 0.3); margin-bottom: 1rem; font-size: 0.8rem; color: #93c5fd; }
        .wf-info svg { width: 18px; height: 18px; flex-shrink: 0; }
        .btn-settings { padding: 0.4rem 0.75rem; border-radius: 8px; background: rgba(100, 116, 139, 0.2); color: #94a3b8; border: 1px solid rgba(100, 116, 139, 0.3); font-size: 0.75rem; font-weight: 500; cursor: pointer; transition: all 0.2s; display: inline-flex; align-items: center; gap: 0.25rem; }
        .btn-settings:hover { background: rgba(100, 116, 139, 0.3); color: white; }
        .scurve-header { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 0.75rem; }
        .scurve-legend { display: flex; gap: 1rem; margin-top: 0.5rem; flex-wrap: wrap; }
        .legend-item { display: flex; align-items: center; gap: 0.5rem; font-size: 0.75rem; color: #94a3b8; }
        .status-date-picker { display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 0.75rem; background: rgba(15, 23, 42, 0.8); border-radius: 10px; border: 1px solid #475569; }
        .cutoff-date-input { background: #0f172a; border: 1px solid #475569; border-radius: 6px; padding: 0.35rem 0.5rem; color: white; font-size: 0.8rem; cursor: pointer; }
        .cutoff-date-input:focus { outline: none; border-color: #14b8a6; }
        .cutoff-date-input::-webkit-calendar-picker-indicator { filter: invert(1); cursor: pointer; }
        .btn-today { padding: 0.35rem 0.6rem; border-radius: 6px; background: linear-gradient(135deg, #0d9488, #06b6d4); color: white; border: none; font-size: 0.7rem; font-weight: 500; cursor: pointer; transition: all 0.2s; }
        .btn-today:hover { background: linear-gradient(135deg, #14b8a6, #22d3ee); }
        .legend-color { width: 12px; height: 12px; border-radius: 3px; }
        /* Risk Grouping Styles */
        .risk-group-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 1rem; }
        .risk-group-card { background: rgba(15, 23, 42, 0.5); border-radius: 12px; border: 1px solid #334155; overflow: hidden; transition: all 0.2s; }
        .risk-group-card:hover { border-color: #475569; transform: translateY(-2px); }
        .risk-group-header { padding: 1rem; border-bottom: 1px solid #334155; display: flex; justify-content: space-between; align-items: center; cursor: pointer; }
        .risk-group-header:hover { background: rgba(51, 65, 85, 0.3); }
        .risk-group-title { display: flex; align-items: center; gap: 0.75rem; }
        .risk-group-title h4 { color: white; font-weight: 600; font-size: 1rem; }
        .risk-group-icon { width: 36px; height: 36px; border-radius: 10px; display: flex; align-items: center; justify-content: center; }
        .risk-group-icon svg { width: 20px; height: 20px; }
        .risk-group-badges { display: flex; gap: 0.5rem; }
        .risk-group-count { font-size: 0.75rem; padding: 0.25rem 0.5rem; border-radius: 6px; font-weight: 600; }
        .risk-group-body { padding: 1rem; }
        .risk-group-item { padding: 0.75rem; margin-bottom: 0.5rem; background: rgba(15, 23, 42, 0.8); border-radius: 8px; border-left: 3px solid; cursor: pointer; transition: all 0.2s; }
        .risk-group-item:hover { background: rgba(51, 65, 85, 0.5); }
        .risk-group-item:last-child { margin-bottom: 0; }
        .risk-group-item.critical { border-left-color: #f87171; }
        .risk-group-item.medium { border-left-color: #fbbf24; }
        .risk-group-item.low { border-left-color: #34d399; }
        .risk-group-item-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.5rem; }
        .risk-group-item-title { color: #e2e8f0; font-size: 0.875rem; font-weight: 500; flex: 1; }
        .risk-group-item-meta { display: flex; gap: 0.5rem; flex-wrap: wrap; margin-top: 0.5rem; }
        .risk-group-item-meta span { font-size: 0.7rem; color: #64748b; }
        .risk-group-more { text-align: center; padding: 0.75rem; color: #64748b; font-size: 0.8rem; cursor: pointer; transition: all 0.2s; }
        .risk-group-more:hover { color: #94a3b8; background: rgba(51, 65, 85, 0.3); }
        /* Risk View Modal Styles */
        .risk-view-header { display: flex; gap: 1rem; margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 1px solid #334155; }
        .risk-view-level { width: 60px; height: 60px; border-radius: 12px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
        .risk-view-level.critical { background: rgba(239, 68, 68, 0.2); }
        .risk-view-level.medium { background: rgba(245, 158, 11, 0.2); }
        .risk-view-level.low { background: rgba(16, 185, 129, 0.2); }
        .risk-view-level svg { width: 28px; height: 28px; }
        .risk-view-info h3 { color: white; font-size: 1.125rem; font-weight: 600; margin-bottom: 0.5rem; }
        .risk-view-tags { display: flex; gap: 0.5rem; flex-wrap: wrap; }
        .risk-view-section { margin-bottom: 1.5rem; }
        .risk-view-section-title { color: #94a3b8; font-size: 0.75rem; text-transform: uppercase; font-weight: 600; margin-bottom: 0.5rem; }
        .risk-view-section-content { color: #e2e8f0; font-size: 0.9rem; line-height: 1.6; }
        .risk-view-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; }
        .risk-view-item { padding: 0.75rem; background: rgba(15, 23, 42, 0.5); border-radius: 8px; border: 1px solid #334155; }
        .risk-view-item label { display: block; color: #64748b; font-size: 0.7rem; text-transform: uppercase; margin-bottom: 0.25rem; }
        .risk-view-item span { color: white; font-weight: 500; }
        /* Export Dropdown Styles */
        .export-dropdown { position: relative; display: inline-block; }
        .export-dropdown-content { display: none; position: absolute; right: 0; top: 100%; margin-top: 0.5rem; background: #1e293b; border: 1px solid #475569; border-radius: 12px; min-width: 220px; z-index: 1000; overflow: hidden; box-shadow: 0 10px 25px rgba(0,0,0,0.3); }
        .export-dropdown-content.show { display: block; }
        .export-dropdown-item { display: flex; align-items: center; gap: 0.75rem; padding: 0.875rem 1rem; color: #e2e8f0; font-size: 0.875rem; cursor: pointer; transition: all 0.2s; border: none; background: transparent; width: 100%; text-align: left; }
        .export-dropdown-item:hover { background: rgba(20, 184, 166, 0.2); }
        .export-dropdown-item svg { width: 18px; height: 18px; color: #94a3b8; }
        .export-dropdown-item:hover svg { color: #2dd4bf; }
        .export-dropdown-divider { height: 1px; background: #334155; margin: 0.25rem 0; }
        .export-dropdown-header { padding: 0.5rem 1rem; font-size: 0.7rem; color: #64748b; text-transform: uppercase; font-weight: 600; }
        /* PDF Export Loading Overlay */
        .pdf-loading-overlay { display: none; position: fixed; inset: 0; background: rgba(15, 23, 42, 0.9); z-index: 9999; align-items: center; justify-content: center; flex-direction: column; gap: 1rem; }
        .pdf-loading-overlay.show { display: flex; }
        .pdf-loading-spinner { width: 48px; height: 48px; border: 4px solid #334155; border-top-color: #14b8a6; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .pdf-loading-text { color: #e2e8f0; font-size: 1rem; }
        .pdf-loading-progress { color: #94a3b8; font-size: 0.875rem; }
        /* Data Management Dropdown Styles */
        .data-dropdown { position: relative; display: inline-block; }
        .data-dropdown-content { display: none; position: absolute; right: 0; top: 100%; margin-top: 0.5rem; background: #1e293b; border: 1px solid #475569; border-radius: 12px; min-width: 240px; z-index: 1000; overflow: hidden; box-shadow: 0 10px 25px rgba(0,0,0,0.3); }
        .data-dropdown-content.show { display: block; }
        .data-dropdown-item { display: flex; align-items: center; gap: 0.75rem; padding: 0.875rem 1rem; color: #e2e8f0; font-size: 0.875rem; cursor: pointer; transition: all 0.2s; border: none; background: transparent; width: 100%; text-align: left; }
        .data-dropdown-item:hover { background: rgba(20, 184, 166, 0.2); }
        .data-dropdown-item svg { width: 18px; height: 18px; color: #94a3b8; }
        .data-dropdown-item:hover svg { color: #2dd4bf; }
        .data-dropdown-divider { height: 1px; background: #334155; margin: 0.25rem 0; }
        .data-dropdown-header { padding: 0.5rem 1rem; font-size: 0.7rem; color: #64748b; text-transform: uppercase; font-weight: 600; }
        /* Import Modal Styles */
        .import-zone { border: 2px dashed #475569; border-radius: 12px; padding: 2rem; text-align: center; cursor: pointer; transition: all 0.3s; background: rgba(15, 23, 42, 0.5); }
        .import-zone:hover, .import-zone.dragover { border-color: #14b8a6; background: rgba(20, 184, 166, 0.1); }
        .import-zone svg { width: 48px; height: 48px; color: #64748b; margin-bottom: 1rem; }
        .import-zone:hover svg { color: #14b8a6; }
        .import-zone-text { color: #94a3b8; font-size: 0.875rem; margin-bottom: 0.5rem; }
        .import-zone-hint { color: #64748b; font-size: 0.75rem; }
        .import-preview { margin-top: 1.5rem; padding: 1rem; background: rgba(15, 23, 42, 0.5); border-radius: 12px; border: 1px solid #475569; display: none; }
        .import-preview.show { display: block; }
        .import-preview-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
        .import-preview-title { color: white; font-weight: 600; display: flex; align-items: center; gap: 0.5rem; }
        .import-preview-title svg { width: 20px; height: 20px; color: #10b981; }
        .import-preview-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; }
        .import-stat { padding: 0.75rem; background: #1e293b; border-radius: 8px; text-align: center; }
        .import-stat-value { font-size: 1.5rem; font-weight: 700; color: #2dd4bf; }
        .import-stat-label { font-size: 0.75rem; color: #94a3b8; margin-top: 0.25rem; }
        .import-options { margin-top: 1rem; padding: 1rem; background: rgba(245, 158, 11, 0.1); border-radius: 8px; border: 1px solid rgba(245, 158, 11, 0.3); }
        .import-options-title { color: #fbbf24; font-size: 0.875rem; font-weight: 500; margin-bottom: 0.75rem; display: flex; align-items: center; gap: 0.5rem; }
        .import-options-title svg { width: 16px; height: 16px; }
        .import-radio-group { display: flex; flex-direction: column; gap: 0.75rem; }
        .import-radio { display: flex; align-items: flex-start; gap: 0.75rem; padding: 0.75rem; background: rgba(15, 23, 42, 0.5); border-radius: 8px; cursor: pointer; }
        .import-radio input { margin-top: 2px; accent-color: #14b8a6; }
        .import-radio-text { flex: 1; }
        .import-radio-label { color: #e2e8f0; font-size: 0.875rem; font-weight: 500; }
        .import-radio-desc { color: #64748b; font-size: 0.75rem; margin-top: 0.25rem; }
        .import-file-info { display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem; background: rgba(20, 184, 166, 0.1); border-radius: 8px; border: 1px solid rgba(20, 184, 166, 0.3); margin-top: 1rem; }
        .import-file-icon { width: 40px; height: 40px; background: rgba(20, 184, 166, 0.2); border-radius: 8px; display: flex; align-items: center; justify-content: center; }
        .import-file-icon svg { width: 20px; height: 20px; color: #2dd4bf; }
        .import-file-details { flex: 1; }
        .import-file-name { color: white; font-weight: 500; font-size: 0.875rem; }
        .import-file-size { color: #94a3b8; font-size: 0.75rem; }
        .import-file-remove { padding: 0.5rem; background: transparent; border: none; color: #f87171; cursor: pointer; border-radius: 6px; }
        .import-file-remove:hover { background: rgba(248, 113, 113, 0.2); }
        
        /* ========================================
           PRINT STYLES - Schedule Report
           ======================================== */
        @media print {
            body { 
                background: white !important; color: #000 !important;
                min-height: auto !important; margin: 0 !important; padding: 0 !important;
                font-family: Arial, Helvetica, sans-serif !important;
            }
            .header, .nav-tabs, .filter-bar, .btn, button, 
            .modal-overlay, .export-dropdown, .pdf-loading-overlay,
            .no-print, ::-webkit-scrollbar, .schedule-legend { display: none !important; }
            .tab-content { display: none !important; }
            #schedule { display: block !important; padding: 0 !important; }
            #schedule > .stats-grid { display: none !important; }
            #inquiry { display: block !important; padding: 0 !important; }
            #inquiry > .stats-grid { display: none !important; }
            /* Only show the tab that triggered print (controlled by JS) */
            #schedule.print-active { display: block !important; }
            #inquiry.print-active { display: block !important; }
            #schedule:not(.print-active) { display: none !important; }
            #inquiry:not(.print-active) { display: none !important; }
            .main-content { padding: 0 !important; max-width: 100% !important; margin: 0 !important; }
            
            /* ---- COMPACT Print Header ---- */
            .print-header { display: block !important; margin: 0 0 3px 0; padding: 0 0 3px 0; border-bottom: 1.5px solid #000; }
            .print-report-label { font-size: 7px; color: #999; text-transform: uppercase; letter-spacing: 1px; margin: 0; line-height: 1.1; }
            .print-project-name { font-size: 12px; font-weight: 700; color: #000; margin: 0; line-height: 1.2; }
            .print-title { font-size: 9px; font-weight: 600; color: #444; margin: 0 0 2px 0; line-height: 1.2; }
            .print-meta { font-size: 7px; color: #555; line-height: 1.2; margin: 0; }
            .print-filters { display: flex; gap: 5px; margin: 0; font-size: 7px; }
            .print-filter-item { background: #f0f0f0; padding: 1px 4px; border-radius: 2px; border: 0.5px solid #ccc; }
            .print-filter-label { font-weight: 700; color: #000; }
            .print-date { font-size: 6.5px; color: #999; margin-top: 1px; }
            
            /* ---- Card reset ---- */
            .card { background: transparent !important; border: none !important; border-radius: 0 !important; margin: 0 !important; box-shadow: none !important; overflow: visible !important; }
            .card-header { display: none !important; }
            .card-body { padding: 0 !important; }
            
            /* ==================================================
               GANTT TABLE - PRINT (B&W, repeating header)
               ================================================== */
            .gantt-visual-chart {
                display: block !important;
                overflow: visible !important;
                max-height: none !important;
                margin-bottom: 6px;
            }
            
            /* Table structure */
            .gantt-tbl { border: 1px solid #999 !important; border-radius: 0 !important; }
            .gantt-tbl thead { display: table-header-group !important; }
            .gantt-tbl thead th { position: relative !important; } /* unstick */
            .gantt-tbl tbody tr { page-break-inside: avoid; }
            .gantt-tbl .gantt-pkg-th { position: relative !important; } /* unstick for print */
            .gantt-tbl .gantt-pkg-td { position: relative !important; } /* unstick for print */
            
            /* Header: light gray bg, black text */
            .gantt-tbl thead th { background: #e8e8e8 !important; border-color: #999 !important; }
            .gantt-tbl thead th div[style*="color:#14b8a6"] { color: #000 !important; }
            .gantt-tbl thead th div[style*="color:#94a3b8"] { color: #555 !important; }
            .gantt-tbl th[style*="color:white"], .gantt-tbl th[style*="color: white"] { color: #000 !important; }
            
            /* Row backgrounds: white/light gray */
            .gantt-tbl td[style*="rgba(15,23,42"] { background: #fff !important; }
            .gantt-tbl td[style*="rgba(30,41,59"] { background: #f8f8f8 !important; }
            .gantt-tbl td { border-color: #ddd !important; }
            
            /* Package name text: black */
            .gantt-tbl div[style*="color:#e2e8f0"] { color: #000 !important; }
            .gantt-tbl div[style*="color:#94a3b8"] { color: #555 !important; }
            
            /* Grid: subtle */
            .gantt-tbl div[style*="opacity:0.3"] { opacity: 0.06 !important; background: #000 !important; }
            .gantt-tbl div[style*="border-right:1px solid #475569"] { border-right-color: #ddd !important; }
            
            /* Date labels: dark */
            .gantt-tbl div[style*="text-shadow"] { text-shadow: none !important; color: #000 !important; }
            
            /* Today marker */
            .gantt-tbl div[style*="background:#f59e0b"] { background: #e65100 !important; }
            .gantt-visual-chart div[style*="color:#f59e0b"] { color: #e65100 !important; }
            .gantt-visual-chart div[style*="border:1px solid #f59e0b"] { border-color: #e65100 !important; }
            
            /* Preserve triangle colors */
            .gantt-tbl div[style*="border-top:12px solid"] { filter: none !important; }
            .gantt-tbl div[style*="drop-shadow"] { filter: none !important; }
            
            /* Print gantt legend (inline under chart) */
            .print-gantt-inline-legend {
                display: flex !important;
                flex-wrap: wrap;
                gap: 8px;
                margin-top: 3px;
                padding: 3px 8px;
                background: #f5f5f5 !important;
                border: 0.5px solid #ccc !important;
                border-radius: 2px;
                font-size: 7px;
                color: #333;
            }
            .print-gantt-inline-legend .pgl-i { display: flex; align-items: center; gap: 3px; }
            .print-gantt-inline-legend .pgl-m { width: 8px; height: 8px; display: inline-block; print-color-adjust: exact; -webkit-print-color-adjust: exact; border-radius: 1px; }
            
            /* ---- HIDE the HTML table gantt (not needed, visual gantt shown) ---- */
            .gantt-print-chart { display: none !important; }
            
            /* ---- Section divider ---- */
            .print-table-section-title { display: block !important; font-size: 9px; font-weight: 700; color: #000; margin: 6px 0 2px 0; padding: 0 0 1px 0; border-bottom: 1px solid #333; }
            
            /* ---- Detail Table (with repeating header) ---- */
            .gantt-print-table { display: table !important; }
            .gantt-table { border-collapse: collapse; width: 100%; table-layout: fixed; }
            .gantt-table thead { display: table-header-group !important; }
            .gantt-table thead tr th { background: #e0e0e0 !important; color: #000 !important; font-weight: 700 !important; border: 0.5px solid #999 !important; padding: 2px 3px !important; font-size: 7px !important; }
            .gantt-table tbody tr { page-break-inside: avoid; }
            .gantt-table tbody td { border: 0.5px solid #ccc !important; padding: 1px 2px !important; font-size: 6.5px !important; color: #000 !important; vertical-align: middle; }
            .gantt-table .pkg-name-cell { background: #f9f9f9 !important; font-weight: 600 !important; font-size: 7px !important; }
            .gantt-table .pkg-vendor-cell { font-size: 6.5px !important; color: #555 !important; }
            .gantt-status-delayed { color: #dc2626 !important; font-weight: 700 !important; }
            .gantt-status-completed { color: #059669 !important; font-weight: 600 !important; }
            
            @page { size: A4 landscape; margin: 8mm; }
            * { print-color-adjust: exact; -webkit-print-color-adjust: exact; }
        }
        
        /* Screen-only: hide print elements */
        .gantt-print-table { display: none !important; }
        .gantt-print-chart { display: none !important; }
        .print-table-section-title { display: none !important; }
        .print-gantt-inline-legend { display: none; }
        @media print {
            .gantt-print-table { display: table !important; }
            .print-table-section-title { display: block !important; }
            .print-gantt-inline-legend { display: flex !important; }
        }
    </style>
</head>
<body>
    <!-- PDF Loading Overlay -->
    <div class="pdf-loading-overlay" id="pdfLoadingOverlay">
        <div class="pdf-loading-spinner"></div>
        <div class="pdf-loading-text">Generating PDF Report...</div>
        <div class="pdf-loading-progress" id="pdfLoadingProgress">Capturing charts and data</div>
    </div>

    <!-- Import Data Modal -->
    <div class="modal-overlay" id="importModal">
        <div class="modal" style="max-width: 600px;">
            <div class="modal-header">
                <h3 class="modal-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="vertical-align: middle; margin-right: 0.5rem;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" /></svg>
                    Import Data
                </h3>
                <button class="modal-close" onclick="closeImportModal()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="import-zone" id="importZone" onclick="document.getElementById('importFileInput').click()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" /></svg>
                    <p class="import-zone-text">Click to select file or drag & drop here</p>
                    <p class="import-zone-hint">Supported format: JSON (.json)</p>
                </div>
                <input type="file" id="importFileInput" accept=".json" style="display: none;" onchange="handleImportFile(event)">
                
                <div class="import-file-info" id="importFileInfo" style="display: none;">
                    <div class="import-file-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>
                    </div>
                    <div class="import-file-details">
                        <div class="import-file-name" id="importFileName">-</div>
                        <div class="import-file-size" id="importFileSize">-</div>
                    </div>
                    <button class="import-file-remove" onclick="removeImportFile()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
                
                <div class="import-preview" id="importPreview">
                    <div class="import-preview-header">
                        <div class="import-preview-title">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            File Valid - Ready to Import
                        </div>
                    </div>
                    <div class="import-preview-stats">
                        <div class="import-stat">
                            <div class="import-stat-value" id="importProjectCount">0</div>
                            <div class="import-stat-label">Projects</div>
                        </div>
                        <div class="import-stat">
                            <div class="import-stat-value" id="importPackageCount">0</div>
                            <div class="import-stat-label">Packages</div>
                        </div>
                        <div class="import-stat">
                            <div class="import-stat-value" id="importRiskCount">0</div>
                            <div class="import-stat-label">Risks</div>
                        </div>
                    </div>
                    
                    <div class="import-options">
                        <div class="import-options-title">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>
                            Import Options
                        </div>
                        <div class="import-radio-group">
                            <label class="import-radio">
                                <input type="radio" name="importMode" value="replace" checked>
                                <div class="import-radio-text">
                                    <div class="import-radio-label">Replace All Data</div>
                                    <div class="import-radio-desc">Delete all existing data and replace with imported data</div>
                                </div>
                            </label>
                            <label class="import-radio">
                                <input type="radio" name="importMode" value="merge">
                                <div class="import-radio-text">
                                    <div class="import-radio-label">Merge with Existing Data</div>
                                    <div class="import-radio-desc">Add imported data to existing data (may create duplicates)</div>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeImportModal()">Cancel</button>
                <button class="btn btn-primary" id="importConfirmBtn" onclick="confirmImport()" disabled>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" /></svg>
                    Import Data
                </button>
            </div>
        </div>
    </div>

    <header class="header">
        <div class="header-content">
            <div class="header-top">
                <div class="logo-section">
                    <div class="logo-icon"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" /></svg></div>
                    <div class="logo-text"><h1>Procurement Management System</h1><p>End-to-End Procurement Tracking</p></div>
                </div>
                <div class="header-actions">
                    <select class="project-select" id="projectSelect" onchange="changeProject()"></select>
                    <!-- Data Management Dropdown -->
                    <div class="data-dropdown">
                        <button class="btn btn-secondary" onclick="toggleDataDropdown()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4" /></svg>
                            Data
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                        </button>
                        <div class="data-dropdown-content" id="dataDropdown">
                            <div class="data-dropdown-header">Export Data</div>
                            <button class="data-dropdown-item" onclick="exportAllData()">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" /></svg>
                                Export All Data (JSON)
                            </button>
                            <button class="data-dropdown-item" onclick="exportProjectData()">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" /></svg>
                                Export Current Project
                            </button>
                            <div class="data-dropdown-divider"></div>
                            <div class="data-dropdown-header">Import Data</div>
                            <button class="data-dropdown-item" onclick="openImportModal()">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" /></svg>
                                Import Data (JSON)
                            </button>
                            <div class="data-dropdown-divider"></div>
                            <div class="data-dropdown-header">Manage Data</div>
                            <button class="data-dropdown-item" onclick="resetToDefaults()">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" /></svg>
                                Reset to Default
                            </button>
                            <button class="data-dropdown-item" onclick="clearAllData()" style="color: #f87171;">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="color: #f87171;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg>
                                Clear All Data
                            </button>
                            <button class="data-dropdown-item" onclick="clearCacheReload()" style="color: #f59e0b;">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="color: #f59e0b;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01M3 12a9 9 0 1118 0 9 9 0 01-18 0z" /></svg>
                                Clear Cache & Reload
                            </button>
                        </div>
                    </div>
                    <div class="export-dropdown">
                        <button class="btn btn-primary" onclick="toggleExportDropdown()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" /></svg>
                            Export
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                        </button>
                        <div class="export-dropdown-content" id="exportDropdown">
                            <div class="export-dropdown-header">PDF Reports</div>
                            <button class="export-dropdown-item" onclick="exportDashboardPDF()">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" /></svg>
                                Dashboard Report
                            </button>
                            <button class="export-dropdown-item" onclick="exportRiskAnalysisPDF()">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg>
                                Risk Analysis Report
                            </button>
                            <div class="export-dropdown-divider"></div>
                            <div class="export-dropdown-header">Quick PDF (Table Only)</div>
                            <button class="export-dropdown-item" onclick="exportQuickPDF('dashboard')">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>
                                Dashboard (Quick)
                            </button>
                            <button class="export-dropdown-item" onclick="exportQuickPDF('risks')">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>
                                Risk Analysis (Quick)
                            </button>
                            <div class="export-dropdown-divider"></div>
                            <div class="export-dropdown-header">Excel / Google Sheets</div>
                            <button class="export-dropdown-item" onclick="exportToExcel('all')">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
                                Export All Data (.xlsx)
                                <span style="font-size:0.7rem;color:#64748b;margin-left:auto;">3 sheets</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <nav class="nav-tabs">
                <button class="nav-tab active" data-tab="dashboard" onclick="switchTab('dashboard')"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" /></svg>Dashboard</button>
                <button class="nav-tab" data-tab="packages" onclick="switchTab('packages')"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" /></svg>Packages</button>
                <button class="nav-tab" data-tab="projects" onclick="switchTab('projects')"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" /></svg>Projects</button>
                <button class="nav-tab" data-tab="risks" onclick="switchTab('risks')"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg>Risk Analysis</button>
                <button class="nav-tab" data-tab="schedule" onclick="switchTab('schedule')"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>Delivery Schedule</button>
                <button class="nav-tab" data-tab="inquiry" onclick="switchTab('inquiry')"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" /></svg>Inquiry Plan</button>
            </nav>
        </div>
    </header>

    <main class="main-content">
        <div id="dashboard" class="tab-content active">
            <div class="stats-grid" id="statsGrid"></div>
            <div class="charts-grid">
                <div class="card"><div class="card-header"><h3 class="card-title">Progress by Discipline</h3></div><div class="card-body"><div class="chart-container"><canvas id="disciplineChart"></canvas></div></div></div>
                <div class="card">
                    <div class="card-header">
                        <div class="scurve-header">
                            <h3 class="card-title">Overall S-Curve <span id="scurveDynamicInfo" style="font-size:0.75rem;color:#94a3b8;font-weight:400;margin-left:0.5rem;">(Dynamic S-Curve)</span></h3>
                            <div style="display:flex;align-items:center;gap:0.75rem;">
                                <div class="status-date-picker">
                                    <label style="font-size:0.75rem;color:#94a3b8;margin-right:0.5rem;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="vertical-align:middle;margin-right:0.25rem;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
                                        Cut-off Date:
                                    </label>
                                    <input type="date" id="scurveCutoffDate" class="cutoff-date-input" onchange="onCutoffDateChange()">
                                    <button class="btn-today" onclick="setTodayAsCutoff()" title="Set to Today">Today</button>
                                </div>
                                <button class="btn-settings" onclick="openWeightFactorModal()">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                                    Weight Factor
                                </button>
                            </div>
                        </div>
                        <div class="scurve-legend">
                            <div class="legend-item"><div class="legend-color" style="background:#14b8a6;"></div>Plan (S-Curve)</div>
                            <div class="legend-item"><div class="legend-color" style="background:#3b82f6;"></div>Actual (S-Curve)</div>
                        </div>
                        <div id="scurveDateRange" style="font-size:0.75rem;color:#64748b;margin-top:0.5rem;"></div>
                    </div>
                    <div class="card-body"><div class="chart-container"><canvas id="scurveChart"></canvas></div></div>
                </div>
            </div>
            <div class="card" id="criticalSection"></div>
            <div class="card">
                <div class="card-header">
                    <div class="filter-bar">
                        <h3 class="card-title">All Packages</h3>
                        <div class="filter-group">
                            <div class="search-input"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg><input type="text" id="searchInput" placeholder="Search..." oninput="filterPackages()"></div>
                            <select class="filter-select" id="disciplineFilter" onchange="filterPackages()"><option value="">All Disciplines</option><option value="Process">Process</option><option value="Mechanical">Mechanical</option><option value="Piping">Piping</option><option value="Electrical">Electrical</option><option value="Instrument">Instrument</option><option value="Civil">Civil</option></select>
                            <select class="filter-select" id="poStatusFilter" onchange="filterPackages()"><option value="">All PO Status</option><option value="issued">Issued</option><option value="pending">Pending</option></select>
                            <select class="filter-select" id="pkgSortBy" onchange="filterPackages()" title="Sort by">
                                <option value="input">Sort: Input Order</option>
                                <option value="discipline">Sort: Discipline</option>
                                <option value="vendor">Sort: Vendor</option>
                                <option value="po_date">Sort: PO Date</option>
                                <option value="po_no">Sort: PO Number</option>
                                <option value="mfg_progress_asc">Sort: Progress </option>
                                <option value="mfg_progress_desc">Sort: Progress </option>
                            </select>
                            <button class="btn btn-primary" onclick="openPackageModal()"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>Add Package</button>
                        </div>
                    </div>
                </div>
                <div class="table-wrapper"><table class="data-table"><thead><tr><th>Package</th><th>Discipline</th><th>Vendor</th><th>COO</th><th>PO Status</th><th>Mfg Progress</th><th>Actions</th></tr></thead><tbody id="packagesTableBody"></tbody></table></div>
            </div>
        </div>

        <div id="packages" class="tab-content" style="position:relative;">
            <div id="pkgStickyHeader" style="position:sticky;top:0;z-index:15;background:#0f172a;padding:0.75rem 1.5rem;margin:-1.5rem -1.5rem 1rem -1.5rem;border-bottom:1px solid #1e293b;">
                <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:0.75rem;">
                    <h2 style="font-size:1.35rem;font-weight:700;color:white;margin:0;white-space:nowrap;">Procurement Packages</h2>
                    <div style="display:flex;align-items:center;gap:0.75rem;flex:1;justify-content:flex-end;">
                        <div class="search-input" style="flex:1;max-width:320px;">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                            <input type="text" id="pkgCardsSearch" placeholder="Search package, contract, vendor, COO..." oninput="renderPackagesCards()">
                        </div>
                        <select class="filter-select" id="pkgCardsDiscipline" onchange="renderPackagesCards()" style="min-width:130px;">
                            <option value="">All Disciplines</option>
                            <option value="Mechanical">Mechanical</option>
                            <option value="Piping">Piping</option>
                            <option value="Electrical">Electrical</option>
                            <option value="Instrument">Instrument</option>
                            <option value="Civil">Civil</option>
                        </select>
                        <select class="filter-select" id="pkgCardsSortBy" onchange="renderPackagesCards()" style="min-width:150px;">
                            <option value="input">Sort: Input Order</option>
                            <option value="discipline">Sort: Discipline</option>
                            <option value="vendor">Sort: Vendor</option>
                            <option value="po_date">Sort: PO Date</option>
                            <option value="po_no">Sort: PO Number</option>
                            <option value="mfg_progress_asc">Sort: Progress </option>
                            <option value="mfg_progress_desc">Sort: Progress </option>
                        </select>
                        <button class="btn btn-primary" onclick="openPackageModal()" style="white-space:nowrap;"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>New Package</button>
                    </div>
                </div>
            </div>
            <div id="packagesCards"></div>
        </div>

        <div id="projects" class="tab-content">
            <div class="page-header"><h2 class="page-title">Project Management</h2><button class="btn btn-primary" onclick="openProjectModal()"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>New Project</button></div>
            <div id="projectsCards"></div>
        </div>

        <div id="risks" class="tab-content">
            <div class="page-header">
                <h2 class="page-title">Risk Analysis</h2>
                <div style="display:flex;gap:0.75rem;flex-wrap:wrap;">
                    <button class="btn btn-secondary" onclick="autoGenerateRisks()" style="background:linear-gradient(135deg,#8b5cf6,#a78bfa);">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                        Auto-Generate Risks
                    </button>
                    <button class="btn btn-primary" onclick="openRiskModal()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>
                        Add Manual Risk
                    </button>
                </div>
            </div>
            
            <!-- Risk Statistics -->
            <div class="risk-stats" id="riskStats"></div>
            
            <!-- Charts Section -->
            <div class="charts-grid">
                <div class="card"><div class="card-header"><h3 class="card-title">Risk Distribution</h3></div><div class="card-body"><div class="chart-container"><canvas id="riskPieChart"></canvas></div></div></div>
                <div class="card"><div class="card-header"><h3 class="card-title">Risk Heat Map</h3></div><div class="card-body"><div id="riskHeatMap" class="heat-map"></div></div></div>
            </div>
            
            <!-- Risk Grouping Section (Auto + Manual Combined) -->
            <div class="card">
                <div class="card-header" style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:0.75rem;">
                    <h3 class="card-title" style="display:flex;align-items:center;gap:0.5rem;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" /></svg>
                        Risk Grouping
                    </h3>
                    <div style="display:flex;gap:0.5rem;align-items:center;">
                        <select class="filter-select" id="riskGroupBy" onchange="updateRiskGrouping()" style="min-width:150px;">
                            <option value="category">Group by Category</option>
                            <option value="level">Group by Risk Level</option>
                            <option value="package">Group by Package</option>
                            <option value="status">Group by Status</option>
                            <option value="source">Group by Source</option>
                        </select>
                    </div>
                </div>
                <div class="card-body" id="riskGroupingContent"></div>
            </div>
            
            <!-- Risk Register Table -->
            <div class="card">
                <div class="card-header" style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:0.75rem;">
                    <h3 class="card-title">Risk Register</h3>
                    <div style="display:flex;gap:0.5rem;align-items:center;flex-wrap:wrap;">
                        <select class="filter-select" id="riskFilterCategory" onchange="filterRisks()" style="min-width:120px;">
                            <option value="">All Categories</option>
                            <option value="Schedule">Schedule</option>
                            <option value="Technical">Technical</option>
                            <option value="Commercial">Commercial</option>
                            <option value="Logistics">Logistics</option>
                            <option value="HSE">HSE</option>
                        </select>
                        <select class="filter-select" id="riskFilterType" onchange="filterRisks()" style="min-width:120px;">
                            <option value="">All Types</option>
                            <option value="auto">Auto-Generated</option>
                            <option value="manual">Manual Entry</option>
                        </select>
                        <select class="filter-select" id="riskFilterLevel" onchange="filterRisks()" style="min-width:100px;">
                            <option value="">All Levels</option>
                            <option value="Critical">Critical</option>
                            <option value="Medium">Medium</option>
                            <option value="Low">Low</option>
                        </select>
                        <select class="filter-select" id="riskFilterStatus" onchange="filterRisks()" style="min-width:100px;">
                            <option value="">All Status</option>
                            <option value="Open">Open</option>
                            <option value="Monitoring">Monitoring</option>
                            <option value="Closed">Closed</option>
                        </select>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Package</th>
                                <th>Category</th>
                                <th>Description</th>
                                <th>Level</th>
                                <th>Status</th>
                                <th>Source</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="riskTableBody"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Schedule Tab -->
        <div id="schedule" class="tab-content">
            <!-- Print-only header -->
            <div class="print-header" style="display: none;">
                <div class="print-report-label">PROCUREMENT SCHEDULE REPORT</div>
                <div class="print-project-name" id="printProjectName"></div>
                <div class="print-title">Delivery & Material Schedule</div>
                <div class="print-meta">
                    <div class="print-filters">
                        <div class="print-filter-item">
                            <span class="print-filter-label">Discipline:</span>
                            <span id="printDisciplineFilter"></span>
                        </div>
                        <div class="print-filter-item">
                            <span class="print-filter-label">Status:</span>
                            <span id="printStatusFilter"></span>
                        </div>
                        <div class="print-filter-item">
                            <span class="print-filter-label">View:</span>
                            <span id="printViewFilter"></span>
                        </div>
                    </div>
                    <div class="print-date" id="printGeneratedDate"></div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header no-print">
                    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                        <h2 class="card-title">Delivery & Material Schedule</h2>
                        <div style="display: flex; gap: 0.5rem; align-items: center;">
                            <button class="btn btn-secondary" onclick="exportSchedule()">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" style="width: 18px; height: 18px;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/></svg>
                                Export
                            </button>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <!-- Filters -->
                    <div class="filter-bar no-print" style="margin-bottom: 1.5rem;">
                        <div class="filter-group">
                            <label style="color: #94a3b8; font-size: 0.875rem; margin-right: 0.5rem;">View:</label>
                            <select class="filter-select" id="scheduleViewFilter" onchange="renderScheduleGantt()">
                                <option value="all">View All</option>
                                <option value="delivery">Delivery Date</option>
                                <option value="material">On Site Date</option>
                                <option value="fat">FAT Date</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label style="color: #94a3b8; font-size: 0.875rem; margin-right: 0.5rem;">Discipline:</label>
                            <select class="filter-select" id="scheduleDisciplineFilter" onchange="renderScheduleGantt()">
                                <option value="all">All Disciplines</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label style="color: #94a3b8; font-size: 0.875rem; margin-right: 0.5rem;">Status:</label>
                            <select class="filter-select" id="scheduleStatusFilter" onchange="renderScheduleGantt()">
                                <option value="all">All Status</option>
                                <option value="upcoming">Upcoming</option>
                                <option value="ongoing">Ongoing</option>
                                <option value="delayed">Delayed</option>
                                <option value="completed">Completed</option>
                            </select>
                        </div>
                        <div class="filter-group" style="margin-left: auto;">
                            <button class="btn btn-secondary" onclick="printScheduleReport()" style="display: flex; align-items: center; gap: 0.5rem;">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" style="width: 18px; height: 18px;">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"/>
                                </svg>
                                Print Schedule Report
                            </button>
                        </div>
                    </div>

                    <!-- Gantt Chart Container (visual - shown in both screen and print) -->
                    <div id="ganttChartContainer" class="gantt-visual-chart" style="overflow-x: auto; overflow-y: auto; max-height: 600px;">
                        <!-- Gantt chart will be rendered here -->
                    </div>
                    
                    <!-- Print-only legend (under visual gantt) -->
                    <div class="print-gantt-inline-legend" id="printGanttLegend">
                        <div class="pgl-i"><span class="pgl-m" style="background:#0891b2;"></span><span>Plan Delivery</span></div>
                        <div class="pgl-i"><span class="pgl-m" style="background:#0d9488;"></span><span>Actual Delivery</span></div>
                        <div class="pgl-i"><span class="pgl-m" style="background:#7c3aed;"></span><span>Plan On Site</span></div>
                        <div class="pgl-i"><span class="pgl-m" style="background:#9333ea;"></span><span>Actual On Site</span></div>
                        <div class="pgl-i"><span class="pgl-m" style="background:#d97706;"></span><span>Plan FAT</span></div>
                        <div class="pgl-i"><span class="pgl-m" style="background:#059669;"></span><span>Actual FAT</span></div>
                        <div class="pgl-i"><span class="pgl-m" style="background:rgba(220,38,38,0.3);border:1px solid #dc2626;"></span><span>Delayed</span></div>
                        <div class="pgl-i"><span style="color:#e65100;font-weight:700;"></span><span>Today</span></div>
                    </div>
                    
                    <!-- Print-only Schedule Detail Table (with repeating header) -->
                    <div id="ganttPrintTable" class="gantt-print-table">
                        <!-- Generated by printScheduleReport() -->
                    </div>

                    <!-- Legend -->
                    <div class="schedule-legend" style="margin-top: 1.5rem; padding: 1rem; background: rgba(15, 23, 42, 0.5); border-radius: 12px;">
                        <div style="display: flex; flex-wrap: wrap; gap: 1.5rem; font-size: 0.875rem;">
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 0; height: 0; border-left: 6px solid transparent; border-right: 6px solid transparent; border-top: 12px solid #06b6d4;"></div>
                                <span style="color: #94a3b8;">Plan Delivery</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 0; height: 0; border-left: 6px solid transparent; border-right: 6px solid transparent; border-top: 12px solid #14b8a6;"></div>
                                <span style="color: #94a3b8;">Actual Delivery</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 0; height: 0; border-left: 6px solid transparent; border-right: 6px solid transparent; border-top: 12px solid #8b5cf6;"></div>
                                <span style="color: #94a3b8;">Plan Material On Site</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 0; height: 0; border-left: 6px solid transparent; border-right: 6px solid transparent; border-top: 12px solid #a855f7;"></div>
                                <span style="color: #94a3b8;">Actual Material On Site</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 0; height: 0; border-left: 6px solid transparent; border-right: 6px solid transparent; border-top: 12px solid #f59e0b;"></div>
                                <span style="color: #94a3b8;">Plan FAT</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 0; height: 0; border-left: 6px solid transparent; border-right: 6px solid transparent; border-top: 12px solid #10b981;"></div>
                                <span style="color: #94a3b8;">Actual FAT</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 20px; height: 8px; background: #ef4444; border-radius: 2px;"></div>
                                <span style="color: #94a3b8;">Delayed (Bar)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Schedule Statistics -->
            <div class="stats-grid" style="margin-top: 1.5rem;">
                <div class="stat-card">
                    <div class="stat-card-content">
                        <div>
                            <div class="stat-label">Total Packages</div>
                            <div class="stat-value" id="schedTotalPackages">0</div>
                        </div>
                        <div class="stat-icon blue">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/></svg>
                        </div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-content">
                        <div>
                            <div class="stat-label">In Transit</div>
                            <div class="stat-value" id="schedInTransit">0</div>
                        </div>
                        <div class="stat-icon teal">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
                        </div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-content">
                        <div>
                            <div class="stat-label">On Site</div>
                            <div class="stat-value" id="schedOnSite">0</div>
                        </div>
                        <div class="stat-icon emerald">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                        </div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-content">
                        <div>
                            <div class="stat-label">Delayed</div>
                            <div class="stat-value" id="schedDelayed">0</div>
                        </div>
                        <div class="stat-icon red">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ========== INQUIRY PLAN TAB ========== -->
        <div id="inquiry" class="tab-content">
            <!-- Print-only header for inquiry -->
            <div class="print-header print-header-inquiry" style="display: none;">
                <div class="print-report-label">INQUIRY & PROCUREMENT PLAN REPORT</div>
                <div class="print-project-name" id="printInqProjectName"></div>
                <div class="print-title">Milestone Schedule</div>
                <div class="print-meta">
                    <div class="print-filters">
                        <div class="print-filter-item"><span class="print-filter-label">Discipline:</span><span id="printInqDiscipline"></span></div>
                        <div class="print-filter-item"><span class="print-filter-label">Status:</span><span id="printInqStatus"></span></div>
                        <div class="print-filter-item"><span class="print-filter-label">View:</span><span id="printInqView"></span></div>
                    </div>
                    <div class="print-date" id="printInqDate"></div>
                </div>
            </div>

            <div class="card">
                <div class="card-header no-print">
                    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                        <h2 class="card-title">Inquiry & Procurement Plan</h2>
                    </div>
                </div>
                <div class="card-body">
                    <!-- Filters -->
                    <div class="filter-bar no-print" style="margin-bottom: 1.5rem;">
                        <div class="filter-group">
                            <label style="color: #94a3b8; font-size: 0.875rem; margin-right: 0.5rem;">View:</label>
                            <select class="filter-select" id="inquiryViewFilter" onchange="renderInquiryGantt()">
                                <option value="all">View All</option>
                                <option value="issueRFQ">Issue RFQ</option>
                                <option value="receiveQuotation">Receive Quotation</option>
                                <option value="issueTBE">Issue TBE</option>
                                <option value="issueCBE">Issue CBE</option>
                                <option value="finalNegotiation">Final Negotiation</option>
                                <option value="issuePO">Issue PO</option>
                                <option value="kom">KOM</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label style="color: #94a3b8; font-size: 0.875rem; margin-right: 0.5rem;">Discipline:</label>
                            <select class="filter-select" id="inquiryDisciplineFilter" onchange="renderInquiryGantt()">
                                <option value="all">All Disciplines</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label style="color: #94a3b8; font-size: 0.875rem; margin-right: 0.5rem;">Status:</label>
                            <select class="filter-select" id="inquiryStatusFilter" onchange="renderInquiryGantt()">
                                <option value="all">All Status</option>
                                <option value="upcoming">Upcoming</option>
                                <option value="ongoing">Ongoing</option>
                                <option value="delayed">Delayed</option>
                                <option value="completed">Completed</option>
                            </select>
                        </div>
                        <div class="filter-group" style="margin-left: auto;">
                            <button class="btn btn-secondary" onclick="printInquiryReport()" style="display: flex; align-items: center; gap: 0.5rem;">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" style="width: 18px; height: 18px;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"/></svg>
                                Print Inquiry Report
                            </button>
                        </div>
                    </div>

                    <!-- Gantt Chart Container -->
                    <div id="inquiryGanttContainer" class="gantt-visual-chart" style="overflow-x: auto; overflow-y: auto; max-height: 600px;">
                    </div>
                    
                    <!-- Print-only Inquiry Detail Table -->
                    <div id="inquiryPrintTable" class="gantt-print-table">
                    </div>

                    <!-- Legend -->
                    <div class="no-print" style="margin-top: 1.5rem; padding: 1rem; background: rgba(15, 23, 42, 0.5); border-radius: 12px;">
                        <div style="display: flex; flex-wrap: wrap; gap: 1.5rem; font-size: 0.875rem;">
                            <div style="display: flex; align-items: center; gap: 0.5rem;"><div style="width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:12px solid #06b6d4;"></div><span style="color:#94a3b8;">Issue RFQ</span></div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;"><div style="width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:12px solid #8b5cf6;"></div><span style="color:#94a3b8;">Receive Quotation</span></div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;"><div style="width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:12px solid #f59e0b;"></div><span style="color:#94a3b8;">Issue TBE</span></div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;"><div style="width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:12px solid #f97316;"></div><span style="color:#94a3b8;">Issue CBE</span></div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;"><div style="width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:12px solid #ec4899;"></div><span style="color:#94a3b8;">Final Negotiation</span></div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;"><div style="width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:12px solid #10b981;"></div><span style="color:#94a3b8;">Issue PO</span></div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;"><div style="width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:12px solid #3b82f6;"></div><span style="color:#94a3b8;">KOM</span></div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;"><span style="font-size:0.7rem;color:#94a3b8;"> Plan</span> <span style="font-size:0.7rem;color:#22d3ee;"> Actual</span></div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;"><div style="width:20px;height:8px;background:#ef4444;border-radius:2px;"></div><span style="color:#94a3b8;">Delayed</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Inquiry Statistics -->
            <div class="stats-grid" style="margin-top: 1.5rem;">
                <div class="stat-card"><div class="stat-card-content"><div><div class="stat-label">Total Packages</div><div class="stat-value" id="inqTotalPkgs">0</div></div><div class="stat-icon blue"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/></svg></div></div></div>
                <div class="stat-card"><div class="stat-card-content"><div><div class="stat-label">PO Issued</div><div class="stat-value" id="inqPOIssued">0</div></div><div class="stat-icon emerald"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg></div></div></div>
                <div class="stat-card"><div class="stat-card-content"><div><div class="stat-label">PO Pending</div><div class="stat-value" id="inqPOPending">0</div></div><div class="stat-icon red"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg></div></div></div>
                <div class="stat-card"><div class="stat-card-content"><div><div class="stat-label">Delayed</div><div class="stat-value" id="inqDelayed">0</div></div><div class="stat-icon red"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg></div></div></div>
            </div>
        </div>
    </main>

    <!-- Risk View Modal -->
    <div class="modal-overlay" id="riskViewModal">
        <div class="modal" style="max-width:700px;">
            <div class="modal-header">
                <h2 class="modal-title" id="riskViewTitle">Risk Details</h2>
                <button class="modal-close" onclick="closeRiskViewModal()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <div class="modal-body" id="riskViewContent"></div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeRiskViewModal()">Close</button>
                <button class="btn btn-primary" id="riskViewEditBtn" onclick="editRiskFromView()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                    Edit Risk
                </button>
            </div>
        </div>
    </div>

    <!-- Risk Group View Modal -->
    <div class="modal-overlay" id="riskGroupViewModal">
        <div class="modal" style="max-width:900px;">
            <div class="modal-header">
                <h2 class="modal-title" id="riskGroupViewTitle">Risk Group Details</h2>
                <button class="modal-close" onclick="closeRiskGroupViewModal()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <div class="modal-body" id="riskGroupViewContent" style="max-height:70vh;overflow-y:auto;"></div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeRiskGroupViewModal()">Close</button>
            </div>
        </div>
    </div>

    <!-- Package Modal -->
    <div class="modal-overlay" id="packageModal">
        <div class="modal">
            <div class="modal-header"><h2 class="modal-title" id="packageModalTitle">Add Package</h2><button class="modal-close" onclick="closePackageModal()"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg></button></div>
            <div class="modal-body">
                <div class="form-tabs">
                    <button class="form-tab active" onclick="switchFormTab('master')">Master Data</button>
                    <button class="form-tab" onclick="switchFormTab('milestones')">Milestones</button>
                    <button class="form-tab" onclick="switchFormTab('engineering')">Engineering</button>
                    <button class="form-tab" onclick="switchFormTab('manufacture')">Manufacture</button>
                    <button class="form-tab" onclick="switchFormTab('delivery')">Delivery</button>
                </div>
                <form id="packageForm">
                    <input type="hidden" id="packageId">
                    <div class="form-section active" id="masterSection">
                        <div class="form-grid">
                            <div class="form-group"><label class="form-label">Initiation</label><select class="form-select" id="initiation"><option value="HO">HO</option><option value="Site">Site</option></select></div>
                            <div class="form-group"><label class="form-label">Discipline</label><select class="form-select" id="discipline"><option value="Process">Process</option><option value="Mechanical">Mechanical</option><option value="Piping">Piping</option><option value="Electrical">Electrical</option><option value="Instrument">Instrument</option><option value="Civil">Civil</option></select></div>
                            <div class="form-group"><label class="form-label">Area</label><select class="form-select" id="area"><option value="GPP">GPP</option><option value="SAGS">SAGS</option></select></div>
                            <div class="form-group"><label class="form-label">RFQ No</label><input type="text" class="form-input" id="rfqNo" placeholder="RFQ-2024-XXX"></div>
                            <div class="form-group full"><label class="form-label">Package Name</label><input type="text" class="form-input" id="packageName" placeholder="Enter package name"></div>
                            <div class="form-group full"><label class="form-label">Description</label><textarea class="form-textarea" id="packageDesc" rows="2" placeholder="Enter description"></textarea></div>
                            <div class="form-group"><label class="form-label">Contract No</label><input type="text" class="form-input" id="contractNo" placeholder="PO-2024-XXX"></div>
                            <div class="form-group"><label class="form-label">Vendor Name</label><input type="text" class="form-input" id="vendorName" placeholder="Vendor name"></div>
                            <div class="form-group full"><label class="form-label">Country of Origin</label><select class="form-select" id="coo"><option value="">Select country</option></select></div>
                        </div>
                    </div>
                    <div class="form-section" id="milestonesSection"><div id="milestonesFields"></div></div>
                    <div class="form-section" id="engineeringSection">
                        <div class="form-checkbox"><input type="checkbox" id="engRequired"><label for="engRequired">Engineering Required</label></div>
                        <div id="engineeringFields" style="margin-top:1rem;display:none;">
                            <div class="form-grid">
                                <div class="form-group"><label class="form-label">Plan Start</label><input type="date" class="form-input" id="engPlanStart" onchange="calcEngineeringPlanProgress()"></div>
                                <div class="form-group"><label class="form-label">Plan Finish</label><input type="date" class="form-input" id="engPlanFinish" onchange="calcEngineeringPlanProgress()"></div>
                                <div class="form-group"><label class="form-label">Actual Start</label><input type="date" class="form-input" id="engActualStart"></div>
                                <div class="form-group"><label class="form-label">Actual Finish</label><input type="date" class="form-input" id="engActualFinish"></div>
                                <div class="form-group"><label class="form-label">Status Date (for Plan %)</label><input type="date" class="form-input" id="engStatusDate" onchange="calcEngineeringPlanProgress()"></div>
                                <div class="form-group"><label class="form-label">Plan Progress (S-Curve)</label><div class="scurve-display" id="engPlanProgress">0%</div></div>
                                <div class="form-group"><label class="form-label">Actual Progress (%)</label><input type="number" class="form-input" id="engActualProgress" min="0" max="100" value="0"></div>
                                <div class="form-group full"><label class="form-label">Remark</label><textarea class="form-textarea" id="engRemark" rows="2"></textarea></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-section" id="manufactureSection">
                        <div class="form-grid">
                            <div class="form-group"><label class="form-label">Plan Start</label><input type="date" class="form-input" id="mfgPlanStart" onchange="calcManufacturePlanProgress()"></div>
                            <div class="form-group"><label class="form-label">Plan Finish</label><input type="date" class="form-input" id="mfgPlanFinish" onchange="calcManufacturePlanProgress()"></div>
                            <div class="form-group"><label class="form-label">Actual Start</label><input type="date" class="form-input" id="mfgActualStart"></div>
                            <div class="form-group"><label class="form-label">Actual Finish</label><input type="date" class="form-input" id="mfgActualFinish"></div>
                            <div class="form-group"><label class="form-label">Status Date (for Plan %)</label><input type="date" class="form-input" id="mfgStatusDate" onchange="calcManufacturePlanProgress()"></div>
                            <div class="form-group"><label class="form-label">Plan Progress (S-Curve)</label><div class="scurve-display" id="mfgPlanProgress">0%</div></div>
                            <div class="form-group"><label class="form-label">Actual Progress (%)</label><input type="number" class="form-input" id="mfgActualProgress" min="0" max="100" value="0"></div>
                            <div class="form-group full"><label class="form-label">Remark</label><textarea class="form-textarea" id="mfgRemark" rows="2"></textarea></div>
                        </div>
                        
                        <!-- FAT Section -->
                        <div style="margin-top:1rem;padding:1rem;background:rgba(139,92,246,0.1);border-radius:12px;border:1px solid rgba(139,92,246,0.2);">
                            <h4 style="color:#a78bfa;font-size:0.875rem;font-weight:600;margin-bottom:1rem;display:flex;align-items:center;gap:0.5rem;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                Factory Acceptance Test (FAT)
                            </h4>
                            <div class="form-grid">
                                <div class="form-group"><label class="form-label">Plan FAT Date</label><input type="date" class="form-input" id="mfgPlanFAT"></div>
                                <div class="form-group"><label class="form-label">Actual FAT Date</label><input type="date" class="form-input" id="mfgActualFAT"></div>
                                <div class="form-group"><label class="form-label">FAT Status</label>
                                    <div class="scurve-display" id="fatStatusDisplay" style="background:rgba(100,116,139,0.2);color:#94a3b8;">Pending</div>
                                </div>
                                <div class="form-group"><label class="form-label">FAT Result</label>
                                    <select class="form-select" id="mfgFATResult">
                                        <option value="">Not Yet</option>
                                        <option value="Passed">Passed</option>
                                        <option value="Passed with Remarks">Passed with Remarks</option>
                                        <option value="Failed">Failed</option>
                                    </select>
                                </div>
                                <div class="form-group full"><label class="form-label">FAT Remarks</label><textarea class="form-textarea" id="mfgFATRemarks" rows="2" placeholder="FAT findings, punch list items, etc."></textarea></div>
                            </div>
                        </div>
                    </div>
                    <div class="form-section" id="deliverySection">
                        <div class="form-grid">
                            <div class="form-group"><label class="form-label">Incoterm 2020</label><select class="form-select" id="incoterm" onchange="updateIncotermInfo()"></select></div>
                            <div class="form-group"><label class="form-label">Delivery Location</label><input type="text" class="form-input" id="deliveryLocation" placeholder="e.g., Tanjung Priok Port"></div>
                        </div>
                        <div class="incoterm-info" id="incotermInfo" style="display:none;"></div>
                        
                        <!-- Shipping Section -->
                        <div style="margin-top:1.5rem;padding:1rem;background:rgba(6,182,212,0.1);border-radius:12px;border:1px solid rgba(6,182,212,0.2);">
                            <h4 style="color:#22d3ee;font-size:0.875rem;font-weight:600;margin-bottom:1rem;display:flex;align-items:center;gap:0.5rem;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" /></svg>
                                Shipping / Delivery Status
                            </h4>
                            <div class="form-grid">
                                <div class="form-group"><label class="form-label">Plan Delivery 100%</label><input type="date" class="form-input" id="planDelivery100" onchange="calcDeliveryPlanStatus()"></div>
                                <div class="form-group"><label class="form-label">Actual Delivery 100%</label><input type="date" class="form-input" id="actualDelivery100"></div>
                                <div class="form-group"><label class="form-label">Status Date (for Plan %)</label><input type="date" class="form-input" id="shippingStatusDate" onchange="calcDeliveryPlanStatus()"></div>
                                <div class="form-group"><label class="form-label">Shipping Status Plan (%)</label><div class="scurve-display" id="shippingStatusPlanDisplay">0%</div></div>
                                <div class="form-group"><label class="form-label">Shipping Status Actual (%)</label><input type="number" class="form-input" id="shippingStatus" min="0" max="100" value="0"></div>
                            </div>
                        </div>
                        
                        <!-- Material at Site Section -->
                        <div style="margin-top:1rem;padding:1rem;background:rgba(16,185,129,0.1);border-radius:12px;border:1px solid rgba(16,185,129,0.2);">
                            <h4 style="color:#34d399;font-size:0.875rem;font-weight:600;margin-bottom:1rem;display:flex;align-items:center;gap:0.5rem;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" /></svg>
                                Material Received at Site
                            </h4>
                            <div class="form-grid">
                                <div class="form-group"><label class="form-label">Plan Material 100% at Site</label><input type="date" class="form-input" id="planMaterialAtSite100" onchange="calcDeliveryPlanStatus()"></div>
                                <div class="form-group"><label class="form-label">Actual Material 100% at Site</label><input type="date" class="form-input" id="actualMaterialAtSite100"></div>
                                <div class="form-group"><label class="form-label">Status Date (for Plan %)</label><input type="date" class="form-input" id="materialStatusDate" onchange="calcDeliveryPlanStatus()"></div>
                                <div class="form-group"><label class="form-label">Material at Site Plan (%)</label><div class="scurve-display" id="materialAtSitePlanDisplay">0%</div></div>
                                <div class="form-group"><label class="form-label">Material at Site Actual (%)</label><input type="number" class="form-input" id="materialReceivedActual" min="0" max="100" value="0"></div>
                            </div>
                        </div>
                        
                        <!-- Legacy fields for backward compatibility -->
                        <input type="hidden" id="deliveryPlanDate">
                        <input type="hidden" id="deliveryActualDate">
                        <input type="hidden" id="requiredAtSite">
                    </div>
                </form>
            </div>
            <div class="modal-footer"><button class="btn btn-secondary" onclick="closePackageModal()">Cancel</button><button class="btn btn-primary" onclick="savePackage()">Save</button></div>
        </div>
    </div>

    <!-- Project Modal -->
    <div class="modal-overlay" id="projectModal">
        <div class="modal">
            <div class="modal-header"><h2 class="modal-title" id="projectModalTitle">Add Project</h2><button class="modal-close" onclick="closeProjectModal()"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg></button></div>
            <div class="modal-body">
                <form id="projectForm">
                    <input type="hidden" id="projectId">
                    <div class="form-grid">
                        <div class="form-group full"><label class="form-label">Project Name</label><input type="text" class="form-input" id="projName" placeholder="Project name"></div>
                        <div class="form-group"><label class="form-label">Owner</label><input type="text" class="form-input" id="projOwner" placeholder="Owner"></div>
                        <div class="form-group"><label class="form-label">Contractor</label><input type="text" class="form-input" id="projContractor" placeholder="Contractor"></div>
                        <div class="form-group"><label class="form-label">Technology Provider</label><input type="text" class="form-input" id="projTechProvider" placeholder="Technology provider"></div>
                        <div class="form-group"><label class="form-label">Contract Type</label><select class="form-select" id="projContractType"><option value="EPC Lump Sum">EPC Lump Sum</option><option value="Turnkey">Turnkey</option><option value="Build & Design">Build & Design</option><option value="Unit Rate Basis">Unit Rate Basis</option><option value="EPCM">EPCM</option></select></div>
                        <div class="form-group"><label class="form-label">Contract Price (USD)</label><input type="number" class="form-input" id="projContractPrice" placeholder="Amount"></div>
                        <div class="form-group"><label class="form-label">Payment Term</label><select class="form-select" id="projPaymentTerm"><option value="Milestone Payment">Milestone Payment</option><option value="Progress Payment">Progress Payment</option><option value="Milestone + Progress">Milestone + Progress</option></select></div>
                        <div class="form-group"><label class="form-label">Start Date</label><input type="date" class="form-input" id="projStartDate"></div>
                        <div class="form-group"><label class="form-label">Finish Date</label><input type="date" class="form-input" id="projFinishDate"></div>
                        <div class="form-group"><label class="form-label">LD Delay (USD/day)</label><input type="number" class="form-input" id="projLdDelay" placeholder="Amount"></div>
                        <div class="form-group"><label class="form-label">LD Performance (USD/kW)</label><input type="number" class="form-input" id="projLdPerformance" placeholder="Amount"></div>
                        <div class="form-group"><label class="form-label">Guarantee Power (MW)</label><input type="number" class="form-input" id="projGuaranteePower" placeholder="MW"></div>
                        <div class="form-group full"><label class="form-label">Scope by Owner</label><textarea class="form-textarea" id="projScopeByOwner" rows="2" placeholder="Scope"></textarea></div>
                    </div>
                </form>
            </div>
            <div class="modal-footer"><button class="btn btn-secondary" onclick="closeProjectModal()">Cancel</button><button class="btn btn-primary" onclick="saveProject()">Save</button></div>
        </div>
    </div>

    <!-- Risk Modal -->
    <div class="modal-overlay" id="riskModal">
        <div class="modal">
            <div class="modal-header"><h2 class="modal-title" id="riskModalTitle">Add Risk</h2><button class="modal-close" onclick="closeRiskModal()"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg></button></div>
            <div class="modal-body">
                <form id="riskForm">
                    <input type="hidden" id="riskId">
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">Package</label><select class="form-select" id="riskPackageId"></select></div>
                        <div class="form-group"><label class="form-label">Category</label><select class="form-select" id="riskCategory"><option value="Schedule">Schedule</option><option value="Technical">Technical</option><option value="Commercial">Commercial</option><option value="Logistics">Logistics</option><option value="HSE">HSE</option></select></div>
                        <div class="form-group full"><label class="form-label">Description</label><textarea class="form-textarea" id="riskDescription" rows="2" placeholder="Risk description"></textarea></div>
                        <div class="form-group"><label class="form-label">Probability</label><select class="form-select" id="riskProbability" onchange="calcRiskLevel()"><option value="Low">Low</option><option value="Medium" selected>Medium</option><option value="High">High</option></select></div>
                        <div class="form-group"><label class="form-label">Impact</label><select class="form-select" id="riskImpact" onchange="calcRiskLevel()"><option value="Low">Low</option><option value="Medium" selected>Medium</option><option value="High">High</option></select></div>
                        <div class="form-group"><label class="form-label">Risk Level</label><div id="riskLevelDisplay" class="scurve-display" style="background:rgba(245,158,11,0.2);color:#fbbf24;">Medium</div></div>
                        <div class="form-group"><label class="form-label">Status</label><select class="form-select" id="riskStatus"><option value="Open">Open</option><option value="Monitoring">Monitoring</option><option value="Closed">Closed</option></select></div>
                        <div class="form-group full"><label class="form-label">Mitigation</label><textarea class="form-textarea" id="riskMitigation" rows="2" placeholder="Mitigation plan"></textarea></div>
                        <div class="form-group"><label class="form-label">Owner</label><input type="text" class="form-input" id="riskOwner" placeholder="Risk owner"></div>
                        <div class="form-group"><label class="form-label">Due Date</label><input type="date" class="form-input" id="riskDueDate"></div>
                    </div>
                </form>
            </div>
            <div class="modal-footer"><button class="btn btn-secondary" onclick="closeRiskModal()">Cancel</button><button class="btn btn-primary" onclick="saveRisk()">Save</button></div>
        </div>
    </div>

    <!-- Package Detail View Modal -->
    <div class="modal-overlay" id="packageDetailModal">
        <div class="modal modal-large">
            <div class="modal-header">
                <div style="display:flex;align-items:center;gap:1rem;">
                    <button class="btn-back" onclick="closePackageDetail()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
                        Back
                    </button>
                    <h2 class="modal-title">Package Detail</h2>
                </div>
                <button class="modal-close" onclick="closePackageDetail()"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg></button>
            </div>
            <div class="modal-body" id="packageDetailContent">
                <!-- Content will be populated by JavaScript -->
            </div>
            <div class="modal-footer">
                <button class="btn-back" onclick="closePackageDetail()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
                    Back to Previous Page
                </button>
                <button class="btn btn-primary" onclick="editPackageFromDetail()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>
                    Edit Package
                </button>
            </div>
        </div>
    </div>

    <!-- Weight Factor Modal -->
    <div class="modal-overlay" id="weightFactorModal">
        <div class="modal" style="max-width:700px;">
            <div class="modal-header">
                <h2 class="modal-title">S-Curve Weight Factor Settings</h2>
                <button class="modal-close" onclick="closeWeightFactorModal()"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg></button>
            </div>
            <div class="modal-body">
                <div class="wf-info">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                    Weight factors determine the contribution of each activity to the overall S-Curve progress. Total must equal 100%.
                </div>
                <div class="wf-grid">
                    <!-- Milestones Section -->
                    <div class="wf-section">
                        <div class="wf-section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" /></svg>
                            Milestones Weight Factor (%)
                        </div>
                        <div class="wf-items">
                            <div class="wf-item"><label>Issue RFQ</label><input type="number" id="wfIssueRFQ" min="0" max="100" step="0.5" onchange="updateWFTotal()"></div>
                            <div class="wf-item"><label>Receive Quotation</label><input type="number" id="wfReceiveQuotation" min="0" max="100" step="0.5" onchange="updateWFTotal()"></div>
                            <div class="wf-item"><label>Issue TBE</label><input type="number" id="wfIssueTBE" min="0" max="100" step="0.5" onchange="updateWFTotal()"></div>
                            <div class="wf-item"><label>Issue CBE</label><input type="number" id="wfIssueCBE" min="0" max="100" step="0.5" onchange="updateWFTotal()"></div>
                            <div class="wf-item"><label>Final Negotiation</label><input type="number" id="wfFinalNegotiation" min="0" max="100" step="0.5" onchange="updateWFTotal()"></div>
                            <div class="wf-item"><label>Issue PO</label><input type="number" id="wfIssuePO" min="0" max="100" step="0.5" onchange="updateWFTotal()"></div>
                            <div class="wf-item"><label>KOM</label><input type="number" id="wfKOM" min="0" max="100" step="0.5" onchange="updateWFTotal()"></div>
                        </div>
                    </div>
                    
                    <!-- Engineering Section -->
                    <div class="wf-section">
                        <div class="wf-section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" /></svg>
                            Engineering Weight Factor (%)
                        </div>
                        <div class="wf-items">
                            <div class="wf-item"><label>Engineering Progress</label><input type="number" id="wfEngineering" min="0" max="100" step="0.5" onchange="updateWFTotal()"></div>
                        </div>
                    </div>
                    
                    <!-- Manufacture Section -->
                    <div class="wf-section">
                        <div class="wf-section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" /></svg>
                            Manufacture Weight Factor (%)
                        </div>
                        <div class="wf-items">
                            <div class="wf-item"><label>Manufacture Progress</label><input type="number" id="wfManufacture" min="0" max="100" step="0.5" onchange="updateWFTotal()"></div>
                            <div class="wf-item"><label>FAT (Factory Acceptance Test)</label><input type="number" id="wfFAT" min="0" max="100" step="0.5" onchange="updateWFTotal()"></div>
                        </div>
                    </div>
                    
                    <!-- Delivery Section -->
                    <div class="wf-section">
                        <div class="wf-section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" /></svg>
                            Delivery Weight Factor (%)
                        </div>
                        <div class="wf-items">
                            <div class="wf-item"><label>Shipping Status</label><input type="number" id="wfShipping" min="0" max="100" step="0.5" onchange="updateWFTotal()"></div>
                            <div class="wf-item"><label>Material at Site</label><input type="number" id="wfMaterialAtSite" min="0" max="100" step="0.5" onchange="updateWFTotal()"></div>
                        </div>
                    </div>
                </div>
                
                <div class="wf-total">
                    <span class="wf-total-label">Total Weight Factor</span>
                    <span class="wf-total-value" id="wfTotalDisplay">100%</span>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="resetWeightFactors()">Reset to Default</button>
                <button class="btn btn-secondary" onclick="closeWeightFactorModal()">Cancel</button>
                <button class="btn btn-primary" onclick="saveWeightFactors()">Save</button>
            </div>
        </div>
    </div>

    <script>

        // ========================================
        // SUPABASE CONFIGURATION
        // ========================================
        // GANTI DENGAN CREDENTIALS SUPABASE ANDA!
        const SUPABASE_URL = 'https://YOUR_PROJECT.supabase.co';
        const SUPABASE_KEY = 'YOUR_ANON_KEY_HERE';
        const USE_SUPABASE = false; // Set true setelah setup Supabase
        
        // Supabase Client (simple implementation)
        const supabase = {
            async query(table, options = {}) {
                if (!USE_SUPABASE) return null;
                
                let url = `${SUPABASE_URL}/rest/v1/${table}`;
                
                // Add query parameters
                if (options.select) url += `?select=${options.select}`;
                if (options.eq) url += `${options.select ? '&' : '?'}${options.eq.column}=eq.${options.eq.value}`;
                if (options.order) url += `&order=${options.order}`;
                
                try {
                    const response = await fetch(url, {
                        method: 'GET',
                        headers: {
                            'apikey': SUPABASE_KEY,
                            'Authorization': `Bearer ${SUPABASE_KEY}`
                        }
                    });
                    
                    if (!response.ok) {
                        console.error('Supabase query error:', await response.text());
                        return null;
                    }
                    
                    return await response.json();
                } catch (error) {
                    console.error('Supabase error:', error);
                    return null;
                }
            },
            
            async insert(table, data) {
                if (!USE_SUPABASE) return null;
                
                try {
                    const response = await fetch(`${SUPABASE_URL}/rest/v1/${table}`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'apikey': SUPABASE_KEY,
                            'Authorization': `Bearer ${SUPABASE_KEY}`,
                            'Prefer': 'return=representation'
                        },
                        body: JSON.stringify(data)
                    });
                    
                    if (!response.ok) {
                        console.error('Supabase insert error:', await response.text());
                        return null;
                    }
                    
                    return await response.json();
                } catch (error) {
                    console.error('Supabase error:', error);
                    return null;
                }
            },
            
            async update(table, id, data) {
                if (!USE_SUPABASE) return null;
                
                try {
                    const response = await fetch(`${SUPABASE_URL}/rest/v1/${table}?id=eq.${id}`, {
                        method: 'PATCH',
                        headers: {
                            'Content-Type': 'application/json',
                            'apikey': SUPABASE_KEY,
                            'Authorization': `Bearer ${SUPABASE_KEY}`,
                            'Prefer': 'return=representation'
                        },
                        body: JSON.stringify(data)
                    });
                    
                    if (!response.ok) {
                        console.error('Supabase update error:', await response.text());
                        return null;
                    }
                    
                    return await response.json();
                } catch (error) {
                    console.error('Supabase error:', error);
                    return null;
                }
            },
            
            async delete(table, id) {
                if (!USE_SUPABASE) return null;
                
                try {
                    const response = await fetch(`${SUPABASE_URL}/rest/v1/${table}?id=eq.${id}`, {
                        method: 'DELETE',
                        headers: {
                            'apikey': SUPABASE_KEY,
                            'Authorization': `Bearer ${SUPABASE_KEY}`
                        }
                    });
                    
                    if (!response.ok) {
                        console.error('Supabase delete error:', await response.text());
                        return null;
                    }
                    
                    return true;
                } catch (error) {
                    console.error('Supabase error:', error);
                    return null;
                }
            }
        };
        
        // ========================================
        // LOAD DATA FROM SUPABASE
        // ========================================
        async function loadDataFromSupabase() {
            if (!USE_SUPABASE) {
                console.log('Supabase disabled, using localStorage');
                return false;
            }
            
            try {
                showNotification('Loading data from cloud...', 'info');
                
                // Load projects
                const projectsData = await supabase.query('projects', { 
                    select: '*', 
                    order: 'id.asc' 
                });
                
                if (projectsData && projectsData.length > 0) {
                    projects = projectsData.map(p => ({
                        id: p.id,
                        name: p.name,
                        owner: p.owner,
                        contractor: p.contractor,
                        technologyProvider: p.technology_provider,
                        contractType: p.contract_type,
                        contractPrice: p.contract_price,
                        paymentTerm: p.payment_term,
                        startDate: p.start_date,
                        finishDate: p.finish_date,
                        ldDelay: p.ld_delay,
                        ldPerformance: p.ld_performance,
                        guaranteePower: p.guarantee_power,
                        scopeByOwner: p.scope_by_owner
                    }));
                }
                
                // Load packages
                const packagesData = await supabase.query('packages', { 
                    select: '*', 
                    order: 'id.asc' 
                });
                
                if (packagesData && packagesData.length > 0) {
                    packages = packagesData.map(p => ({
                        id: p.id,
                        projectId: p.project_id,
                        initiation: p.initiation,
                        discipline: p.discipline,
                        area: p.area,
                        packageName: p.package_name,
                        description: p.description,
                        rfqNo: p.rfq_no,
                        contractNo: p.contract_no,
                        vendorName: p.vendor_name,
                        coo: p.coo,
                        milestones: p.milestones,
                        engineering: p.engineering,
                        manufacture: p.manufacture,
                        delivery: p.delivery
                    }));
                }
                
                // Load risks
                const risksData = await supabase.query('risks', { 
                    select: '*', 
                    order: 'id.asc' 
                });
                
                if (risksData && risksData.length > 0) {
                    risks = risksData.map(r => ({
                        id: r.id,
                        projectId: r.project_id,
                        packageId: r.package_id,
                        category: r.category,
                        riskDescription: r.risk_description,
                        probability: r.probability,
                        impact: r.impact,
                        riskLevel: r.risk_level,
                        status: r.status,
                        mitigation: r.mitigation,
                        owner: r.owner,
                        dueDate: r.due_date,
                        isAutoGenerated: r.is_auto_generated,
                        generatedDate: r.generated_date
                    }));
                }
                
                console.log(`Loaded from Supabase: ${projects.length} projects, ${packages.length} packages, ${risks.length} risks`);
                showNotification('Data loaded from cloud successfully!', 'success');
                
                // Save to localStorage as backup
                saveAllData();
                
                return true;
                
            } catch (error) {
                console.error('Error loading from Supabase:', error);
                showNotification('Error loading from cloud, using local data', 'warning');
                return false;
            }
        }
        
        // ========================================
        // SYNC TO SUPABASE (when user makes changes)
        // ========================================
        async function syncToSupabase() {
            if (!USE_SUPABASE) return;
            
            // This is a simplified sync - in production you'd want more sophisticated logic
            console.log('Auto-sync to Supabase is handled by Google Sheets script');
            // User edits in Google Sheets  Apps Script syncs to Supabase
            // Website just reads from Supabase
        }
        


        const countries = ["Indonesia","China","Japan","South Korea","Germany","United States","Italy","France","United Kingdom","Netherlands","Singapore","Malaysia","Thailand","Vietnam","India","Taiwan","Australia"].sort();
        const incoterms = [{code:"EXW",name:"Ex Works",mode:"all",desc:"Seller makes goods available at their premises"},{code:"FCA",name:"Free Carrier",mode:"all",desc:"Seller delivers goods to carrier"},{code:"CPT",name:"Carriage Paid To",mode:"all",desc:"Seller pays freight to destination"},{code:"CIP",name:"Carriage Insurance Paid",mode:"all",desc:"Seller pays freight and insurance"},{code:"DAP",name:"Delivered at Place",mode:"all",desc:"Seller delivers at destination"},{code:"DPU",name:"Delivered at Place Unloaded",mode:"all",desc:"Seller delivers and unloads"},{code:"DDP",name:"Delivered Duty Paid",mode:"all",desc:"Seller delivers cleared for import"},{code:"FAS",name:"Free Alongside Ship",mode:"sea",desc:"Seller delivers alongside vessel"},{code:"FOB",name:"Free on Board",mode:"sea",desc:"Seller delivers on board vessel"},{code:"CFR",name:"Cost and Freight",mode:"sea",desc:"Seller pays freight to port"},{code:"CIF",name:"Cost Insurance Freight",mode:"sea",desc:"Seller pays freight and insurance to port"}];
        const milestoneLabels = [{key:'issueRFQ',label:'Issue RFQ'},{key:'receiveQuotation',label:'Receive Quotation'},{key:'issueTBE',label:'Issue TBE'},{key:'issueCBE',label:'Issue CBE'},{key:'finalNegotiation',label:'Final Negotiation'},{key:'issuePO',label:'Issue PO'},{key:'kom',label:'KOM'}];

        // Storage Key Constants
        const STORAGE_KEYS = {
            PROJECTS: 'procurement_projects',
            PACKAGES: 'procurement_packages',
            RISKS: 'procurement_risks',
            SELECTED_PROJECT: 'procurement_selected_project',
            WEIGHT_FACTORS: 'procurement_weight_factors'
        };

        const CURRENT_DATA_VERSION = '2026-02-23_124pkg_v6';
        (function checkDataVersion() {
            const storedVersion = localStorage.getItem('procurement_data_version');
            if (storedVersion !== CURRENT_DATA_VERSION) {
                console.log('Data version changed, clearing localStorage...');
                ['procurement_projects','procurement_packages','procurement_risks','procurement_weight_factors'].forEach(k => localStorage.removeItem(k));
                localStorage.setItem('procurement_data_version', CURRENT_DATA_VERSION);
            }
        })();

        // Default Weight Factors (must total 100%)
        const defaultWeightFactors = {"milestones": {"issueRFQ": 2, "receiveQuotation": 3, "issueTBE": 3, "issueCBE": 3, "finalNegotiation": 4, "issuePO": 5, "kom": 5}, "engineering": 15, "manufacture": 40, "fat": 5, "delivery": {"shipping": 10, "materialAtSite": 5}};

        // Current Weight Factors (will be loaded from localStorage)
        let weightFactors = {"milestones":{"issueRFQ":2,"receiveQuotation":3,"issueTBE":3,"issueCBE":3,"finalNegotiation":4,"issuePO":5,"kom":5},"engineering":15,"manufacture":40,"fat":5,"delivery":{"shipping":10,"materialAtSite":5}};

        // Default Data (used only when localStorage is empty)
        const defaultProjects = [{"id": 1767154263681, "name": "Salak Unit 7 Development", "owner": "Star Energy Geothermal Salak", "contractor": "Joint Operation: Timas Suplindo - Rekayasa Industri", "technologyProvider": "Fuji Electric", "contractType": "EPC Lump Sum", "contractPrice": 109600000, "paymentTerm": "Milestone Payment", "startDate": "2024-11-01", "finishDate": "2026-12-30", "ldDelay": 77300, "ldPerformance": 11100, "guaranteePower": 45, "scopeByOwner": ""}];
        const defaultPackages = [{"id": 1767154303385, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "PO-0023/SLK/I/2025", "packageName": "Steam Surface Condenser", "description": "Steam Surface Condenser (Germany, Fabrication at Cikande, Banten, Indonesia)", "contractNo": "PO-0023/SLK/I/2025", "vendorName": "Balcke Durr", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2024-12-20", "actual": "2024-12-12"}, "receiveQuotation": {"plan": "2025-01-10", "actual": "2024-12-12"}, "issueTBE": {"plan": "2025-01-04", "actual": "2024-11-28"}, "issueCBE": {"plan": "2025-01-11", "actual": "2024-12-19"}, "finalNegotiation": {"plan": "2025-01-21", "actual": "2024-12-19"}, "issuePO": {"plan": "2025-01-24", "actual": "2025-01-24"}, "kom": {"plan": "2025-01-30", "actual": "2025-02-11"}}, "engineering": {"required": true, "planStart": "2025-01-30", "planFinish": "2025-03-30", "actualStart": "2025-02-11", "actualFinish": "", "statusDate": "2026-01-27", "planProgress": 100, "actualProgress": 87, "remark": "as per VPC monitoring"}, "manufacture": {"planStart": "2024-12-30", "planFinish": "2026-03-10", "actualStart": "2025-02-11", "actualFinish": "", "statusDate": "2026-02-18", "planProgress": 100, "actualProgress": 94, "remark": "finish manufacture delay 15-Feb-26 to 10-Mar-26\nprogress update as per : expeditor info.", "planFAT": "2026-03-10", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "Cikande", "planDelivery100": "2026-03-15", "actualDelivery100": "", "shippingStatusDate": "2026-01-27", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-03-22", "actualMaterialAtSite100": "", "materialStatusDate": "2026-01-02", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1767577260224, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "ZPOM - 31001502 / TMS-HO/PKS-LI/XI/2024", "packageName": "Steam Turbine", "description": "Steam Turbine for Steam Turbine & Generator Package", "contractNo": "ZPOM - 31001502 / TMS-HO/PKS-LI/XI/2024", "vendorName": "Fuji Electric Ltd.", "coo": "Japan", "milestones": {"issueRFQ": {"plan": "2024-09-27", "actual": "2024-10-07"}, "receiveQuotation": {"plan": "2024-10-18", "actual": "2024-10-21"}, "issueTBE": {"plan": "2024-10-12", "actual": "2024-10-28"}, "issueCBE": {"plan": "2024-10-19", "actual": "2024-11-01"}, "finalNegotiation": {"plan": "2024-10-29", "actual": "2024-11-01"}, "issuePO": {"plan": "2024-10-01", "actual": "2024-11-01"}, "kom": {"plan": "2024-10-10", "actual": "2024-11-28"}}, "engineering": {"required": true, "planStart": "2025-11-28", "planFinish": "2026-03-07", "actualStart": "2025-11-28", "actualFinish": "2026-01-28", "statusDate": "2026-01-02", "planProgress": 39, "actualProgress": 100, "remark": "Progress as per January 2026"}, "manufacture": {"planStart": "2024-11-28", "planFinish": "2026-05-08", "actualStart": "2024-11-28", "actualFinish": "", "statusDate": "2026-01-02", "planProgress": 96, "actualProgress": 90, "remark": "Progress as per adjustment - expeditor & Pak Purba", "planFAT": "2026-03-10", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "FOB", "deliveryLocation": "Yokohama", "planDelivery100": "2026-05-15", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-15", "actualMaterialAtSite100": "", "materialStatusDate": "2026-01-02", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1767578706859, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "PR-0002/ENG-ME-SLK/XII/2024", "packageName": "Liquid Ring Vacuum Pump (LRVP) for GRS", "description": "Liquid Ring Vacuum Pumps for Gas Removal System Package ", "contractNo": "PO-0017/SLK/XII/2024", "vendorName": "Tsurumi Manufacturing Co., Ltd", "coo": "Japan", "milestones": {"issueRFQ": {"plan": "2024-10-17", "actual": "2024-08-02"}, "receiveQuotation": {"plan": "2024-12-08", "actual": "2024-06-15"}, "issueTBE": {"plan": "2024-12-02", "actual": "2024-12-06"}, "issueCBE": {"plan": "2024-12-09", "actual": "2024-12-19"}, "finalNegotiation": {"plan": "2024-12-19", "actual": "2024-12-19"}, "issuePO": {"plan": "2024-12-19", "actual": "2024-12-19"}, "kom": {"plan": "2025-01-09", "actual": "2025-01-09"}}, "engineering": {"required": true, "planStart": "2025-01-09", "planFinish": "2026-02-01", "actualStart": "2025-01-09", "actualFinish": "2026-02-01", "statusDate": "2026-01-28", "planProgress": 100, "actualProgress": 100, "remark": ""}, "manufacture": {"planStart": "2024-11-28", "planFinish": "2026-02-06", "actualStart": "2025-01-09", "actualFinish": "2026-01-26", "statusDate": "2026-02-02", "planProgress": 100, "actualProgress": 100, "remark": "- LRVP Done Fabrication -> FOB Japan\n- Remaining Inter-After Condenser (FOB Hamburg) & Steam Ejector (FOB Shanghai)\n- LRVP delivery status : postponed, due to readiness site construction ", "planFAT": "2026-01-15", "actualFAT": "2025-12-31", "fatResult": "Passed with Remarks", "fatRemarks": "- LRVP Done FAT\n- Remaining FAT -> Steam Ejector and Inter-After Condenser"}, "delivery": {"incoterm": "FOB", "deliveryLocation": "Shanghai/Hamburg", "planDelivery100": "2026-02-06", "actualDelivery100": "", "shippingStatusDate": "2026-01-02", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-03-09", "actualMaterialAtSite100": "", "materialStatusDate": "2026-01-02", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1767582726859, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "PO-0046/SLK/II/2025", "packageName": "Circulating Cooling Water Pump (CCWP)", "description": "Circulating Cooling Water Pump & Hotwell Pump Package", "contractNo": "PO-0046/SLK/II/2025", "vendorName": "Torishima Guna Engineering", "coo": "Japan", "milestones": {"issueRFQ": {"plan": "2025-01-22", "actual": "2025-01-20"}, "receiveQuotation": {"plan": "2025-02-12", "actual": "2025-01-27"}, "issueTBE": {"plan": "2025-02-08", "actual": "2025-02-08"}, "issueCBE": {"plan": "2025-02-13", "actual": "2025-02-13"}, "finalNegotiation": {"plan": "2025-02-23", "actual": "2025-02-26"}, "issuePO": {"plan": "2025-02-26", "actual": "2025-02-26"}, "kom": {"plan": "2025-03-10", "actual": "2025-03-10"}}, "engineering": {"required": true, "planStart": "2025-03-10", "planFinish": "2026-04-14", "actualStart": "2025-03-10", "actualFinish": "", "statusDate": "2026-01-27", "planProgress": 98, "actualProgress": 95, "remark": ""}, "manufacture": {"planStart": "2025-07-01", "planFinish": "2026-04-25", "actualStart": "2025-07-01", "actualFinish": "", "statusDate": "2026-02-03", "planProgress": 95, "actualProgress": 93, "remark": "Plan finish manufacture W-3 April 2026", "planFAT": "2026-04-14", "actualFAT": "", "fatResult": "", "fatRemarks": "Plan for FAT on 16-Feb-2026"}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Salak, Sukabumi", "planDelivery100": "2026-04-27", "actualDelivery100": "", "shippingStatusDate": "2026-01-02", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-09", "actualMaterialAtSite100": "", "materialStatusDate": "2026-01-02", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1767583425281, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "PO-0321/SLK/XII/2025", "packageName": "Cooling Tower Package", "description": "", "contractNo": "PO-0321/SLK/XII/2025", "vendorName": "John Cockerill Hamon", "coo": "France", "milestones": {"issueRFQ": {"plan": "2025-01-15", "actual": "2024-12-30"}, "receiveQuotation": {"plan": "2025-02-05", "actual": "2024-08-15"}, "issueTBE": {"plan": "2025-01-30", "actual": "2024-12-18"}, "issueCBE": {"plan": "2025-02-06", "actual": "2025-01-22"}, "finalNegotiation": {"plan": "2025-02-16", "actual": "2025-01-22"}, "issuePO": {"plan": "2025-02-19", "actual": "2025-02-19"}, "kom": {"plan": "2025-03-06", "actual": "2025-03-06"}}, "engineering": {"required": true, "planStart": "2025-03-06", "planFinish": "2025-06-06", "actualStart": "2025-03-06", "actualFinish": "", "statusDate": "2026-01-02", "planProgress": 100, "actualProgress": 100, "remark": ""}, "manufacture": {"planStart": "2025-03-06", "planFinish": "2025-12-15", "actualStart": "2025-03-06", "actualFinish": "2025-12-12", "statusDate": "2026-01-02", "planProgress": 100, "actualProgress": 100, "remark": "- FRP Structure -> Cargo Ready", "planFAT": "2025-11-30", "actualFAT": "2025-11-28", "fatResult": "Passed", "fatRemarks": ""}, "delivery": {"incoterm": "FOB", "deliveryLocation": "Italy", "planDelivery100": "2026-02-07", "actualDelivery100": "2025-12-24", "shippingStatusDate": "2026-01-02", "shippingStatusPlan": 36, "shippingStatus": 40, "planMaterialAtSite100": "2026-02-07", "actualMaterialAtSite100": "", "materialStatusDate": "2026-01-02", "materialAtSitePlan": 0, "materialReceivedActual": 40}}, {"id": 1767584224061, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "PO-0332/SLK/XII/2025", "packageName": "Air Compressor & Air Dryer Package", "description": "", "contractNo": "PO-0332/SLK/XII/2025", "vendorName": "Petrotec Air Power", "coo": "Japan", "milestones": {"issueRFQ": {"plan": "2025-06-27", "actual": "2025-04-10"}, "receiveQuotation": {"plan": "2025-07-18", "actual": "2025-04-11"}, "issueTBE": {"plan": "2025-06-12", "actual": "2025-05-28"}, "issueCBE": {"plan": "2025-06-19", "actual": "2025-04-28"}, "finalNegotiation": {"plan": "2025-06-29", "actual": "2025-04-28"}, "issuePO": {"plan": "2025-08-01", "actual": "2025-12-16"}, "kom": {"plan": "2025-08-19", "actual": "2025-12-18"}}, "engineering": {"required": true, "planStart": "2025-08-19", "planFinish": "2025-10-19", "actualStart": "2025-12-18", "actualFinish": "2025-12-31", "statusDate": "2026-01-02", "planProgress": 100, "actualProgress": 100, "remark": ""}, "manufacture": {"planStart": "2026-01-05", "planFinish": "2026-05-05", "actualStart": "2026-01-05", "actualFinish": "", "statusDate": "2026-01-28", "planProgress": 13, "actualProgress": 5, "remark": "", "planFAT": "2026-05-12", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Salak, Sukabumi", "planDelivery100": "2026-05-31", "actualDelivery100": "", "shippingStatusDate": "2026-01-02", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-31", "actualMaterialAtSite100": "", "materialStatusDate": "2026-01-02", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1767584740969, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "PO-0075/SLK/IV/2025", "packageName": "Overhead Crane Power House", "description": "", "contractNo": "PO-0075/SLK/IV/2025", "vendorName": "Konecranes Material Handling", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-03-13", "actual": "2025-02-21"}, "receiveQuotation": {"plan": "2025-04-08", "actual": "2025-03-10"}, "issueTBE": {"plan": "2025-03-28", "actual": "2025-03-26"}, "issueCBE": {"plan": "2025-04-04", "actual": "2025-04-10"}, "finalNegotiation": {"plan": "2025-04-14", "actual": "2025-04-10"}, "issuePO": {"plan": "2025-10-17", "actual": "2025-04-10"}, "kom": {"plan": "2025-04-24", "actual": "2025-04-24"}}, "engineering": {"required": true, "planStart": "2025-04-24", "planFinish": "2026-05-24", "actualStart": "2025-04-24", "actualFinish": "", "statusDate": "2026-01-02", "planProgress": 88, "actualProgress": 74, "remark": ""}, "manufacture": {"planStart": "2025-04-24", "planFinish": "2026-01-31", "actualStart": "2025-04-24", "actualFinish": "", "statusDate": "2026-01-02", "planProgress": 99, "actualProgress": 99, "remark": "", "planFAT": "2026-02-04", "actualFAT": "2026-01-30", "fatResult": "Passed with Remarks", "fatRemarks": "punchlist untuk girder, rail untuk OHC belum on board di Workshop Konecrane"}, "delivery": {"incoterm": "EXW", "deliveryLocation": "Surabaya", "planDelivery100": "2026-02-20", "actualDelivery100": "", "shippingStatusDate": "2026-01-02", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-02-23", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1767585238196, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "SAGS", "rfqNo": "PO-0105/SLK/V/2025", "packageName": "Steam Scrubber", "description": "", "contractNo": "PO-0105/SLK/V/2025", "vendorName": "CECO Environmental", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-04-28", "actual": "2025-07-13"}, "receiveQuotation": {"plan": "2025-05-17", "actual": "2025-05-15"}, "issueTBE": {"plan": "2025-05-11", "actual": "2025-03-10"}, "issueCBE": {"plan": "2025-05-18", "actual": "2025-05-20"}, "finalNegotiation": {"plan": "2025-05-28", "actual": "2025-05-20"}, "issuePO": {"plan": "2025-05-31", "actual": "2025-05-23"}, "kom": {"plan": "2025-06-19", "actual": "2025-06-19"}}, "engineering": {"required": true, "planStart": "2025-06-19", "planFinish": "2026-04-01", "actualStart": "2025-06-19", "actualFinish": "", "statusDate": "2026-01-22", "planProgress": 96, "actualProgress": 98, "remark": "Based on Progress report 2-Feb-26 Progress Report (Monthly) For Steam Scrubber"}, "manufacture": {"planStart": "2025-08-22", "planFinish": "2026-04-05", "actualStart": "2025-08-04", "actualFinish": "", "statusDate": "2026-01-22", "planProgress": 92, "actualProgress": 71, "remark": "Based on Progress report 2-Feb-26 Progress Report (Monthly) For Steam Scrubber", "planFAT": "2026-03-23", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "Cikande", "planDelivery100": "2026-04-05", "actualDelivery100": "", "shippingStatusDate": "2026-01-02", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-04-07", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1767585773209, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "PO-0248/SLK/X/2025", "packageName": "Fire Water Pumps", "description": "", "contractNo": "PO-0248/SLK/X/2025", "vendorName": "KSB Indonesia", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-09-05", "actual": "2025-06-11"}, "receiveQuotation": {"plan": "2025-09-26", "actual": "2025-06-03"}, "issueTBE": {"plan": "2025-09-20", "actual": "2025-09-04"}, "issueCBE": {"plan": "2025-09-27", "actual": "2025-10-01"}, "finalNegotiation": {"plan": "2025-10-07", "actual": "2025-10-01"}, "issuePO": {"plan": "2025-10-10", "actual": "2025-10-13"}, "kom": {"plan": "2025-10-16", "actual": "2025-10-16"}}, "engineering": {"required": true, "planStart": "2025-10-16", "planFinish": "2026-05-05", "actualStart": "2025-10-16", "actualFinish": "", "statusDate": "2026-01-28", "planProgress": 72, "actualProgress": 64, "remark": ""}, "manufacture": {"planStart": "2025-10-22", "planFinish": "2026-05-15", "actualStart": "2025-10-16", "actualFinish": "", "statusDate": "2026-01-23", "planProgress": 60, "actualProgress": 54, "remark": "- Progress refer to weekly 12-Feb-26 ; Vendor delivery is scheduled on 27-May-2026, later than the Vendor PO delivery date of 15-May-26.", "planFAT": "2026-05-05", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DAP", "deliveryLocation": "Salak, Sukabumi", "planDelivery100": "2026-05-15", "actualDelivery100": "", "shippingStatusDate": "2026-01-28", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-22", "actualMaterialAtSite100": "", "materialStatusDate": "2026-01-28", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1767586182600, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "PO-0249/SLK/X/2025", "packageName": "Non-Critical Centrifugal Pumps", "description": "Oily Water Pump, Domestic Water Pump, U-Seal Pit Pump, Raw Water Pond Pump, Steam Wash Pump", "contractNo": "PO-0249/SLK/X/2025", "vendorName": "KSB Indonesia", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-09-25", "actual": "2025-04-10"}, "receiveQuotation": {"plan": "2025-10-16", "actual": "2025-07-04"}, "issueTBE": {"plan": "2025-10-10", "actual": "2025-09-20"}, "issueCBE": {"plan": "2025-10-17", "actual": "2025-09-03"}, "finalNegotiation": {"plan": "2025-10-27", "actual": "2025-09-03"}, "issuePO": {"plan": "2025-10-30", "actual": "2025-10-13"}, "kom": {"plan": "2025-10-16", "actual": "2025-10-16"}}, "engineering": {"required": true, "planStart": "2025-10-16", "planFinish": "2026-07-16", "actualStart": "2025-10-16", "actualFinish": "", "statusDate": "2026-01-02", "planProgress": 27, "actualProgress": 75, "remark": ""}, "manufacture": {"planStart": "2025-10-16", "planFinish": "2026-04-05", "actualStart": "2025-10-16", "actualFinish": "", "statusDate": "2026-01-02", "planProgress": 60, "actualProgress": 54, "remark": "Vendor plan delivery (FOB India) 29-May-26 ; Motor WEG (FOB Brazil) 12-Jun-26", "planFAT": "2026-05-25", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Salak, Sukabumi", "planDelivery100": "2026-05-27", "actualDelivery100": "", "shippingStatusDate": "2026-01-02", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-27", "actualMaterialAtSite100": "", "materialStatusDate": "2026-01-02", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1767586463912, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "PO-0269/SLK/X/2025", "packageName": "Field Welded Tanks", "description": "Raw Water Tank, Gasket, Bolt and Nut", "contractNo": "PO-0269/SLK/X/2025", "vendorName": "Timas Suplindo", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-10-26", "actual": "2025-08-21"}, "receiveQuotation": {"plan": "2025-11-09", "actual": "2025-09-04"}, "issueTBE": {"plan": "2025-11-10", "actual": "2025-10-14"}, "issueCBE": {"plan": "2025-11-17", "actual": "2025-10-23"}, "finalNegotiation": {"plan": "2025-11-27", "actual": "2025-10-23"}, "issuePO": {"plan": "2025-11-30", "actual": "2025-10-29"}, "kom": {"plan": "2025-11-12", "actual": "2025-11-12"}}, "engineering": {"required": true, "planStart": "2025-10-29", "planFinish": "2025-12-31", "actualStart": "2025-10-29", "actualFinish": "2025-12-31", "statusDate": "2025-12-31", "planProgress": 100, "actualProgress": 100, "remark": ""}, "manufacture": {"planStart": "2026-01-01", "planFinish": "2026-02-26", "actualStart": "2025-12-01", "actualFinish": "", "statusDate": "2026-02-18", "planProgress": 99, "actualProgress": 97, "remark": "Justification from Pak Purba & Pak Devy", "planFAT": "2026-02-26", "actualFAT": "2026-02-09", "fatResult": "", "fatRemarks": "reschedule from 12-Feb-26 change to 26-Feb-26"}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-02-28", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-03-09", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1767586873514, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "PO-0267/SLK/X/2025", "packageName": "Water Treatment Package", "description": "", "contractNo": "PO-0267/SLK/X/2025", "vendorName": "Multi Technologi Indonesia", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-09-14", "actual": "2025-05-13"}, "receiveQuotation": {"plan": "2025-10-05", "actual": "2025-06-04"}, "issueTBE": {"plan": "2025-09-29", "actual": "2025-09-22"}, "issueCBE": {"plan": "2025-10-06", "actual": "2025-10-20"}, "finalNegotiation": {"plan": "2025-10-16", "actual": "2025-10-20"}, "issuePO": {"plan": "2025-10-19", "actual": "2025-10-24"}, "kom": {"plan": "2025-10-30", "actual": "2025-10-30"}}, "engineering": {"required": true, "planStart": "2025-10-30", "planFinish": "2026-05-28", "actualStart": "2025-10-30", "actualFinish": "", "statusDate": "2026-01-02", "planProgress": 30, "actualProgress": 64, "remark": ""}, "manufacture": {"planStart": "2025-10-30", "planFinish": "2026-06-28", "actualStart": "2025-10-30", "actualFinish": "", "statusDate": "2026-02-18", "planProgress": 61, "actualProgress": 16, "remark": "", "planFAT": "2026-06-18", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Jakarta", "planDelivery100": "2026-06-28", "actualDelivery100": "", "shippingStatusDate": "2026-01-02", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-28", "actualMaterialAtSite100": "", "materialStatusDate": "2026-01-02", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1767596990268, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "PO-0326/SLK/XII/2025", "packageName": "Chemical Injection Package", "description": "", "contractNo": "PO-0326/SLK/XII/2025", "vendorName": "Multi Technologi Indonesia", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-10-26", "actual": "2025-08-26"}, "receiveQuotation": {"plan": "2025-11-16", "actual": "2025-09-12"}, "issueTBE": {"plan": "2025-11-10", "actual": "2025-11-17"}, "issueCBE": {"plan": "2025-11-17", "actual": "2025-11-28"}, "finalNegotiation": {"plan": "2025-11-27", "actual": "2025-11-28"}, "issuePO": {"plan": "2025-11-30", "actual": "2025-12-11"}, "kom": {"plan": "2025-12-15", "actual": "2025-12-15"}}, "engineering": {"required": true, "planStart": "2025-12-15", "planFinish": "2026-04-22", "actualStart": "2025-12-15", "actualFinish": "", "statusDate": "2026-02-03", "planProgress": 47, "actualProgress": 39, "remark": ""}, "manufacture": {"planStart": "2025-12-15", "planFinish": "2026-05-22", "actualStart": "2025-12-15", "actualFinish": "", "statusDate": "2026-01-02", "planProgress": 5, "actualProgress": 0, "remark": "", "planFAT": "2026-05-08", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Sukabumi", "planDelivery100": "2026-05-22", "actualDelivery100": "", "shippingStatusDate": "2026-01-02", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-22", "actualMaterialAtSite100": "", "materialStatusDate": "2026-01-02", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1767597383335, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "SAGS", "rfqNo": "PO-0199/SLK/VIII/2025", "packageName": "Air Receiver Package", "description": "Instrument Air Receiver, Utility Air Receiver, Instrument Air Receiver for Rock Muffler", "contractNo": "PO-0199/SLK/VIII/2025", "vendorName": "Timas Suplindo", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-07-27", "actual": "2025-06-04"}, "receiveQuotation": {"plan": "2025-08-17", "actual": "2025-06-17"}, "issueTBE": {"plan": "2025-08-11", "actual": "2025-08-13"}, "issueCBE": {"plan": "2025-08-18", "actual": "2025-08-22"}, "finalNegotiation": {"plan": "2025-08-28", "actual": "2025-08-22"}, "issuePO": {"plan": "2025-08-31", "actual": "2025-08-27"}, "kom": {"plan": "2025-09-10", "actual": "2025-09-10"}}, "engineering": {"required": true, "planStart": "2025-09-16", "planFinish": "2026-03-02", "actualStart": "2025-09-10", "actualFinish": "", "statusDate": "2026-02-18", "planProgress": 100, "actualProgress": 99, "remark": ""}, "manufacture": {"planStart": "2025-11-13", "planFinish": "2026-02-24", "actualStart": "2025-11-13", "actualFinish": "", "statusDate": "2026-02-18", "planProgress": 100, "actualProgress": 99, "remark": "", "planFAT": "2026-02-11", "actualFAT": "2026-02-11", "fatResult": "Passed", "fatRemarks": "Based on Expediting Status Report\n- 11-12-13 Feb: HYDROTEST (SEG minta 3 hari)"}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Salak, Sukabumi", "planDelivery100": "2026-02-28", "actualDelivery100": "", "shippingStatusDate": "2026-01-02", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-03-09", "actualMaterialAtSite100": "", "materialStatusDate": "2026-01-02", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1767597779741, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "PO-0185/SLK/VIII/2025", "packageName": "Plate Heat Exchanger", "description": "Plate Heat Exchanger", "contractNo": "PO-0185/SLK/VIII/2025", "vendorName": "Alfa Laval", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-08-20", "actual": "2025-08-20"}, "receiveQuotation": {"plan": "2025-08-20", "actual": "2025-08-28"}, "issueTBE": {"plan": "2025-08-20", "actual": "2025-08-28"}, "issueCBE": {"plan": "2025-08-20", "actual": "2025-08-28"}, "finalNegotiation": {"plan": "2025-08-20", "actual": "2025-08-28"}, "issuePO": {"plan": "2025-08-20", "actual": "2025-08-20"}, "kom": {"plan": "2025-09-18", "actual": "2025-09-18"}}, "engineering": {"required": true, "planStart": "2025-09-18", "planFinish": "2025-11-18", "actualStart": "2025-09-18", "actualFinish": "2026-01-15", "statusDate": "2026-01-28", "planProgress": 100, "actualProgress": 100, "remark": ""}, "manufacture": {"planStart": "2025-09-18", "planFinish": "2026-02-20", "actualStart": "2025-09-18", "actualFinish": "2026-01-09", "statusDate": "2026-01-02", "planProgress": 92, "actualProgress": 100, "remark": "", "planFAT": "2026-01-06", "actualFAT": "2026-01-09", "fatResult": "Passed", "fatRemarks": ""}, "delivery": {"incoterm": "DAP", "deliveryLocation": "China - Jakarta - Site, Salak, Sukabumi", "planDelivery100": "2026-02-20", "actualDelivery100": "2026-01-26", "shippingStatusDate": "2026-01-02", "shippingStatusPlan": 0, "shippingStatus": 10, "planMaterialAtSite100": "2026-02-20", "actualMaterialAtSite100": "", "materialStatusDate": "2026-01-02", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1767598397849, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "PO-0088/SLK/IV/2025", "packageName": "Surface Condenser Cleaning System", "description": "", "contractNo": "PO-0088/SLK/IV/2025", "vendorName": "Taprogge Gesselschaft", "coo": "Germany", "milestones": {"issueRFQ": {"plan": "2025-01-21", "actual": "2025-01-21"}, "receiveQuotation": {"plan": "2025-01-21", "actual": "2025-01-21"}, "issueTBE": {"plan": "2025-02-26", "actual": "2025-02-26"}, "issueCBE": {"plan": "2025-02-26", "actual": "2025-02-26"}, "finalNegotiation": {"plan": "2025-04-28", "actual": "2025-04-28"}, "issuePO": {"plan": "2025-04-28", "actual": "2025-04-28"}, "kom": {"plan": "2025-05-23", "actual": "2025-05-23"}}, "engineering": {"required": true, "planStart": "2025-05-23", "planFinish": "2025-09-23", "actualStart": "2025-05-23", "actualFinish": "", "statusDate": "2026-01-02", "planProgress": 100, "actualProgress": 84, "remark": ""}, "manufacture": {"planStart": "2025-09-22", "planFinish": "2026-03-30", "actualStart": "2025-05-23", "actualFinish": "", "statusDate": "2026-01-30", "planProgress": 92, "actualProgress": 78, "remark": "", "planFAT": "2026-02-26", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "FOB", "deliveryLocation": "Germany", "planDelivery100": "2026-05-30", "actualDelivery100": "", "shippingStatusDate": "2026-01-02", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-30", "actualMaterialAtSite100": "", "materialStatusDate": "2026-01-02", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1767598638498, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "PO-0288/SLK/XI/2025", "packageName": "Fire Suppression System", "description": "", "contractNo": "PO-0288/SLK/XI/2025", "vendorName": "Safemax Indonesia", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-10-26", "actual": "2025-06-18"}, "receiveQuotation": {"plan": "2025-11-16", "actual": "2025-06-11"}, "issueTBE": {"plan": "2025-11-10", "actual": "2025-09-18"}, "issueCBE": {"plan": "2025-11-17", "actual": "2025-11-13"}, "finalNegotiation": {"plan": "2025-11-27", "actual": "2025-11-13"}, "issuePO": {"plan": "2025-11-27", "actual": "2025-11-13"}, "kom": {"plan": "2025-11-25", "actual": "2025-11-25"}}, "engineering": {"required": true, "planStart": "2025-11-25", "planFinish": "2026-03-25", "actualStart": "2025-11-25", "actualFinish": "", "statusDate": "2026-01-02", "planProgress": 32, "actualProgress": 55, "remark": ""}, "manufacture": {"planStart": "2025-11-25", "planFinish": "2026-05-20", "actualStart": "", "actualFinish": "", "statusDate": "2026-02-18", "planProgress": 65, "actualProgress": 23, "remark": "As per progress report January 2026", "planFAT": "2026-05-06", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Sukabumi", "planDelivery100": "2026-05-20", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-20", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1767773291527, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "PO-0328/SLK/XII/2025", "packageName": "Oily Water Separator", "description": "", "contractNo": "PO-0328/SLK/XII/2025", "vendorName": "Aspros Binareka", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-10-01", "actual": "2025-10-01"}, "receiveQuotation": {"plan": "2025-10-13", "actual": "2025-10-13"}, "issueTBE": {"plan": "2025-11-06", "actual": "2025-11-06"}, "issueCBE": {"plan": "2025-11-06", "actual": "2025-11-06"}, "finalNegotiation": {"plan": "2025-11-06", "actual": "2025-11-06"}, "issuePO": {"plan": "2025-12-15", "actual": "2025-12-18"}, "kom": {"plan": "2025-12-18", "actual": "2025-12-18"}}, "engineering": {"required": true, "planStart": "2025-12-18", "planFinish": "2026-03-18", "actualStart": "2025-12-18", "actualFinish": "", "statusDate": "2026-02-18", "planProgress": 93, "actualProgress": 64, "remark": ""}, "manufacture": {"planStart": "2025-12-18", "planFinish": "2026-04-10", "actualStart": "2025-12-18", "actualFinish": "", "statusDate": "2026-02-18", "planProgress": 77, "actualProgress": 56, "remark": "based on proc. 100%, fab. 13%. progress manufacture 56%", "planFAT": "2026-03-26", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Sukabumi", "planDelivery100": "2026-04-10", "actualDelivery100": "", "shippingStatusDate": "2026-01-02", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-04-15", "actualMaterialAtSite100": "", "materialStatusDate": "2026-01-02", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1767773701316, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "", "packageName": "Lubricants", "description": "", "contractNo": "", "vendorName": "", "coo": "", "milestones": {"issueRFQ": {"plan": "2026-01-25", "actual": ""}, "receiveQuotation": {"plan": "2026-02-15", "actual": ""}, "issueTBE": {"plan": "2026-02-09", "actual": ""}, "issueCBE": {"plan": "2026-02-16", "actual": ""}, "finalNegotiation": {"plan": "2026-02-26", "actual": ""}, "issuePO": {"plan": "2026-03-01", "actual": ""}, "kom": {"plan": "2026-03-10", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-03-10", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-10", "planFinish": "2026-04-29", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-04-01", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Sukabumi", "planDelivery100": "2026-04-29", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-04-29", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769436045708, "projectId": 1767154263681, "initiation": "HO", "discipline": "Electrical", "area": "GPP", "rfqNo": "PO-0083/SLK/IV/2025", "packageName": "Grounding Material", "description": "Grounding Cable & Wire, Grounding & Lightning Protection System", "contractNo": "PO-0083/SLK/IV/2025", "vendorName": "Kotaminyak Internusa", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-03-20", "actual": "2025-03-03"}, "receiveQuotation": {"plan": "2025-03-13", "actual": "2025-03-13"}, "issueTBE": {"plan": "2025-04-04", "actual": "2025-04-16"}, "issueCBE": {"plan": "2025-04-11", "actual": "2025-04-17"}, "finalNegotiation": {"plan": "2025-04-21", "actual": "2025-04-17"}, "issuePO": {"plan": "2025-04-24", "actual": "2025-04-24"}, "kom": {"plan": "2025-04-28", "actual": "2025-04-28"}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2025-04-24", "planFinish": "2025-06-20", "actualStart": "2025-04-24", "actualFinish": "2025-06-20", "statusDate": "2025-06-20", "planProgress": 100, "actualProgress": 100, "remark": "", "planFAT": "2025-06-12", "actualFAT": "2025-06-12", "fatResult": "Passed", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2025-06-26", "actualDelivery100": "2025-06-19", "shippingStatusDate": "2026-06-26", "shippingStatusPlan": 100, "shippingStatus": 100, "planMaterialAtSite100": "2025-07-02", "actualMaterialAtSite100": "2025-07-02", "materialStatusDate": "2026-01-26", "materialAtSitePlan": 100, "materialReceivedActual": 100}}, {"id": 1769437139156, "projectId": 1767154263681, "initiation": "HO", "discipline": "Electrical", "area": "GPP", "rfqNo": "PO-0114/SLK/VI/2025", "packageName": "Generator Transformer", "description": "Generator Transformer", "contractNo": "PO-0114/SLK/VI/2025", "vendorName": "Unelec Indonesia (UNINDO)", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-03-12", "actual": "2025-02-11"}, "receiveQuotation": {"plan": "2025-03-22", "actual": "2025-04-15"}, "issueTBE": {"plan": "2025-03-27", "actual": "2025-06-24"}, "issueCBE": {"plan": "2025-04-03", "actual": "2025-05-21"}, "finalNegotiation": {"plan": "2025-04-13", "actual": "2025-05-21"}, "issuePO": {"plan": "2025-04-16", "actual": "2025-06-25"}, "kom": {"plan": "2025-06-25", "actual": "2025-06-25"}}, "engineering": {"required": true, "planStart": "2025-07-02", "planFinish": "2026-03-24", "actualStart": "2025-07-02", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 100, "remark": ""}, "manufacture": {"planStart": "2025-12-21", "planFinish": "2026-03-31", "actualStart": "", "actualFinish": "", "statusDate": "2026-01-23", "planProgress": 35, "actualProgress": 50, "remark": "", "planFAT": "2026-03-10", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "Exwork Unindo", "planDelivery100": "2026-03-31", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-03-31", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769438658189, "projectId": 1767154263681, "initiation": "HO", "discipline": "Electrical", "area": "GPP", "rfqNo": "PO-0193/SLK/VIII/2025", "packageName": "Isolated Phase Busduct (IPB)", "description": "11.8 KV Isolated Phase Bus Duct (IPB) - FOB Gdynia, Poland. Include Steel structure Support (IPB)", "contractNo": "PO-0193/SLK/VIII/2025", "vendorName": "Graha Usaha Teknik", "coo": "", "milestones": {"issueRFQ": {"plan": "2025-04-26", "actual": "2025-03-03"}, "receiveQuotation": {"plan": "2025-05-06", "actual": "2025-06-12"}, "issueTBE": {"plan": "2025-05-11", "actual": "2025-08-13"}, "issueCBE": {"plan": "2025-05-18", "actual": "2025-08-13"}, "finalNegotiation": {"plan": "2025-05-28", "actual": "2025-08-13"}, "issuePO": {"plan": "2025-05-31", "actual": "2025-08-24"}, "kom": {"plan": "2025-09-03", "actual": "2025-09-03"}}, "engineering": {"required": true, "planStart": "2025-09-01", "planFinish": "2025-10-08", "actualStart": "2025-09-01", "actualFinish": "", "statusDate": "2025-12-30", "planProgress": 100, "actualProgress": 97, "remark": ""}, "manufacture": {"planStart": "2025-10-09", "planFinish": "2026-02-28", "actualStart": "2025-10-09", "actualFinish": "", "statusDate": "2026-01-29", "planProgress": 97, "actualProgress": 80, "remark": "Cargo ready at Poland 16-Mar-26 (FOB Gdynia)", "planFAT": "2026-02-26", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "FOB", "deliveryLocation": "Gdynia, Poland", "planDelivery100": "2026-03-16", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-04-01", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769439297935, "projectId": 1767154263681, "initiation": "HO", "discipline": "Electrical", "area": "GPP", "rfqNo": "PO-0191/SLK/VIII/2025", "packageName": "Generator Circuit Breaker (GCB) & Transformer Circuit Breaker (TCB)", "description": "Generator Circuit Breaker & Transformer Circuit Breaker", "contractNo": "PO-0191/SLK/VIII/2025", "vendorName": "Hitachi Energy", "coo": "Germany", "milestones": {"issueRFQ": {"plan": "2025-07-27", "actual": "2025-02-10"}, "receiveQuotation": {"plan": "2025-08-06", "actual": "2025-06-11"}, "issueTBE": {"plan": "2025-08-11", "actual": "2025-08-13"}, "issueCBE": {"plan": "2025-08-18", "actual": "2025-08-13"}, "finalNegotiation": {"plan": "2025-08-28", "actual": "2025-08-13"}, "issuePO": {"plan": "2025-08-31", "actual": "2025-08-22"}, "kom": {"plan": "2025-09-19", "actual": "2025-09-19"}}, "engineering": {"required": true, "planStart": "2025-09-19", "planFinish": "2026-05-11", "actualStart": "2025-09-19", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 58, "remark": "Review document GAD"}, "manufacture": {"planStart": "2025-12-09", "planFinish": "2026-05-21", "actualStart": "2025-09-19", "actualFinish": "", "statusDate": "2026-01-26", "planProgress": 28, "actualProgress": 16, "remark": "16% of 21% planned (based on unofficial progress report Hitachi)\nManufactured by Swiss", "planFAT": "2026-05-11", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "Germany", "planDelivery100": "2026-05-30", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-30", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769440405123, "projectId": 1767154263681, "initiation": "HO", "discipline": "Electrical", "area": "GPP", "rfqNo": "PO-0238/SLK/X/2025", "packageName": "UPS & Battery Charger", "description": "AC UPS Components, DC Charger Components, Batteries, Battery Protection Box, Battery Rack", "contractNo": "PO-0238/SLK/X/2025", "vendorName": "Caleb Technology", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-08-24", "actual": "2025-05-28"}, "receiveQuotation": {"plan": "2025-09-07", "actual": "2025-06-24"}, "issueTBE": {"plan": "2025-09-08", "actual": "2025-09-12"}, "issueCBE": {"plan": "2025-09-15", "actual": "2025-09-25"}, "finalNegotiation": {"plan": "2025-09-25", "actual": "2025-09-25"}, "issuePO": {"plan": "2025-09-28", "actual": "2025-09-30"}, "kom": {"plan": "2025-10-07", "actual": "2025-10-07"}}, "engineering": {"required": true, "planStart": "2025-10-07", "planFinish": "2026-03-02", "actualStart": "2025-10-07", "actualFinish": "", "statusDate": "2026-01-26", "planProgress": 96, "actualProgress": 34, "remark": ""}, "manufacture": {"planStart": "2025-10-28", "planFinish": "2026-03-09", "actualStart": "2025-10-28", "actualFinish": "", "statusDate": "2026-01-26", "planProgress": 92, "actualProgress": 50, "remark": "Progress based on expediting status report\n(proc. 100% + fab. 0%)\nalready PIM (Pre-inspection Meeting)", "planFAT": "2026-02-25", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "FOB", "deliveryLocation": "Singapore", "planDelivery100": "2026-03-15", "actualDelivery100": "", "shippingStatusDate": "2026-01-26", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-03-30", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769440564379, "projectId": 1767154263681, "initiation": "HO", "discipline": "Electrical", "area": "GPP", "rfqNo": "PO-0207/SLK/IX/2025", "packageName": "UAT, UST, & NGR", "description": "Unit Auxiliary Transformer, Unit Service Transformer & Neutral Grounding Resistor", "contractNo": "PO-0207/SLK/IX/2025", "vendorName": "Trafoindo Power Indonesia", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-07-27", "actual": "2025-05-31"}, "receiveQuotation": {"plan": "2025-08-06", "actual": "2025-07-03"}, "issueTBE": {"plan": "2025-08-11", "actual": "2025-08-08"}, "issueCBE": {"plan": "2025-08-18", "actual": "2025-08-15"}, "finalNegotiation": {"plan": "2025-08-28", "actual": "2025-08-15"}, "issuePO": {"plan": "2025-08-31", "actual": "2025-09-12"}, "kom": {"plan": "2025-09-11", "actual": "2025-09-11"}}, "engineering": {"required": true, "planStart": "2025-09-11", "planFinish": "2026-02-08", "actualStart": "2025-09-11", "actualFinish": "2026-02-08", "statusDate": "2026-01-26", "planProgress": 100, "actualProgress": 100, "remark": ""}, "manufacture": {"planStart": "2025-09-18", "planFinish": "2026-05-06", "actualStart": "2025-10-13", "actualFinish": "", "statusDate": "2026-01-26", "planProgress": 79, "actualProgress": 78, "remark": "Progress as per report project schedule : 13-Feb-26\nTarget Finish date 8-Mar-26 change to 6-May-26", "planFAT": "2026-04-29", "actualFAT": "", "fatResult": "", "fatRemarks": "Reschedule -> from 27-Feb-26 change to 29-Apr-26 until 6-May-26"}, "delivery": {"incoterm": "FCA", "deliveryLocation": "", "planDelivery100": "2026-05-08", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-13", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769476434001, "projectId": 1767154263681, "initiation": "HO", "discipline": "Electrical", "area": "GPP", "rfqNo": "PO-0231/SLK/X/2025", "packageName": "150KV Cable and Switchyard Equipment", "description": "150KV Cable and Switchyard Equipment", "contractNo": "PO-0231/SLK/X/2025", "vendorName": "KMI Wire and Cable", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-07-27", "actual": "2025-02-13"}, "receiveQuotation": {"plan": "2025-08-10", "actual": "2025-03-28"}, "issueTBE": {"plan": "2025-08-11", "actual": "2025-08-10"}, "issueCBE": {"plan": "2025-08-18", "actual": "2025-08-10"}, "finalNegotiation": {"plan": "2025-08-28", "actual": "2025-08-28"}, "issuePO": {"plan": "2025-08-31", "actual": "2025-10-03"}, "kom": {"plan": "2025-10-03", "actual": "2025-10-03"}}, "engineering": {"required": true, "planStart": "2025-10-03", "planFinish": "2026-02-27", "actualStart": "2025-10-03", "actualFinish": "", "statusDate": "2026-02-03", "planProgress": 99, "actualProgress": 99, "remark": ""}, "manufacture": {"planStart": "2025-10-10", "planFinish": "2026-03-12", "actualStart": "", "actualFinish": "", "statusDate": "2026-02-03", "planProgress": 96, "actualProgress": 96, "remark": "as per justify Pak Devy", "planFAT": "2026-03-10", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site", "planDelivery100": "2026-03-12", "actualDelivery100": "", "shippingStatusDate": "2026-01-27", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-03-19", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769477040952, "projectId": 1767154263681, "initiation": "HO", "discipline": "Electrical", "area": "GPP", "rfqNo": "PO-0240/SLK/X/2025", "packageName": "Emergency Diesel Generator", "description": "Emergency Diesel Generator", "contractNo": "PO-0240/SLK/X/2025", "vendorName": "Navitas Technology", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-08-24", "actual": "2025-07-14"}, "receiveQuotation": {"plan": "2025-09-03", "actual": "2025-07-10"}, "issueTBE": {"plan": "2025-09-08", "actual": "2025-09-08"}, "issueCBE": {"plan": "2025-09-15", "actual": "2025-09-15"}, "finalNegotiation": {"plan": "2025-09-25", "actual": "2025-09-15"}, "issuePO": {"plan": "2025-09-28", "actual": "2025-10-01"}, "kom": {"plan": "2025-10-15", "actual": "2025-10-08"}}, "engineering": {"required": true, "planStart": "2025-10-10", "planFinish": "2026-03-02", "actualStart": "2025-10-10", "actualFinish": "", "statusDate": "2026-01-27", "planProgress": 97, "actualProgress": 47, "remark": ""}, "manufacture": {"planStart": "2025-12-24", "planFinish": "2026-03-13", "actualStart": "2025-12-24", "actualFinish": "", "statusDate": "2026-01-27", "planProgress": 55, "actualProgress": 45, "remark": "as per progress 29-Jan-26", "planFAT": "2026-03-11", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site", "planDelivery100": "2026-03-16", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-03-23", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769477337209, "projectId": 1767154263681, "initiation": "HO", "discipline": "Electrical", "area": "GPP", "rfqNo": "PO-0257/SLK/X/2025", "packageName": "MV Switchgear & LV Switchgear ", "description": "6.3 KV & 0.4 Switchgear MCC AND LV Busduct ", "contractNo": "PO-0257/SLK/X/2025", "vendorName": "Schneider Indonesia", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-05-02", "actual": "2025-07-07"}, "receiveQuotation": {"plan": "2025-05-12", "actual": "2025-07-04"}, "issueTBE": {"plan": "2025-05-17", "actual": "2025-09-17"}, "issueCBE": {"plan": "2025-05-24", "actual": "2025-10-13"}, "finalNegotiation": {"plan": "2025-06-03", "actual": "2025-10-13"}, "issuePO": {"plan": "2025-06-06", "actual": "2025-10-13"}, "kom": {"plan": "2025-10-27", "actual": "2025-10-27"}}, "engineering": {"required": true, "planStart": "2025-10-27", "planFinish": "2026-04-12", "actualStart": "2025-10-27", "actualFinish": "", "statusDate": "2026-02-01", "planProgress": 81, "actualProgress": 46, "remark": "2 GA & Single Line drawing n/y finish review (due date 2-Jan-26)"}, "manufacture": {"planStart": "2025-11-07", "planFinish": "2026-04-20", "actualStart": "2025-11-07", "actualFinish": "", "statusDate": "2026-01-27", "planProgress": 67, "actualProgress": 65, "remark": "", "planFAT": "2026-04-20", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site", "planDelivery100": "2026-04-28", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-04-30", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769479447729, "projectId": 1767154263681, "initiation": "HO", "discipline": "Electrical", "area": "GPP", "rfqNo": "PO-0285/SLK/XI/2025", "packageName": "150kV Combine CT/VT & Installation", "description": "150kV Combine CT/VT & Installation, CTVT 1 AU, Cable & Sealing End 6 SET ", "contractNo": "PO-0285/SLK/XI/2025", "vendorName": "Globalindo Energi Perkasa (GEP)", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-07-27", "actual": "2025-09-10"}, "receiveQuotation": {"plan": "2025-08-10", "actual": "2025-10-08"}, "issueTBE": {"plan": "2025-08-11", "actual": "2025-10-27"}, "issueCBE": {"plan": "2025-08-18", "actual": "2025-10-31"}, "finalNegotiation": {"plan": "2025-08-28", "actual": "2025-10-31"}, "issuePO": {"plan": "2025-08-31", "actual": "2025-11-11"}, "kom": {"plan": "2025-11-17", "actual": "2025-11-17"}}, "engineering": {"required": true, "planStart": "2025-11-17", "planFinish": "2026-06-01", "actualStart": "", "actualFinish": "", "statusDate": "2026-02-03", "planProgress": 48, "actualProgress": 63, "remark": ""}, "manufacture": {"planStart": "2025-11-24", "planFinish": "2026-06-09", "actualStart": "2026-01-01", "actualFinish": "", "statusDate": "2026-01-28", "planProgress": 35, "actualProgress": 20, "remark": "as per progress report 29-Jan-26", "planFAT": "2026-05-22", "actualFAT": "", "fatResult": "", "fatRemarks": "FAT: 4-5 Mei (Steel Support), 22Mei-1 Juni (CTVT), 1-3 Juni (JB & Cable)"}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site", "planDelivery100": "2026-06-09", "actualDelivery100": "", "shippingStatusDate": "2026-01-27", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-12", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769480656027, "projectId": 1767154263681, "initiation": "HO", "discipline": "Electrical", "area": "GPP", "rfqNo": "PO-0323/SLK/XII/2025", "packageName": "Electrical Protection and Metering System", "description": "Protection and Metering Panel", "contractNo": "PO-0323/SLK/XII/2025", "vendorName": "Jasa Rekayasa Mandiri", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-11-09", "actual": "2025-10-07"}, "receiveQuotation": {"plan": "2025-11-19", "actual": "2025-10-24"}, "issueTBE": {"plan": "2025-11-24", "actual": "2025-11-26"}, "issueCBE": {"plan": "2025-12-01", "actual": "2025-11-26"}, "finalNegotiation": {"plan": "2025-12-11", "actual": "2025-11-26"}, "issuePO": {"plan": "2025-12-14", "actual": "2025-12-09"}, "kom": {"plan": "2025-12-15", "actual": "2025-12-15"}}, "engineering": {"required": true, "planStart": "2025-12-15", "planFinish": "2026-05-14", "actualStart": "2025-12-15", "actualFinish": "", "statusDate": "2026-02-03", "planProgress": 36, "actualProgress": 56, "remark": ""}, "manufacture": {"planStart": "2026-01-15", "planFinish": "2026-05-29", "actualStart": "", "actualFinish": "", "statusDate": "2026-01-27", "planProgress": 4, "actualProgress": 28, "remark": "material proc. 56%, Fab. 0%. progress manufacture 28%", "planFAT": "2026-04-25", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Salak, Sukabumi", "planDelivery100": "2026-05-29", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-05", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769481347372, "projectId": 1767154263681, "initiation": "HO", "discipline": "Electrical", "area": "GPP", "rfqNo": "PO-0001/SLK/I/2026", "packageName": "Telecommunication System", "description": "CCR, Telephone System, PAGA System, LAN System, Clock System, & Accessories", "contractNo": "PO-0001/SLK/I/2026", "vendorName": "Interprima Indokom", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-09-28", "actual": "2025-09-26"}, "receiveQuotation": {"plan": "2025-10-12", "actual": "2025-10-23"}, "issueTBE": {"plan": "2025-10-13", "actual": "2025-12-16"}, "issueCBE": {"plan": "2025-10-20", "actual": "2025-12-21"}, "finalNegotiation": {"plan": "2025-10-30", "actual": "2025-10-23"}, "issuePO": {"plan": "2025-11-02", "actual": "2026-01-05"}, "kom": {"plan": "2026-01-06", "actual": "2026-01-06"}}, "engineering": {"required": true, "planStart": "2026-01-06", "planFinish": "2026-04-30", "actualStart": "2026-01-06", "actualFinish": "", "statusDate": "2026-02-03", "planProgress": 20, "actualProgress": 54, "remark": ""}, "manufacture": {"planStart": "2026-01-13", "planFinish": "2026-05-05", "actualStart": "2026-01-13", "actualFinish": "", "statusDate": "2026-02-03", "planProgress": 12, "actualProgress": 37, "remark": "", "planFAT": "2026-05-05", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site", "planDelivery100": "2026-05-13", "actualDelivery100": "", "shippingStatusDate": "2026-01-27", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-20", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769482022185, "projectId": 1767154263681, "initiation": "HO", "discipline": "Electrical", "area": "GPP", "rfqNo": "PO-0003/SLK/I/2026", "packageName": "Fire Alarm", "description": "Control Panel, Junction Box, Smoke Detector  Indoor Type, Heat Detector  Outdoor Type, Combi Unit Sound Beacon, Manual Call Point, Conventional Sound Detector, Hydrogen Gas Detector, Smoke Detector Tester for Commissioning, Commissioning Spare Part", "contractNo": "PO-0003/SLK/I/2026", "vendorName": "Suplintama Majusemesta", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-10-26", "actual": "2025-09-20"}, "receiveQuotation": {"plan": "2025-11-09", "actual": "2025-10-10"}, "issueTBE": {"plan": "2025-11-10", "actual": "2025-12-16"}, "issueCBE": {"plan": "2025-11-17", "actual": "2025-12-21"}, "finalNegotiation": {"plan": "2025-11-27", "actual": "2025-12-23"}, "issuePO": {"plan": "2025-11-30", "actual": "2025-12-25"}, "kom": {"plan": "2026-01-06", "actual": "2026-01-06"}}, "engineering": {"required": true, "planStart": "2026-01-06", "planFinish": "2026-05-25", "actualStart": "2026-01-06", "actualFinish": "", "statusDate": "2026-02-03", "planProgress": 14, "actualProgress": 59, "remark": ""}, "manufacture": {"planStart": "2026-01-13", "planFinish": "2026-06-10", "actualStart": "", "actualFinish": "", "statusDate": "2026-01-27", "planProgress": 4, "actualProgress": 0, "remark": "Forecast delivery: 30-Apr-2026 (info Pak Arifin)", "planFAT": "2026-06-08", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site", "planDelivery100": "2026-06-10", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-17", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769482787620, "projectId": 1767154263681, "initiation": "HO", "discipline": "Electrical", "area": "GPP", "rfqNo": "PO-0350/SLK/XII/2025", "packageName": "Electrical Cable Ladder & Tray", "description": "Electrical Cable Ladder & Tray, Bolt & Nut", "contractNo": "PO-0350/SLK/XII/2025", "vendorName": "Mekarsempurna Jayalestari", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-10-26", "actual": "2025-09-20"}, "receiveQuotation": {"plan": "2025-11-09", "actual": "2025-10-24"}, "issueTBE": {"plan": "2025-11-10", "actual": "2025-12-04"}, "issueCBE": {"plan": "2025-11-17", "actual": "2025-12-04"}, "finalNegotiation": {"plan": "2025-11-27", "actual": "2025-12-04"}, "issuePO": {"plan": "2025-11-30", "actual": "2026-01-02"}, "kom": {"plan": "2026-01-07", "actual": "2026-01-07"}}, "engineering": {"required": true, "planStart": "2026-01-07", "planFinish": "2026-01-30", "actualStart": "2026-01-07", "actualFinish": "", "statusDate": "2026-01-27", "planProgress": 99, "actualProgress": 43, "remark": ""}, "manufacture": {"planStart": "2026-01-12", "planFinish": "2026-02-28", "actualStart": "2026-01-12", "actualFinish": "", "statusDate": "2026-02-10", "planProgress": 86, "actualProgress": 0, "remark": "Partial Shipment (Expeditor - Bill)\nDAP Salak 7\n1. 1st delivery 24-Feb-2026\n2. 2nd delivery 14-May-26", "planFAT": "2026-02-16", "actualFAT": "2026-02-16", "fatResult": "", "fatRemarks": "tidak ada FAT"}, "delivery": {"incoterm": "DAP", "deliveryLocation": "Site Salak 7", "planDelivery100": "2026-02-28", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-03-05", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769484738541, "projectId": 1767154263681, "initiation": "HO", "discipline": "Civil", "area": "GPP", "rfqNo": "SO-0053/SLK/VI/2025", "packageName": "Steel Structure", "description": "Steel Structure", "contractNo": "SO-0053/SLK/VI/2025", "vendorName": "Bukaka Teknik Utama", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-05-01", "actual": "2025-05-06"}, "receiveQuotation": {"plan": "2025-05-11", "actual": "2025-04-15"}, "issueTBE": {"plan": "2025-05-16", "actual": "2025-05-28"}, "issueCBE": {"plan": "2025-05-23", "actual": "2025-06-04"}, "finalNegotiation": {"plan": "2025-06-02", "actual": "2025-06-04"}, "issuePO": {"plan": "2025-06-05", "actual": "2025-06-09"}, "kom": {"plan": "2025-06-13", "actual": "2025-06-13"}}, "engineering": {"required": true, "planStart": "2025-06-16", "planFinish": "2025-09-16", "actualStart": "2025-06-16", "actualFinish": "2025-09-26", "statusDate": "2025-09-26", "planProgress": 100, "actualProgress": 100, "remark": ""}, "manufacture": {"planStart": "2025-06-16", "planFinish": "2026-01-09", "actualStart": "2025-06-16", "actualFinish": "", "statusDate": "2026-01-27", "planProgress": 100, "actualProgress": 90, "remark": "", "planFAT": "2026-01-05", "actualFAT": "2026-01-05", "fatResult": "Passed with Remarks", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site", "planDelivery100": "2026-01-09", "actualDelivery100": "", "shippingStatusDate": "2026-02-09", "shippingStatusPlan": 100, "shippingStatus": 80, "planMaterialAtSite100": "2026-01-09", "actualMaterialAtSite100": "", "materialStatusDate": "2026-02-09", "materialAtSitePlan": 100, "materialReceivedActual": 80}}, {"id": 1769564870829, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "PR-0002/ENG-ME-SLK/XII/2024", "packageName": "Inter/After Condenser (GRS)", "description": "Inter/After Condenser for Gas Removal System Package ", "contractNo": "PR-0002/ENG-ME-SLK/XII/2024", "vendorName": "Tsurumi Manufacturing Co., Ltd", "coo": "China", "milestones": {"issueRFQ": {"plan": "2024-10-17", "actual": "2024-08-02"}, "receiveQuotation": {"plan": "2024-12-08", "actual": "2024-06-15"}, "issueTBE": {"plan": "2024-12-02", "actual": "2024-12-06"}, "issueCBE": {"plan": "2024-12-09", "actual": "2024-12-19"}, "finalNegotiation": {"plan": "2024-12-19", "actual": "2024-12-19"}, "issuePO": {"plan": "2024-12-19", "actual": "2024-12-19"}, "kom": {"plan": "2025-01-09", "actual": "2025-01-09"}}, "engineering": {"required": true, "planStart": "2025-01-09", "planFinish": "2025-03-09", "actualStart": "2025-01-09", "actualFinish": "", "statusDate": "2026-01-28", "planProgress": 100, "actualProgress": 88, "remark": ""}, "manufacture": {"planStart": "2025-01-15", "planFinish": "2026-04-15", "actualStart": "2025-01-15", "actualFinish": "", "statusDate": "2026-01-28", "planProgress": 99, "actualProgress": 76, "remark": "Inter-After Condenser (FOB Hamburg)", "planFAT": "2026-03-05", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "FOB", "deliveryLocation": "China", "planDelivery100": "2026-05-01", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-01", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769565692503, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "PR-0002/ENG-ME-SLK/XII/2024", "packageName": "Steam Ejector (GRS)", "description": "Steam Ejector for Gas Removal System Package", "contractNo": "PR-0002/ENG-ME-SLK/XII/2024", "vendorName": "Tsurumi Manufacturing Co., Ltd", "coo": "Germany", "milestones": {"issueRFQ": {"plan": "2024-10-17", "actual": "2024-08-02"}, "receiveQuotation": {"plan": "2024-12-08", "actual": "2024-06-15"}, "issueTBE": {"plan": "2024-12-02", "actual": "2024-12-06"}, "issueCBE": {"plan": "2024-12-09", "actual": "2024-12-09"}, "finalNegotiation": {"plan": "2024-12-19", "actual": "2024-12-19"}, "issuePO": {"plan": "2024-12-19", "actual": "2024-12-19"}, "kom": {"plan": "2025-01-09", "actual": "2025-01-09"}}, "engineering": {"required": true, "planStart": "2025-01-09", "planFinish": "2026-03-09", "actualStart": "2025-01-09", "actualFinish": "", "statusDate": "2026-01-28", "planProgress": 100, "actualProgress": 88, "remark": "Steam Ejector (FOB Shanghai) - Potential delay of Steam Ejector caused by additional elongation requirement and design revision."}, "manufacture": {"planStart": "2025-01-15", "planFinish": "2026-04-01", "actualStart": "2025-01-15", "actualFinish": "", "statusDate": "2026-01-28", "planProgress": 99, "actualProgress": 76, "remark": "Steam Ejector (FOB Shanghai) - Potential delay of Steam Ejector caused by additional elongation requirement and design revision.", "planFAT": "2026-03-16", "actualFAT": "", "fatResult": "", "fatRemarks": "Sesuai MoM Weekly Meeting FAT 16-Mar-26"}, "delivery": {"incoterm": "FOB", "deliveryLocation": "Germany", "planDelivery100": "2026-05-01", "actualDelivery100": "", "shippingStatusDate": "2026-01-28", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-01", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769567657439, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "ZPOM - 31001502 / TMS-HO/PKS-LI/XI/2024", "packageName": "Generator for Steam Turbine", "description": "Generator for Steam Turbine & Generator Package", "contractNo": "ZPOM - 31001502 / TMS-HO/PKS-LI/XI/2024", "vendorName": "Fuji Electric Ltd.", "coo": "Japan", "milestones": {"issueRFQ": {"plan": "2024-09-27", "actual": "2024-11-01"}, "receiveQuotation": {"plan": "2024-10-18", "actual": "2024-11-01"}, "issueTBE": {"plan": "2024-10-12", "actual": "2024-11-01"}, "issueCBE": {"plan": "2024-10-19", "actual": "2024-11-01"}, "finalNegotiation": {"plan": "2024-10-29", "actual": "2024-11-01"}, "issuePO": {"plan": "2024-10-01", "actual": "2024-11-01"}, "kom": {"plan": "2024-10-10", "actual": "2024-11-28"}}, "engineering": {"required": true, "planStart": "2025-11-28", "planFinish": "2026-03-07", "actualStart": "2025-11-28", "actualFinish": "", "statusDate": "2026-01-28", "planProgress": 86, "actualProgress": 77, "remark": ""}, "manufacture": {"planStart": "2024-11-28", "planFinish": "2026-05-08", "actualStart": "2024-11-28", "actualFinish": "", "statusDate": "2026-01-28", "planProgress": 98, "actualProgress": 84, "remark": "", "planFAT": "2026-02-26", "actualFAT": "", "fatResult": "", "fatRemarks": "FAT Generator (FE) start 26-Feb-26 until 17-Mar-26"}, "delivery": {"incoterm": "FOB", "deliveryLocation": "Yokohama", "planDelivery100": "2026-05-15", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-15", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769570159334, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "GPP", "rfqNo": "PO-0046/SLK/II/2025", "packageName": "Hotwell Pump (HWP)", "description": "Circulating Cooling Water Pump & Hotwell Pump Package", "contractNo": "PO-0046/SLK/II/2025", "vendorName": "Torishima Guna Engineering", "coo": "Japan", "milestones": {"issueRFQ": {"plan": "2025-01-22", "actual": "2025-01-20"}, "receiveQuotation": {"plan": "2025-02-12", "actual": "2025-01-27"}, "issueTBE": {"plan": "2025-02-08", "actual": "2025-02-08"}, "issueCBE": {"plan": "2025-02-13", "actual": "2025-02-13"}, "finalNegotiation": {"plan": "2025-02-23", "actual": "2025-02-26"}, "issuePO": {"plan": "2025-02-26", "actual": "2025-02-26"}, "kom": {"plan": "2025-03-10", "actual": "2025-03-10"}}, "engineering": {"required": true, "planStart": "2025-03-10", "planFinish": "2026-03-09", "actualStart": "", "actualFinish": "", "statusDate": "2026-01-28", "planProgress": 99, "actualProgress": 80, "remark": ""}, "manufacture": {"planStart": "2025-07-01", "planFinish": "2026-04-25", "actualStart": "2025-07-01", "actualFinish": "", "statusDate": "2026-02-18", "planProgress": 97, "actualProgress": 94, "remark": "Plan finish manufacture W-3 April 2026\nFAT 18-Feb-26", "planFAT": "2026-02-16", "actualFAT": "2026-02-16", "fatResult": "Passed", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site Salak, Sukabumi", "planDelivery100": "2026-04-27", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-09", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769584727752, "projectId": 1767154263681, "initiation": "HO", "discipline": "Mechanical", "area": "SAGS", "rfqNo": "PO-0199/SLK/VIII/2025", "packageName": "Atmospheric Flash Tank and Oil Storage Tank", "description": "Atmospheric Flash Tank and Oil Storage Tank Package", "contractNo": "PO-0199/SLK/VIII/2025", "vendorName": "Timas Suplindo", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-07-27", "actual": "2025-06-04"}, "receiveQuotation": {"plan": "2025-08-17", "actual": "2025-06-17"}, "issueTBE": {"plan": "2025-08-11", "actual": "2025-08-13"}, "issueCBE": {"plan": "2025-08-18", "actual": "2025-08-22"}, "finalNegotiation": {"plan": "2025-08-28", "actual": "2025-08-22"}, "issuePO": {"plan": "2025-08-31", "actual": "2025-08-27"}, "kom": {"plan": "2025-09-10", "actual": "2025-09-10"}}, "engineering": {"required": true, "planStart": "2025-09-16", "planFinish": "2026-03-02", "actualStart": "2025-09-16", "actualFinish": "", "statusDate": "2026-01-26", "planProgress": 98, "actualProgress": 89, "remark": ""}, "manufacture": {"planStart": "2025-11-18", "planFinish": "2026-04-24", "actualStart": "2025-11-18", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 69, "remark": "", "planFAT": "2026-04-24", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site Salak, Sukabumi", "planDelivery100": "2026-04-30", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-04", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769652626403, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "", "packageName": "Fire Monitor, Hose Cabinet, Eyewash, Outdoor Hydrant", "description": "Fire Monitor, Hose Cabinet, Eyewash, Outdoor Hydrant", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-08-01", "actual": "2025-08-01"}, "receiveQuotation": {"plan": "2025-12-19", "actual": "2025-12-19"}, "issueTBE": {"plan": "2025-12-30", "actual": "2025-12-30"}, "issueCBE": {"plan": "2026-01-09", "actual": ""}, "finalNegotiation": {"plan": "2026-01-23", "actual": ""}, "issuePO": {"plan": "2026-02-09", "actual": ""}, "kom": {"plan": "2026-02-13", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-02-23", "planFinish": "2026-04-23", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-02", "planFinish": "2026-05-05", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-05-05", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-05-06", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-10", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769652914836, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "", "packageName": "Hot Tapping Work", "description": "Hot Tapping Work", "contractNo": "", "vendorName": "Farrel Internusa Pratama", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-09-01", "actual": "2025-09-01"}, "receiveQuotation": {"plan": "2025-09-12", "actual": "2025-09-12"}, "issueTBE": {"plan": "2025-09-18", "actual": "2025-09-19"}, "issueCBE": {"plan": "2025-10-03", "actual": "2026-02-04"}, "finalNegotiation": {"plan": "2026-01-27", "actual": "2026-02-04"}, "issuePO": {"plan": "2026-02-06", "actual": "2026-02-05"}, "kom": {"plan": "2026-02-13", "actual": "2026-02-12"}}, "engineering": {"required": true, "planStart": "2026-02-13", "planFinish": "2026-06-05", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-01", "planFinish": "2026-06-05", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-06-05", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Salak, Sukabumi", "planDelivery100": "2026-06-05", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-08", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769654434186, "projectId": 1767154263681, "initiation": "HO", "discipline": "Electrical", "area": "GPP", "rfqNo": "SEG-SK7-EL-PSPS-RFQ-0008", "packageName": "Cable & Wire", "description": "Cable & Wire", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-09-29", "actual": "2025-09-29"}, "receiveQuotation": {"plan": "2025-10-29", "actual": "2025-10-29"}, "issueTBE": {"plan": "2025-11-21", "actual": "2025-02-06"}, "issueCBE": {"plan": "2025-11-28", "actual": ""}, "finalNegotiation": {"plan": "2025-12-02", "actual": ""}, "issuePO": {"plan": "2025-12-09", "actual": ""}, "kom": {"plan": "2025-12-16", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-02-23", "planFinish": "2026-03-31", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-02", "planFinish": "2026-07-01", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-06-22", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Salak, Sukabumi", "planDelivery100": "2026-07-06", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-07-14", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769654871909, "projectId": 1767154263681, "initiation": "HO", "discipline": "Electrical", "area": "GPP", "rfqNo": "SEG-SK7-EL-PSPS-RFQ-0021", "packageName": "Electrical Heat Tracing", "description": "RFQ Sent to PT. Bartec & PT. Zoneta Prima Abadi", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2026-01-27", "actual": ""}, "receiveQuotation": {"plan": "2026-02-03", "actual": ""}, "issueTBE": {"plan": "2026-02-10", "actual": ""}, "issueCBE": {"plan": "2026-02-17", "actual": ""}, "finalNegotiation": {"plan": "2026-02-24", "actual": ""}, "issuePO": {"plan": "2026-02-27", "actual": ""}, "kom": {"plan": "2026-03-06", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-03-06", "planFinish": "2026-05-06", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-20", "planFinish": "2026-05-06", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-05-06", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "", "planDelivery100": "2026-05-11", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-18", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769658322501, "projectId": 1767154263681, "initiation": "HO", "discipline": "Civil", "area": "GPP", "rfqNo": "SO-0209-SLK-IX-2025", "packageName": "Supply Material HVAC", "description": "Supply & Installation HVAC", "contractNo": "SO-0209-SLK-IX-2025", "vendorName": "Daikin Applied Solutions Indonesia", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-06-10", "actual": "2025-07-31"}, "receiveQuotation": {"plan": "2025-06-20", "actual": "2025-08-25"}, "issueTBE": {"plan": "2025-06-25", "actual": "2025-08-25"}, "issueCBE": {"plan": "2025-07-02", "actual": "2025-09-02"}, "finalNegotiation": {"plan": "2025-07-12", "actual": "2025-09-02"}, "issuePO": {"plan": "2025-07-15", "actual": "2025-09-09"}, "kom": {"plan": "2025-09-15", "actual": "2025-09-15"}}, "engineering": {"required": true, "planStart": "2025-09-23", "planFinish": "2025-01-02", "actualStart": "2025-09-23", "actualFinish": "2025-11-17", "statusDate": "2025-11-28", "planProgress": 100, "actualProgress": 100, "remark": ""}, "manufacture": {"planStart": "2025-11-03", "planFinish": "2026-03-25", "actualStart": "2025-11-03", "actualFinish": "", "statusDate": "2025-12-30", "planProgress": 49, "actualProgress": 65, "remark": "", "planFAT": "2026-03-18", "actualFAT": "2026-02-18", "fatResult": "Passed with Remarks", "fatRemarks": "Terlaksana 18-Feb-26 "}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Salak, Sukabumi", "planDelivery100": "2026-03-25", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-03-27", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1769736554283, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PO-0007/SLK/XII/2024-REV.1", "packageName": "Valve for Tie-in Piping", "description": "Gate Valve for Tie-in Piping", "contractNo": "PO-0007/SLK/XII/2024-REV.1", "vendorName": "SS Valve", "coo": "South Korea", "milestones": {"issueRFQ": {"plan": "2024-11-15", "actual": "2024-11-13"}, "receiveQuotation": {"plan": "2024-11-28", "actual": "2024-11-22"}, "issueTBE": {"plan": "2024-11-29", "actual": "2024-12-13"}, "issueCBE": {"plan": "2024-12-04", "actual": "2024-12-13"}, "finalNegotiation": {"plan": "2024-12-09", "actual": "2024-12-13"}, "issuePO": {"plan": "2024-12-18", "actual": "2024-12-13"}, "kom": {"plan": "2024-12-20", "actual": "2024-12-19"}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2024-12-17", "planFinish": "2025-04-02", "actualStart": "2024-12-17", "actualFinish": "2025-04-02", "statusDate": "2025-04-02", "planProgress": 100, "actualProgress": 100, "remark": "", "planFAT": "2025-03-11", "actualFAT": "2025-03-11", "fatResult": "Passed", "fatRemarks": ""}, "delivery": {"incoterm": "FOB", "deliveryLocation": "South Korea - Delivery to Workshop Timas", "planDelivery100": "2025-04-05", "actualDelivery100": "2025-05-18", "shippingStatusDate": "2025-05-30", "shippingStatusPlan": 100, "shippingStatus": 100, "planMaterialAtSite100": "2025-05-30", "actualMaterialAtSite100": "2025-05-30", "materialStatusDate": "2025-05-30", "materialAtSitePlan": 100, "materialReceivedActual": 100}}, {"id": 1769739504990, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PO-0015/SLK/XII/2024", "packageName": "Pipe Fitting Flange Tie-in 1st MTO", "description": "Pipe Fitting Flange Tie-in 1st MTO (Pipe 36\", Pipe 2\", Fittings, Flanges)", "contractNo": "PO-0015/SLK/XII/2024", "vendorName": "Mitra Galperti", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2024-11-15", "actual": "2024-11-13"}, "receiveQuotation": {"plan": "2024-11-28", "actual": "2024-11-14"}, "issueTBE": {"plan": "2024-11-29", "actual": "2024-12-23"}, "issueCBE": {"plan": "2024-12-04", "actual": "2024-12-23"}, "finalNegotiation": {"plan": "2024-12-09", "actual": "2024-12-23"}, "issuePO": {"plan": "2024-12-18", "actual": "2024-12-23"}, "kom": {"plan": "2025-01-02", "actual": "2025-01-03"}}, "engineering": {"required": true, "planStart": "2025-01-02", "planFinish": "2025-02-19", "actualStart": "2025-01-02", "actualFinish": "2025-02-19", "statusDate": "2026-02-18", "planProgress": 100, "actualProgress": 100, "remark": ""}, "manufacture": {"planStart": "2025-01-05", "planFinish": "2025-02-19", "actualStart": "2025-01-05", "actualFinish": "2025-02-19", "statusDate": "2025-02-21", "planProgress": 100, "actualProgress": 100, "remark": "", "planFAT": "2025-02-18", "actualFAT": "2025-03-03", "fatResult": "Passed", "fatRemarks": ""}, "delivery": {"incoterm": "DAP", "deliveryLocation": "Workshop Timas", "planDelivery100": "2025-03-07", "actualDelivery100": "2025-03-07", "shippingStatusDate": "2025-03-07", "shippingStatusPlan": 100, "shippingStatus": 100, "planMaterialAtSite100": "2025-03-07", "actualMaterialAtSite100": "2025-03-07", "materialStatusDate": "2025-03-07", "materialAtSitePlan": 0, "materialReceivedActual": 100}}, {"id": 1769740450169, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PO-0018/SLK/XII/2024", "packageName": "Pipe Fitting Flange Tie-in 1st MTO (2nd Package)", "description": "Pipe Tie-in 8\", Flange 36\", Red. Tee 42\"x36\"", "contractNo": "PO-0018/SLK/XII/2024", "vendorName": "Paradise Perkasa", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2024-11-15", "actual": "2024-11-13"}, "receiveQuotation": {"plan": "2024-11-28", "actual": "2024-11-14"}, "issueTBE": {"plan": "2024-11-20", "actual": "2024-12-23"}, "issueCBE": {"plan": "2024-12-04", "actual": "2024-12-23"}, "finalNegotiation": {"plan": "2024-12-09", "actual": "2024-12-23"}, "issuePO": {"plan": "2024-12-16", "actual": "2024-12-23"}, "kom": {"plan": "2025-01-06", "actual": "2025-01-06"}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2025-01-07", "planFinish": "2025-03-26", "actualStart": "2025-01-08", "actualFinish": "2025-05-02", "statusDate": "2025-05-02", "planProgress": 100, "actualProgress": 100, "remark": "", "planFAT": "2025-05-02", "actualFAT": "2025-05-08", "fatResult": "Passed", "fatRemarks": ""}, "delivery": {"incoterm": "DAP", "deliveryLocation": "Workshop Timas", "planDelivery100": "2025-04-14", "actualDelivery100": "2025-05-08", "shippingStatusDate": "2025-05-08", "shippingStatusPlan": 100, "shippingStatus": 100, "planMaterialAtSite100": "2025-05-05", "actualMaterialAtSite100": "2025-05-08", "materialStatusDate": "2025-05-08", "materialAtSitePlan": 100, "materialReceivedActual": 100}}, {"id": 1769741385161, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PO-0020/SLK/I/2025", "packageName": "Stud Bolts & Nuts Fluorocarbon for Tie-in 2nd MTO", "description": "Stud Bolts & Nuts Fluorocarbon for Tie-in (Condensate Relocation 2nd MTO)", "contractNo": "PO-0020/SLK/I/2025", "vendorName": "Bukit Baja Nusantara", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2024-11-15", "actual": "2024-11-20"}, "receiveQuotation": {"plan": "2024-11-28", "actual": "2024-12-18"}, "issueTBE": {"plan": "2024-11-29", "actual": "2025-01-20"}, "issueCBE": {"plan": "2024-12-04", "actual": "2025-01-20"}, "finalNegotiation": {"plan": "2024-12-09", "actual": "2025-01-20"}, "issuePO": {"plan": "2024-12-18", "actual": "2025-01-23"}, "kom": {"plan": "2025-01-20", "actual": "2025-02-07"}}, "engineering": {"required": true, "planStart": "2025-01-20", "planFinish": "2025-02-27", "actualStart": "2025-01-20", "actualFinish": "2025-02-27", "statusDate": "2026-02-18", "planProgress": 100, "actualProgress": 100, "remark": ""}, "manufacture": {"planStart": "2025-02-10", "planFinish": "2025-02-27", "actualStart": "2025-02-10", "actualFinish": "2025-02-26", "statusDate": "2025-02-28", "planProgress": 100, "actualProgress": 100, "remark": "", "planFAT": "2025-02-18", "actualFAT": "2025-02-18", "fatResult": "Passed", "fatRemarks": ""}, "delivery": {"incoterm": "DAP", "deliveryLocation": "Workshop Timas", "planDelivery100": "2025-02-27", "actualDelivery100": "2025-02-27", "shippingStatusDate": "2025-02-28", "shippingStatusPlan": 100, "shippingStatus": 100, "planMaterialAtSite100": "2025-02-27", "actualMaterialAtSite100": "2025-02-27", "materialStatusDate": "2025-02-28", "materialAtSitePlan": 100, "materialReceivedActual": 100}}, {"id": 1769742448211, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PO-0044/SLK/II/2025", "packageName": "Gasket Tie-in 1st MTO", "description": "Gasket 36\", 2\", 8\"", "contractNo": "PO-0044/SLK/II/2025", "vendorName": "Fajar Benua Indopack", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2024-11-15", "actual": "2025-02-25"}, "receiveQuotation": {"plan": "2024-11-28", "actual": "2025-02-25"}, "issueTBE": {"plan": "2024-11-29", "actual": "2025-02-25"}, "issueCBE": {"plan": "2024-12-04", "actual": "2025-02-25"}, "finalNegotiation": {"plan": "2024-12-09", "actual": "2025-02-25"}, "issuePO": {"plan": "2024-12-15", "actual": "2025-02-25"}, "kom": {"plan": "2025-03-04", "actual": "2025-03-05"}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2025-03-05", "planFinish": "2025-03-21", "actualStart": "2025-03-05", "actualFinish": "2025-03-21", "statusDate": "2026-01-30", "planProgress": 100, "actualProgress": 100, "remark": "", "planFAT": "2025-03-19", "actualFAT": "2025-03-19", "fatResult": "Passed", "fatRemarks": ""}, "delivery": {"incoterm": "DAP", "deliveryLocation": "Workshop Timas", "planDelivery100": "2025-03-21", "actualDelivery100": "2025-03-21", "shippingStatusDate": "2026-01-30", "shippingStatusPlan": 100, "shippingStatus": 100, "planMaterialAtSite100": "2025-03-21", "actualMaterialAtSite100": "2025-03-21", "materialStatusDate": "2026-01-30", "materialAtSitePlan": 100, "materialReceivedActual": 100}}, {"id": 1769743231578, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PO-0056/SLK/III/2025", "packageName": "Pipe Fitting Condensate Relocation", "description": "Pipe 2\", 4\" and Elbows", "contractNo": "PO-0056/SLK/III/2025", "vendorName": "Mitra Galperti", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2024-11-15", "actual": "2024-12-23"}, "receiveQuotation": {"plan": "2024-11-20", "actual": "2024-12-23"}, "issueTBE": {"plan": "2024-11-28", "actual": "2025-02-20"}, "issueCBE": {"plan": "2024-12-05", "actual": "2025-02-27"}, "finalNegotiation": {"plan": "2024-12-12", "actual": "2025-02-27"}, "issuePO": {"plan": "2025-03-06", "actual": "2025-03-06"}, "kom": {"plan": "2025-03-13", "actual": "2025-03-11"}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2025-03-12", "planFinish": "2025-03-21", "actualStart": "2025-03-12", "actualFinish": "2025-03-21", "statusDate": "2026-01-30", "planProgress": 100, "actualProgress": 100, "remark": "", "planFAT": "2025-03-18", "actualFAT": "2025-03-18", "fatResult": "Passed", "fatRemarks": ""}, "delivery": {"incoterm": "DAP", "deliveryLocation": "Workshop Timas", "planDelivery100": "2025-03-21", "actualDelivery100": "2025-03-21", "shippingStatusDate": "2026-01-30", "shippingStatusPlan": 100, "shippingStatus": 100, "planMaterialAtSite100": "2025-03-21", "actualMaterialAtSite100": "2025-03-21", "materialStatusDate": "2026-01-30", "materialAtSitePlan": 100, "materialReceivedActual": 100}}, {"id": 1769744368097, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PO-0122/SLK/VI/2025", "packageName": "Pipe Seamless SAGS", "description": "Pipe A106 SMLS 4\", 8\", & 24\"", "contractNo": "PO-0122/SLK/VI/2025", "vendorName": "Paradise Perkasa", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-05-26", "actual": "2025-06-06"}, "receiveQuotation": {"plan": "2025-06-02", "actual": "2025-06-13"}, "issueTBE": {"plan": "2025-06-03", "actual": "2025-06-16"}, "issueCBE": {"plan": "2025-06-03", "actual": "2025-06-16"}, "finalNegotiation": {"plan": "2025-06-10", "actual": "2025-06-17"}, "issuePO": {"plan": "2025-06-17", "actual": "2025-06-18"}, "kom": {"plan": "2025-06-24", "actual": "2025-06-24"}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2025-07-01", "planFinish": "2025-10-10", "actualStart": "2025-07-01", "actualFinish": "", "statusDate": "2026-01-30", "planProgress": 100, "actualProgress": 100, "remark": "Remaining Pipe SMLS 24\" = 30 lgt (Done as per 18-Feb-26)\ninformation from Pak Devy", "planFAT": "2025-10-10", "actualFAT": "2025-10-10", "fatResult": "Passed", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Laydown Site Salak, Sukabumi", "planDelivery100": "2025-10-10", "actualDelivery100": "2025-10-10", "shippingStatusDate": "2026-01-30", "shippingStatusPlan": 100, "shippingStatus": 88, "planMaterialAtSite100": "2025-10-17", "actualMaterialAtSite100": "2025-10-17", "materialStatusDate": "2026-01-30", "materialAtSitePlan": 100, "materialReceivedActual": 88}}, {"id": 1769746182597, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "PO-0123/SLK/VI/2025", "packageName": "Fitting SAGS 1st MTO", "description": "Fitting SAGS 1st MTO", "contractNo": "PO-0123/SLK/VI/2025", "vendorName": "Paradise Perkasa", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-08-20", "actual": "2025-04-21"}, "receiveQuotation": {"plan": "2025-09-10", "actual": "2025-06-03"}, "issueTBE": {"plan": "2025-09-11", "actual": "2025-06-04"}, "issueCBE": {"plan": "2025-09-12", "actual": "2025-06-04"}, "finalNegotiation": {"plan": "2025-09-15", "actual": "2025-06-11"}, "issuePO": {"plan": "2025-09-16", "actual": "2025-06-18"}, "kom": {"plan": "2025-09-23", "actual": "2025-06-24"}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2025-07-01", "planFinish": "2025-09-12", "actualStart": "2025-07-01", "actualFinish": "2025-11-28", "statusDate": "2026-01-30", "planProgress": 100, "actualProgress": 97, "remark": "Remaining Weldolet 18\"x2\", Elbow-90 32\"", "planFAT": "2025-09-05", "actualFAT": "2025-11-24", "fatResult": "Passed", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Laydown Site, Salak, Sukabumi", "planDelivery100": "2025-09-12", "actualDelivery100": "2025-11-28", "shippingStatusDate": "2026-01-30", "shippingStatusPlan": 100, "shippingStatus": 97, "planMaterialAtSite100": "2025-09-12", "actualMaterialAtSite100": "2025-11-28", "materialStatusDate": "2026-01-30", "materialAtSitePlan": 100, "materialReceivedActual": 97}}, {"id": 1769756536394, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": " PO-0120/SLK/VI/2025-REV.1", "packageName": "Gate Valve For Condensate Relocation 2nd MTO", "description": "Gate Valves 3/4\", 2\" 4\"", "contractNo": " PO-0120/SLK/VI/2025-REV.1", "vendorName": "Ohtori Indonesia", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-05-20", "actual": "2025-06-09"}, "receiveQuotation": {"plan": "2025-05-27", "actual": "2025-06-16"}, "issueTBE": {"plan": "2025-05-28", "actual": "2025-06-17"}, "issueCBE": {"plan": "2025-06-04", "actual": "2025-06-17"}, "finalNegotiation": {"plan": "2025-06-11", "actual": "2025-06-17"}, "issuePO": {"plan": "2025-06-18", "actual": "2025-06-18"}, "kom": {"plan": "2025-06-24", "actual": "2025-06-24"}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2025-06-18", "planFinish": "2025-07-31", "actualStart": "2025-06-18", "actualFinish": "2025-07-31", "statusDate": "2026-01-30", "planProgress": 100, "actualProgress": 100, "remark": "", "planFAT": "2025-07-31", "actualFAT": "2025-07-31", "fatResult": "Passed", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Laydown Site, Salak, Sukabumi", "planDelivery100": "2025-07-31", "actualDelivery100": "2025-07-31", "shippingStatusDate": "2026-02-03", "shippingStatusPlan": 100, "shippingStatus": 100, "planMaterialAtSite100": "2025-07-31", "actualMaterialAtSite100": "2025-07-31", "materialStatusDate": "2026-02-03", "materialAtSitePlan": 100, "materialReceivedActual": 100}}, {"id": 1769997112970, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "PO-0173/SLK/VIII/2025", "packageName": "LB & SB Valve1st MTO", "description": "Globe Valves & Gate Valves\n", "contractNo": "PO-0173/SLK/VIII/2025", "vendorName": "SS Valve", "coo": "South Korea", "milestones": {"issueRFQ": {"plan": "2025-07-21", "actual": "2025-07-28"}, "receiveQuotation": {"plan": "2025-07-28", "actual": "2025-08-04"}, "issueTBE": {"plan": "2025-08-04", "actual": "2025-08-07"}, "issueCBE": {"plan": "2025-08-04", "actual": "2025-08-08"}, "finalNegotiation": {"plan": "2025-08-11", "actual": "2025-08-11"}, "issuePO": {"plan": "2025-08-17", "actual": "2025-08-12"}, "kom": {"plan": "2025-08-26", "actual": "2025-08-26"}}, "engineering": {"required": true, "planStart": "2025-09-08", "planFinish": "2025-09-22", "actualStart": "2025-08-29", "actualFinish": "2025-09-24", "statusDate": "2026-02-02", "planProgress": 100, "actualProgress": 100, "remark": "GAD issue for Approval"}, "manufacture": {"planStart": "2025-09-01", "planFinish": "2026-02-03", "actualStart": "2025-09-12", "actualFinish": "", "statusDate": "2026-02-02", "planProgress": 100, "actualProgress": 97, "remark": "Delivery PO date 12-Aug-26 ; Plan Delivery 13-Feb-26\n95 + 1.8 + 0.5 = 97.3% as per progress 18-Feb-26", "planFAT": "2026-01-12", "actualFAT": "2026-01-19", "fatResult": "Passed", "fatRemarks": ""}, "delivery": {"incoterm": "FOB", "deliveryLocation": "Busan, South Korea", "planDelivery100": "2026-07-29", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-08-12", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770000790141, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "PR-006-ENG-L-SLK-XI-2024", "packageName": "Tie In Valve 2nd MTO (Butterfly)", "description": "Butterfly Valve 36\" & 42\"", "contractNo": "PO-0174/SLK/XIII/2025", "vendorName": "Karya Energi Indonesia", "coo": "India", "milestones": {"issueRFQ": {"plan": "2025-07-11", "actual": "2025-07-28"}, "receiveQuotation": {"plan": "2025-07-26", "actual": "2025-08-04"}, "issueTBE": {"plan": "2025-07-26", "actual": "2025-08-08"}, "issueCBE": {"plan": "2025-08-02", "actual": "2025-08-11"}, "finalNegotiation": {"plan": "2025-08-12", "actual": "2025-08-11"}, "issuePO": {"plan": "2025-08-15", "actual": "2025-08-12"}, "kom": {"plan": "2026-01-21", "actual": "2025-09-03"}}, "engineering": {"required": true, "planStart": "2025-08-20", "planFinish": "2025-12-19", "actualStart": "2025-09-08", "actualFinish": "2025-12-12", "statusDate": "2026-02-02", "planProgress": 100, "actualProgress": 100, "remark": "GAD issue for approval"}, "manufacture": {"planStart": "2025-09-22", "planFinish": "2026-03-23", "actualStart": "2025-09-22", "actualFinish": "", "statusDate": "2026-02-09", "planProgress": 97, "actualProgress": 50, "remark": "", "planFAT": "2026-03-20", "actualFAT": "", "fatResult": "", "fatRemarks": "postponed from 30-Jan-26 rearrange FAT on 20-Mar-26"}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Salak, Sukabumi", "planDelivery100": "2026-03-23", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-04-10", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770001800388, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PO-0230/SLK/X/2025", "packageName": "Pipe Support SAGS 1st MTO", "description": "Pipe Support SAGS 1st MTO", "contractNo": "PO-0230/SLK/X/2025", "vendorName": "Fajar Swasti Teknologi", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-08-26", "actual": "2025-09-01"}, "receiveQuotation": {"plan": "2025-09-09", "actual": "2025-09-16"}, "issueTBE": {"plan": "2025-09-10", "actual": "2025-09-17"}, "issueCBE": {"plan": "2025-09-17", "actual": "2025-09-18"}, "finalNegotiation": {"plan": "2025-09-27", "actual": "2025-09-25"}, "issuePO": {"plan": "2025-09-30", "actual": "2025-10-02"}, "kom": {"plan": "2026-01-27", "actual": "2025-10-09"}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2025-10-30", "planFinish": "2026-02-17", "actualStart": "2025-10-30", "actualFinish": "", "statusDate": "2026-01-31", "planProgress": 99, "actualProgress": 52, "remark": "1. partial shipment size 6\"dan 24\" jumlah 500 pcs ETD 29-Des-25 ; 2. Partial shipment size 32\",26\" dan 42\" jumlah 100 pcs ETD 23-Feb-26", "planFAT": "2025-12-29", "actualFAT": "2025-12-29", "fatResult": "Passed", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Salak, Sukabumi", "planDelivery100": "2026-02-24", "actualDelivery100": "2026-02-20", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-02-27", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770003635701, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "PO-0200/SLK/IX/2025-REV.1", "packageName": "Supply FRP Pipe, Fitting Flange, Flange Material 1st MTO", "description": "Supply FRP Pipe, Fitting Flange, Flange Material 1st MTO", "contractNo": "PO-0200/SLK/IX/2025-REV.1", "vendorName": "Ori Polytec Composites", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-08-19", "actual": "2025-08-18"}, "receiveQuotation": {"plan": "2025-08-26", "actual": "2025-08-25"}, "issueTBE": {"plan": "2025-09-02", "actual": "2025-08-25"}, "issueCBE": {"plan": "2025-09-09", "actual": "2025-08-25"}, "finalNegotiation": {"plan": "2025-09-10", "actual": "2025-09-01"}, "issuePO": {"plan": "2025-09-17", "actual": "2025-09-02"}, "kom": {"plan": "2025-09-24", "actual": "2025-09-09"}}, "engineering": {"required": true, "planStart": "2025-09-19", "planFinish": "2025-09-22", "actualStart": "2025-11-11", "actualFinish": "2025-12-08", "statusDate": "2026-02-02", "planProgress": 100, "actualProgress": 100, "remark": "Drawing Approval for production"}, "manufacture": {"planStart": "2025-11-29", "planFinish": "2026-02-23", "actualStart": "2025-11-29", "actualFinish": "", "statusDate": "2026-02-02", "planProgress": 96, "actualProgress": 90, "remark": "", "planFAT": "2026-02-20", "actualFAT": "", "fatResult": "Passed with Remarks", "fatRemarks": "1. Inspection 28~29 Jan 26\n2. Inspection 5-Feb-26 (hydrotest spool pipe)"}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Sukabumi", "planDelivery100": "2026-02-23", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-02-27", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770006191834, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "PO-0268/SLK/X/2025", "packageName": "Pipe LSAW", "description": "Pipe LSAW", "contractNo": "PO-0268/SLK/X/2025", "vendorName": "Bakrie Pipe Industries", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-09-22", "actual": "2025-10-06"}, "receiveQuotation": {"plan": "2025-09-29", "actual": "2025-10-15"}, "issueTBE": {"plan": "2025-10-06", "actual": "2025-10-20"}, "issueCBE": {"plan": "2025-10-13", "actual": "2025-10-21"}, "finalNegotiation": {"plan": "2025-10-20", "actual": "2025-10-24"}, "issuePO": {"plan": "2025-10-27", "actual": "2025-10-27"}, "kom": {"plan": "2025-11-05", "actual": "2025-11-05"}}, "engineering": {"required": true, "planStart": "2025-11-18", "planFinish": "2026-01-12", "actualStart": "2025-11-18", "actualFinish": "2026-01-12", "statusDate": "2026-02-02", "planProgress": 100, "actualProgress": 93, "remark": ""}, "manufacture": {"planStart": "2026-03-02", "planFinish": "2026-05-22", "actualStart": "", "actualFinish": "", "statusDate": "2026-02-02", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-05-18", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "FOB", "deliveryLocation": "", "planDelivery100": "2026-05-22", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-27", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770007272883, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PO-0271/SLK/X/2025", "packageName": "Insulation Piping Material / Wrapping", "description": "Insulation piping material", "contractNo": "PO-0271/SLK/X/2025", "vendorName": "Polykenindo Nusantara", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-09-29", "actual": "2025-10-13"}, "receiveQuotation": {"plan": "2025-10-06", "actual": "2025-10-20"}, "issueTBE": {"plan": "2025-10-10", "actual": "2025-10-23"}, "issueCBE": {"plan": "2025-10-17", "actual": "2025-10-24"}, "finalNegotiation": {"plan": "2025-10-24", "actual": "2025-10-27"}, "issuePO": {"plan": "2025-10-31", "actual": "2025-10-31"}, "kom": {"plan": "2025-11-07", "actual": "2025-11-07"}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2025-10-27", "planFinish": "2025-12-03", "actualStart": "2025-10-27", "actualFinish": "2025-12-03", "statusDate": "2026-02-02", "planProgress": 100, "actualProgress": 100, "remark": "Waiting delivery time, stock on vendor", "planFAT": "2025-12-01", "actualFAT": "2025-12-01", "fatResult": "Passed", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "FOT Vendor", "planDelivery100": "2026-04-17", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-04-17", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770013050582, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "PO-0281/SLK/XI/2025", "packageName": "Pipe A312 TP316L SMLS", "description": "Pipe Stainless Steel A312 TP316L SMLS Size : 0,75X0,75 - 60x60", "contractNo": "PO-0281/SLK/XI/2025", "vendorName": "Semangat Intida Suksestama", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-10-06", "actual": "2025-10-13"}, "receiveQuotation": {"plan": "2025-10-13", "actual": "2025-10-23"}, "issueTBE": {"plan": "2025-10-20", "actual": "2025-10-24"}, "issueCBE": {"plan": "2025-10-27", "actual": "2025-10-27"}, "finalNegotiation": {"plan": "2025-11-03", "actual": "2025-11-03"}, "issuePO": {"plan": "2025-11-07", "actual": "2025-11-07"}, "kom": {"plan": "2025-11-07", "actual": "2025-11-07"}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2025-11-28", "planFinish": "2026-03-06", "actualStart": "2025-11-28", "actualFinish": "", "statusDate": "2026-02-02", "planProgress": 91, "actualProgress": 90, "remark": "", "planFAT": "2026-03-05", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Cikande", "planDelivery100": "2026-03-13", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-03-13", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770013270721, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "PO-0294/SLK/XI/2025", "packageName": "Valve GGC Power Plant LB & SB, GGC SAGS (LB only) and Butterfly Valve Power Plant (Concentric only) ", "description": "Valve GGC Power Plant LB & SB 1st MTO, GGC \nSAGS 2nd MTO (LB only) and Butterfly Valve Power \nPlant 1st MTO (Concentric only)", "contractNo": "PO-0294/SLK/XI/2025", "vendorName": "SS Valve", "coo": "South Korea", "milestones": {"issueRFQ": {"plan": "2025-11-03", "actual": "2025-11-03"}, "receiveQuotation": {"plan": "2025-11-10", "actual": "2025-11-12"}, "issueTBE": {"plan": "2025-11-14", "actual": "2025-11-13"}, "issueCBE": {"plan": "2025-11-17", "actual": "2025-11-14"}, "finalNegotiation": {"plan": "2025-11-17", "actual": "2025-11-17"}, "issuePO": {"plan": "2025-11-24", "actual": "2025-11-18"}, "kom": {"plan": "2025-12-01", "actual": "2025-12-01"}}, "engineering": {"required": true, "planStart": "2025-12-01", "planFinish": "2026-05-15", "actualStart": "2025-12-01", "actualFinish": "", "statusDate": "2026-02-18", "planProgress": 65, "actualProgress": 90, "remark": ""}, "manufacture": {"planStart": "2025-11-26", "planFinish": "2026-05-15", "actualStart": "2025-11-28", "actualFinish": "", "statusDate": "2026-02-18", "planProgress": 67, "actualProgress": 21, "remark": "9 + 9 + 2 + 1.25 = 21.25%\nasper progress 18-Feb-26\n", "planFAT": "2026-04-24", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "FOB", "deliveryLocation": "Busan, South Korea", "planDelivery100": "2026-05-27", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-05", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770015488700, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "PO-0302/SLK/XI/2025", "packageName": "Fittings Power Plant 1st MTO & 2nd MTO", "description": "Fittings Power Plant 1st MTO & 2nd MTO", "contractNo": "PO-0302/SLK/XI/2025", "vendorName": "Unggul Prakarsa Prima", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-09-28", "actual": "2025-10-28"}, "receiveQuotation": {"plan": "2025-10-12", "actual": "2025-11-18"}, "issueTBE": {"plan": "2025-10-13", "actual": "2025-11-19"}, "issueCBE": {"plan": "2025-10-20", "actual": "2025-11-20"}, "finalNegotiation": {"plan": "2025-10-30", "actual": "2025-11-21"}, "issuePO": {"plan": "2025-11-26", "actual": "2025-11-24"}, "kom": {"plan": "2025-12-10", "actual": "2025-12-10"}}, "engineering": {"required": true, "planStart": "2025-12-10", "planFinish": "2026-03-09", "actualStart": "2025-12-17", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 50, "remark": "based on VPC document"}, "manufacture": {"planStart": "2025-12-24", "planFinish": "2026-03-16", "actualStart": "2025-12-24", "actualFinish": "", "statusDate": "2026-02-02", "planProgress": 66, "actualProgress": 0, "remark": "Target Delivery Material: Partial; Final delivery  16-Mar-26  ", "planFAT": "2026-03-12", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Cikande", "planDelivery100": "2026-03-16", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-03-16", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770016509288, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "PO-0304/SLK/XI/2025", "packageName": "Flanges Power Plant 1st MTO & 2nd MTO", "description": "Flanges Power Plant 1st MTO & 2nd MTO. ", "contractNo": "PO-0304/SLK/XI/2025", "vendorName": "Unggul Prakarsa Prima", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-09-28", "actual": "2025-10-28"}, "receiveQuotation": {"plan": "2025-10-12", "actual": "2025-11-18"}, "issueTBE": {"plan": "2025-10-13", "actual": "2025-11-19"}, "issueCBE": {"plan": "2025-10-20", "actual": "2025-11-20"}, "finalNegotiation": {"plan": "2025-10-30", "actual": "2025-11-21"}, "issuePO": {"plan": "2025-11-26", "actual": "2025-11-24"}, "kom": {"plan": "2025-12-10", "actual": "2025-12-10"}}, "engineering": {"required": true, "planStart": "2025-12-10", "planFinish": "2026-03-09", "actualStart": "2025-12-17", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 50, "remark": "Based on VPC monitoring"}, "manufacture": {"planStart": "2025-12-24", "planFinish": "2026-03-16", "actualStart": "2024-12-24", "actualFinish": "", "statusDate": "2026-01-26", "planProgress": 49, "actualProgress": 0, "remark": "Target delivery material: Partial; Final delivery - 16-Mar-26", "planFAT": "2026-03-12", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Cikande", "planDelivery100": "2026-03-16", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-03-16", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770017434305, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "PO-0348/SLK/XII/2025", "packageName": "ULFM Valve", "description": "ULFM Valve", "contractNo": "PO-0348/SLK/XII/2025", "vendorName": "Arita Prima Indonesia", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-12-01", "actual": "2025-12-01"}, "receiveQuotation": {"plan": "2025-12-08", "actual": "2025-12-11"}, "issueTBE": {"plan": "2025-12-12", "actual": "2025-12-15"}, "issueCBE": {"plan": "2025-12-15", "actual": "2025-12-22"}, "finalNegotiation": {"plan": "2025-12-17", "actual": "2025-12-23"}, "issuePO": {"plan": "2025-12-24", "actual": "2025-12-24"}, "kom": {"plan": "2026-01-08", "actual": "2026-01-08"}}, "engineering": {"required": true, "planStart": "2026-01-08", "planFinish": "2026-01-28", "actualStart": "2026-01-08", "actualFinish": "2026-01-28", "statusDate": "2026-02-02", "planProgress": 100, "actualProgress": 100, "remark": ""}, "manufacture": {"planStart": "2026-01-20", "planFinish": "2026-05-04", "actualStart": "2026-01-20", "actualFinish": "", "statusDate": "2026-02-02", "planProgress": 6, "actualProgress": 0, "remark": "Final Delivery / Partial: 04-May-26 until 08-May-26", "planFAT": "2026-04-30", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Salak, Sukabumi", "planDelivery100": "2026-05-04", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-08", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770018434601, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "PO-0339/SLK/XII/2025", "packageName": "GGC Valve Power LB & SB 2nd MTO", "description": "GGC Valve Power LB & SB 2nd MTO", "contractNo": "PO-0339/SLK/XII/2025", "vendorName": "SS Valve", "coo": "South Korea", "milestones": {"issueRFQ": {"plan": "2025-11-03", "actual": "2025-11-17"}, "receiveQuotation": {"plan": "2025-11-17", "actual": "2025-12-08"}, "issueTBE": {"plan": "2025-11-21", "actual": "2025-12-12"}, "issueCBE": {"plan": "2025-11-24", "actual": "2025-12-12"}, "finalNegotiation": {"plan": "2025-11-28", "actual": "2025-12-15"}, "issuePO": {"plan": "2025-11-30", "actual": "2025-12-22"}, "kom": {"plan": "2025-12-08", "actual": "2026-01-07"}}, "engineering": {"required": true, "planStart": "2026-01-14", "planFinish": "2026-05-14", "actualStart": "2026-01-14", "actualFinish": "", "statusDate": "2026-02-02", "planProgress": 9, "actualProgress": 10, "remark": ""}, "manufacture": {"planStart": "2026-01-21", "planFinish": "2026-05-21", "actualStart": "2026-09-14", "actualFinish": "", "statusDate": "2026-02-02", "planProgress": 5, "actualProgress": 0, "remark": "", "planFAT": "2026-05-04", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "FOB", "deliveryLocation": "Busan, South Korea", "planDelivery100": "2026-05-29", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-08", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770020251011, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "PO-0342/SLK/XII/2025", "packageName": "Butterfly Valve Power Plant 2nd & 3rd MTO", "description": "Butterfly Valve Power Plant 2nd & 3rd MTO", "contractNo": "PO-0342/SLK/XII/2025", "vendorName": "SS Valve", "coo": "South Korea", "milestones": {"issueRFQ": {"plan": "2025-12-05", "actual": "2025-12-05"}, "receiveQuotation": {"plan": "2025-12-11", "actual": "2025-12-11"}, "issueTBE": {"plan": "2025-12-18", "actual": "2025-12-18"}, "issueCBE": {"plan": "2025-12-20", "actual": "2025-12-20"}, "finalNegotiation": {"plan": "2025-12-24", "actual": "2025-12-24"}, "issuePO": {"plan": "2025-12-24", "actual": "2025-12-24"}, "kom": {"plan": "2026-01-07", "actual": "2026-01-07"}}, "engineering": {"required": true, "planStart": "2026-01-07", "planFinish": "2026-05-04", "actualStart": "2026-02-05", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 2, "remark": ""}, "manufacture": {"planStart": "2026-02-19", "planFinish": "2026-05-20", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-05-04", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-05-20", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-03", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770024620720, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "PO-0036/SLK/I/2026", "packageName": "GGC Valve LB Power Plant & Valve for Tie-in 3rd MTO", "description": "GGC Valve LB Power Plant 3rd MTO & Valve Tie-in 3rd MTO", "contractNo": "PO-0036/SLK/I/2026", "vendorName": "SS Valve", "coo": "South Korea", "milestones": {"issueRFQ": {"plan": "2025-12-22", "actual": "2025-12-22"}, "receiveQuotation": {"plan": "2026-01-05", "actual": "2026-01-05"}, "issueTBE": {"plan": "2026-01-05", "actual": "2026-01-05"}, "issueCBE": {"plan": "2026-01-05", "actual": "2026-01-05"}, "finalNegotiation": {"plan": "2026-01-12", "actual": "2026-01-12"}, "issuePO": {"plan": "2026-01-19", "actual": "2026-01-19"}, "kom": {"plan": "2026-01-30", "actual": "2026-01-30"}}, "engineering": {"required": true, "planStart": "2026-02-06", "planFinish": "2026-06-30", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-02-26", "planFinish": "2026-06-30", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "Item 1-15: 22-29 Mei 2026\nItem 16-17: 22-29 Juni 26", "planFAT": "2026-05-20", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-06-30", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-07-17", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770178638826, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "PO-0154/SLK/VII/2025", "packageName": "Motorized Operating Valve", "description": "Motorized Operating Valve (Valve & Actuator)", "contractNo": "PO-0154/SLK/VII/2025", "vendorName": "Triguna Mandala", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-04-02", "actual": "2025-02-13"}, "receiveQuotation": {"plan": "2025-04-16", "actual": "2025-03-03"}, "issueTBE": {"plan": "2025-04-17", "actual": "2025-03-04"}, "issueCBE": {"plan": "2025-04-24", "actual": "2025-03-04"}, "finalNegotiation": {"plan": "2025-05-04", "actual": "2025-03-05"}, "issuePO": {"plan": "2025-03-06", "actual": "2025-03-06"}, "kom": {"plan": "2025-07-31", "actual": "2025-07-31"}}, "engineering": {"required": true, "planStart": "2025-07-31", "planFinish": "2025-10-13", "actualStart": "2025-07-31", "actualFinish": "2025-10-13", "statusDate": "2026-02-04", "planProgress": 100, "actualProgress": 100, "remark": ""}, "manufacture": {"planStart": "2025-10-14", "planFinish": "2026-03-31", "actualStart": "2025-10-14", "actualFinish": "", "statusDate": "2026-02-04", "planProgress": 91, "actualProgress": 73, "remark": "Manufacture di Chennai India", "planFAT": "2026-04-03", "actualFAT": "", "fatResult": "", "fatRemarks": "FAT dilakukan di Warehouse Triguna"}, "delivery": {"incoterm": "DDP", "deliveryLocation": "From Chennai India to Site, Salak, Sukabumi", "planDelivery100": "2026-04-09", "actualDelivery100": "", "shippingStatusDate": "2026-02-04", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-04-23", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770178892627, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "PO-0146/SLK/VII/2025", "packageName": "Distributed Control System (DCS)", "description": "Distributed Control System", "contractNo": "PO-0146/SLK/VII/2025", "vendorName": "Yokogawa Indonesia", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-03-17", "actual": "2025-03-27"}, "receiveQuotation": {"plan": "2025-03-31", "actual": "2025-06-25"}, "issueTBE": {"plan": "2025-04-01", "actual": "2025-06-26"}, "issueCBE": {"plan": "2025-04-08", "actual": "2025-06-27"}, "finalNegotiation": {"plan": "2025-04-18", "actual": "2025-07-07"}, "issuePO": {"plan": "2025-04-21", "actual": "2025-07-10"}, "kom": {"plan": "2025-04-28", "actual": "2025-08-01"}}, "engineering": {"required": true, "planStart": "2025-08-08", "planFinish": "2026-04-18", "actualStart": "2025-08-06", "actualFinish": "", "statusDate": "2026-01-30", "planProgress": 93, "actualProgress": 77, "remark": "As-per Progress Report"}, "manufacture": {"planStart": "2025-09-01", "planFinish": "2026-04-11", "actualStart": "2025-09-24", "actualFinish": "", "statusDate": "2026-01-30", "planProgress": 92, "actualProgress": 87, "remark": "", "planFAT": "2026-03-30", "actualFAT": "", "fatResult": "", "fatRemarks": "FAT as-per MoM, scheduled 30-Mar-26"}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Salak, Sukabumi", "planDelivery100": "2026-04-12", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-04-15", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770187473208, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "PO-157/SLK/VII/2025", "packageName": "Venturi", "description": "Venturi", "contractNo": "PO-157/SLK/VII/2025", "vendorName": "Duta Firza", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-05-17", "actual": "2025-04-15"}, "receiveQuotation": {"plan": "2025-04-22", "actual": "2025-04-21"}, "issueTBE": {"plan": "2025-06-26", "actual": "2025-06-26"}, "issueCBE": {"plan": "2025-06-26", "actual": "2025-06-26"}, "finalNegotiation": {"plan": "2025-07-15", "actual": "2025-07-15"}, "issuePO": {"plan": "2025-06-21", "actual": "2025-07-23"}, "kom": {"plan": "2025-06-30", "actual": "2025-08-14"}}, "engineering": {"required": true, "planStart": "2025-08-06", "planFinish": "2025-09-04", "actualStart": "2025-08-12", "actualFinish": "2025-10-20", "statusDate": "2026-02-04", "planProgress": 100, "actualProgress": 100, "remark": ""}, "manufacture": {"planStart": "2025-09-11", "planFinish": "2026-03-03", "actualStart": "2025-10-20", "actualFinish": "", "statusDate": "2026-02-04", "planProgress": 99, "actualProgress": 80, "remark": "GAD approved 20-Oct-26", "planFAT": "2026-03-10", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Delivery from Korea, DPP Jakarta", "planDelivery100": "2026-03-09", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-04-03", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770189061418, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "SAGS", "rfqNo": "PO-0235/SLK/X/2025_REV.1", "packageName": "Control Valve for SAGS & Power Plant", "description": "Purchase of Control Valve Total 22 Ea (Tag No) for SAGS & Power Plant Area Include Spare Material", "contractNo": "PO-0235/SLK/X/2025_REV.1", "vendorName": "Contromatic Prima Mandiri", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-04-14", "actual": "2025-04-14"}, "receiveQuotation": {"plan": "2025-04-21", "actual": "2025-05-06"}, "issueTBE": {"plan": "2025-04-28", "actual": "2025-05-19"}, "issueCBE": {"plan": "2025-05-12", "actual": "2025-05-20"}, "finalNegotiation": {"plan": "2025-05-26", "actual": "2025-10-05"}, "issuePO": {"plan": "2025-06-30", "actual": "2025-10-05"}, "kom": {"plan": "2025-07-07", "actual": "2025-10-10"}}, "engineering": {"required": true, "planStart": "2025-10-10", "planFinish": "2025-11-14", "actualStart": "2025-10-10", "actualFinish": "", "statusDate": "2026-02-04", "planProgress": 100, "actualProgress": 74, "remark": ""}, "manufacture": {"planStart": "2025-10-23", "planFinish": "2026-04-23", "actualStart": "2025-10-23", "actualFinish": "", "statusDate": "2026-02-04", "planProgress": 80, "actualProgress": 62, "remark": "Manufacture di Shanghai China\nProgress Report JOTR - CV Package FOB Shanghai  (19-Feb-26)", "planFAT": "2026-05-22", "actualFAT": "", "fatResult": "", "fatRemarks": "FAT di Cikarang"}, "delivery": {"incoterm": "FOB", "deliveryLocation": "Shanghai, China", "planDelivery100": "2026-06-19", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-25", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770190296957, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "PO-0253/SLK/X/2025_REV.1", "packageName": "Control Valve for SAGS & Power Plant (2nd PO)", "description": "Purchase of Control Valve Total 1 Ea (Tag No) for SAGS & Power Plant Area Include Spare Material", "contractNo": "PO-0253/SLK/X/2025_REV.1", "vendorName": "Contromatic Prima Mandiri", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-04-14", "actual": "2025-04-14"}, "receiveQuotation": {"plan": "2025-04-28", "actual": "2025-05-19"}, "issueTBE": {"plan": "2025-04-28", "actual": "2025-05-19"}, "issueCBE": {"plan": "2025-05-12", "actual": "2025-05-20"}, "finalNegotiation": {"plan": "2025-05-26", "actual": "2025-10-05"}, "issuePO": {"plan": "2025-06-30", "actual": "2025-10-05"}, "kom": {"plan": "2025-07-07", "actual": "2025-10-10"}}, "engineering": {"required": true, "planStart": "2025-10-10", "planFinish": "2025-11-14", "actualStart": "2025-10-10", "actualFinish": "", "statusDate": "2026-02-04", "planProgress": 100, "actualProgress": 74, "remark": ""}, "manufacture": {"planStart": "2025-10-23", "planFinish": "2026-04-23", "actualStart": "2025-10-23", "actualFinish": "", "statusDate": "2026-02-04", "planProgress": 80, "actualProgress": 64, "remark": "Manufactured by India\nProgress Report JOTR - CV Package DDP Cikarang (19-Feb-26)", "planFAT": "2026-05-04", "actualFAT": "", "fatResult": "", "fatRemarks": "FAT di Cikarang"}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Cikarang", "planDelivery100": "2026-05-18", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-22", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770192797618, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "PO-0261/SLK/X/2025", "packageName": "On-Off Valve Area Power Plant", "description": "On-Off Valve Area Power Plant (1 ea)", "contractNo": "PO-0261/SLK/X/2025", "vendorName": "Triguna Mandala", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-02-13", "actual": "2025-02-13"}, "receiveQuotation": {"plan": "2025-02-27", "actual": "2025-03-25"}, "issueTBE": {"plan": "2025-03-07", "actual": "2025-06-05"}, "issueCBE": {"plan": "2025-03-14", "actual": "2025-07-25"}, "finalNegotiation": {"plan": "2025-03-28", "actual": "2025-07-25"}, "issuePO": {"plan": "2025-04-25", "actual": "2025-10-05"}, "kom": {"plan": "2025-05-02", "actual": "2025-10-21"}}, "engineering": {"required": true, "planStart": "2025-10-21", "planFinish": "2026-05-27", "actualStart": "2025-11-05", "actualFinish": "", "statusDate": "2026-02-04", "planProgress": 66, "actualProgress": 50, "remark": "10 OF 20 main document submitted"}, "manufacture": {"planStart": "2025-12-31", "planFinish": "2026-05-29", "actualStart": "2025-12-31", "actualFinish": "", "statusDate": "2026-02-04", "planProgress": 19, "actualProgress": 22, "remark": "as per progress report (February 2026)", "planFAT": "2026-06-03", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Salak, Sukabumi", "planDelivery100": "2026-06-10", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-17", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770193921012, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "SAGS", "rfqNo": "SEG-SK7-IN-CMGG-RFQ-0010", "packageName": "On-off Valve PR.4.1 (1st PO)", "description": "On-off Valve PR.4.1 SAGS - 1st PO (1 ea) - SAGS", "contractNo": "PO-0259/SLK/X/2025", "vendorName": "Contromatic Prima", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-04-12", "actual": "2025-02-13"}, "receiveQuotation": {"plan": "2025-04-26", "actual": "2025-03-13"}, "issueTBE": {"plan": "2025-04-27", "actual": "2025-06-18"}, "issueCBE": {"plan": "2025-05-04", "actual": "2025-07-18"}, "finalNegotiation": {"plan": "2025-05-14", "actual": "2025-07-25"}, "issuePO": {"plan": "2025-05-17", "actual": "2025-10-17"}, "kom": {"plan": "2025-05-24", "actual": "2025-10-22"}}, "engineering": {"required": true, "planStart": "2025-10-22", "planFinish": "2026-05-22", "actualStart": "2025-10-22", "actualFinish": "", "statusDate": "2026-02-04", "planProgress": 68, "actualProgress": 62, "remark": "Based on report progress 19-Feb-26 (Key document submission)"}, "manufacture": {"planStart": "2025-12-03", "planFinish": "2026-05-09", "actualStart": "2025-12-03", "actualFinish": "", "statusDate": "2026-02-04", "planProgress": 49, "actualProgress": 59, "remark": "Based on report progress 19-Feb-26", "planFAT": "2026-05-08", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Salak, Sukabumi", "planDelivery100": "2026-05-09", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-18", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770198830358, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "SEG-SK7-IN-CMGG-RFQ-0010", "packageName": "On-off Valve PR.4.1 (2nd PO)", "description": "On-off Valve PR.4.1 - 2nd PO - SAGS & Power Plant (15 ea)", "contractNo": "PO-0260/SLK/X/2025", "vendorName": "Contromatic Prima", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-04-12", "actual": "2025-02-13"}, "receiveQuotation": {"plan": "2025-04-26", "actual": "2025-03-13"}, "issueTBE": {"plan": "2025-05-04", "actual": "2025-06-18"}, "issueCBE": {"plan": "2025-05-04", "actual": "2025-07-18"}, "finalNegotiation": {"plan": "2025-05-14", "actual": "2025-07-25"}, "issuePO": {"plan": "2025-05-17", "actual": "2025-10-17"}, "kom": {"plan": "2025-05-24", "actual": "2025-10-22"}}, "engineering": {"required": true, "planStart": "2025-10-22", "planFinish": "2026-05-09", "actualStart": "2026-10-22", "actualFinish": "", "statusDate": "2026-02-05", "planProgress": 74, "actualProgress": 56, "remark": "Based on progress report 19-Feb-26"}, "manufacture": {"planStart": "2025-12-03", "planFinish": "2026-04-24", "actualStart": "2025-12-03", "actualFinish": "", "statusDate": "2026-02-05", "planProgress": 59, "actualProgress": 61, "remark": "Manufactured by China\nBased on progress report 19-Feb-26", "planFAT": "2026-05-22", "actualFAT": "", "fatResult": "", "fatRemarks": "FAT at Cikarang Workshop"}, "delivery": {"incoterm": "FOB", "deliveryLocation": "Shanghai, China", "planDelivery100": "2026-05-21", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-18", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770255780735, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "SEG-SK7-IN-PSCA-RFQ-0014", "packageName": "Rupture Disc PR.4.1", "description": "Rupture Disc - Area SAGS Tag No. PSE-7700, PSE-7701, PSE 7702, PSE-7704, 4 ea Holder, Burst Check plus C/W Round Box & Acc (12 pcs)", "contractNo": "PO-0292/SLK/XI/2025", "vendorName": "Kotaminyak Internusa / FIKE", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-08-12", "actual": "2025-08-12"}, "receiveQuotation": {"plan": "2025-08-19", "actual": "2025-08-19"}, "issueTBE": {"plan": "2025-08-26", "actual": "2025-09-01"}, "issueCBE": {"plan": "2025-09-02", "actual": "2025-09-22"}, "finalNegotiation": {"plan": "2025-09-09", "actual": "2025-09-22"}, "issuePO": {"plan": "2025-09-23", "actual": "2025-11-17"}, "kom": {"plan": "2025-10-07", "actual": "2025-11-20"}}, "engineering": {"required": true, "planStart": "2025-11-20", "planFinish": "2025-12-30", "actualStart": "2025-11-20", "actualFinish": "", "statusDate": "2026-02-05", "planProgress": 100, "actualProgress": 44, "remark": ""}, "manufacture": {"planStart": "2025-12-30", "planFinish": "2026-02-26", "actualStart": "2025-12-30", "actualFinish": "", "statusDate": "2026-02-05", "planProgress": 88, "actualProgress": 95, "remark": "Chicago, USA\ndelivery 26-Feb-26\nETA Workshop Kotaminyak 12-Mar-26", "planFAT": "2026-03-12", "actualFAT": "", "fatResult": "", "fatRemarks": "FAT Workshop Kotaminyak, Jakarta"}, "delivery": {"incoterm": "FCA", "deliveryLocation": "FCA United States", "planDelivery100": "2026-02-26", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-03-08", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770257219329, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "PO-0296/SLK/XI/2025", "packageName": "Pressure Safety Valve", "description": "PSV for SAGS (5 ea) & PSV for Power Plant (17 ea)", "contractNo": "PO-0296/SLK/XI/2025", "vendorName": "Kotaminyak Internusa / Farris", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-07-08", "actual": "2025-07-08"}, "receiveQuotation": {"plan": "2025-07-14", "actual": "2025-08-01"}, "issueTBE": {"plan": "2025-07-21", "actual": "2025-08-28"}, "issueCBE": {"plan": "2025-07-28", "actual": "2025-09-27"}, "finalNegotiation": {"plan": "2025-08-11", "actual": "2025-10-04"}, "issuePO": {"plan": "2025-08-25", "actual": "2025-11-21"}, "kom": {"plan": "2025-09-01", "actual": "2025-11-28"}}, "engineering": {"required": true, "planStart": "2025-11-28", "planFinish": "2025-12-12", "actualStart": "2025-11-28", "actualFinish": "", "statusDate": "2026-02-05", "planProgress": 100, "actualProgress": 40, "remark": ""}, "manufacture": {"planStart": "2025-12-15", "planFinish": "2026-05-19", "actualStart": "2025-12-15", "actualFinish": "", "statusDate": "2026-02-05", "planProgress": 36, "actualProgress": 18, "remark": "- Procurement = 37% (based on monthly report)\n- Manufacture = 0%", "planFAT": "2026-07-06", "actualFAT": "", "fatResult": "", "fatRemarks": "FAT at KMI Workshop"}, "delivery": {"incoterm": "FOB", "deliveryLocation": "Tianjin Port, China", "planDelivery100": "2026-05-19", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-07-30", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770260957021, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "PO-0010/SLK/I/2026", "packageName": "Gas monitoring & Flame Heat Detection", "description": "Gas monitoring & Flame Heat Detection", "contractNo": "PO-0010/SLK/I/2026", "vendorName": "Sarana Instrument", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-07-14", "actual": "2025-07-28"}, "receiveQuotation": {"plan": "2025-08-28", "actual": "2025-08-04"}, "issueTBE": {"plan": "2025-10-29", "actual": "2025-10-31"}, "issueCBE": {"plan": "2025-08-05", "actual": "2025-11-17"}, "finalNegotiation": {"plan": "2025-08-15", "actual": "2025-11-17"}, "issuePO": {"plan": "2025-08-18", "actual": "2025-12-30"}, "kom": {"plan": "2025-08-25", "actual": "2026-01-08"}}, "engineering": {"required": true, "planStart": "2026-01-19", "planFinish": "2026-04-27", "actualStart": "2026-01-19", "actualFinish": "", "statusDate": "2026-02-05", "planProgress": 11, "actualProgress": 48, "remark": ""}, "manufacture": {"planStart": "2026-01-26", "planFinish": "2026-03-30", "actualStart": "2026-01-26", "actualFinish": "", "statusDate": "2026-02-05", "planProgress": 9, "actualProgress": 0, "remark": "", "planFAT": "2026-04-20", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Salak, Sukabumi", "planDelivery100": "2026-05-05", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-08", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770262665655, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "PO-0007/SLK/I/2026", "packageName": "CCTV & Access Control System", "description": "CCTV & Access Control System", "contractNo": "PO-0007/SLK/I/2026", "vendorName": "Coda Integra", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-01-23", "actual": "2025-01-23"}, "receiveQuotation": {"plan": "2025-02-19", "actual": "2025-02-19"}, "issueTBE": {"plan": "2025-12-12", "actual": "2025-12-12"}, "issueCBE": {"plan": "2025-12-19", "actual": "2025-12-19"}, "finalNegotiation": {"plan": "2025-12-29", "actual": "2025-12-19"}, "issuePO": {"plan": "2026-01-05", "actual": "2026-01-07"}, "kom": {"plan": "2026-01-12", "actual": "2026-01-07"}}, "engineering": {"required": true, "planStart": "2026-01-13", "planFinish": "2026-04-04", "actualStart": "2026-01-13", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 47, "remark": ""}, "manufacture": {"planStart": "2026-01-25", "planFinish": "2026-06-05", "actualStart": "2026-01-25", "actualFinish": "", "statusDate": "2026-02-05", "planProgress": 4, "actualProgress": 0, "remark": "", "planFAT": "2026-06-05", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "FCA", "deliveryLocation": "Vendor Workshop, Indonesia", "planDelivery100": "2026-06-11", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-13", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770264287350, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "PO-0349/SLK/XII/2025", "packageName": "Instrument Cable Ladder & Tray", "description": "Instrument Cable Ladder & Tray, Bolt & Nut", "contractNo": "PO-0349/SLK/XII/2025", "vendorName": "Mekarsempurna Jayalestari", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-09-26", "actual": "2025-09-26"}, "receiveQuotation": {"plan": "2025-10-03", "actual": "2025-10-16"}, "issueTBE": {"plan": "2025-10-17", "actual": "2025-11-20"}, "issueCBE": {"plan": "2025-10-31", "actual": "2025-12-04"}, "finalNegotiation": {"plan": "2025-11-21", "actual": "2025-12-04"}, "issuePO": {"plan": "2026-01-02", "actual": "2026-01-02"}, "kom": {"plan": "2026-01-07", "actual": "2026-01-07"}}, "engineering": {"required": true, "planStart": "2026-01-07", "planFinish": "2026-05-14", "actualStart": "2026-01-07", "actualFinish": "", "statusDate": "2026-02-18", "planProgress": 35, "actualProgress": 35, "remark": ""}, "manufacture": {"planStart": "2026-01-21", "planFinish": "2026-05-14", "actualStart": "2026-01-21", "actualFinish": "", "statusDate": "2026-02-05", "planProgress": 7, "actualProgress": 7, "remark": "Instrument:\n 20-Mar-26\n 11-Apr-26\n 14-May-26", "planFAT": "2026-02-13", "actualFAT": "2026-02-13", "fatResult": "Passed", "fatRemarks": "tidak ada FAT"}, "delivery": {"incoterm": "FCA", "deliveryLocation": "Vendor Workshop - Partial Delivery start 13-Feb-26", "planDelivery100": "2026-05-14", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-16", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770265031515, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "SEG-SK7-IN-CMGG-RFQ-0019", "packageName": "Instrument Cable", "description": "Signal, Power, Control & Grounding Cable", "contractNo": "PO-0025/SLK/I/2026", "vendorName": "Multi Kencana Niagaprima", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-10-16", "actual": "2025-10-16"}, "receiveQuotation": {"plan": "2025-10-23", "actual": "2025-12-24"}, "issueTBE": {"plan": "2025-10-30", "actual": "2025-12-24"}, "issueCBE": {"plan": "2025-11-07", "actual": "2025-12-24"}, "finalNegotiation": {"plan": "2025-11-14", "actual": "2025-12-24"}, "issuePO": {"plan": "2025-11-21", "actual": "2026-01-19"}, "kom": {"plan": "2025-11-28", "actual": "2026-01-20"}}, "engineering": {"required": true, "planStart": "2026-01-20", "planFinish": "2026-03-29", "actualStart": "2026-01-20", "actualFinish": "", "statusDate": "2026-02-05", "planProgress": 19, "actualProgress": 75, "remark": ""}, "manufacture": {"planStart": "2026-02-02", "planFinish": "2026-05-04", "actualStart": "2026-02-02", "actualFinish": "", "statusDate": "2026-02-05", "planProgress": 1, "actualProgress": 0, "remark": "", "planFAT": "2026-03-29", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "Serang", "planDelivery100": "2026-05-04", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-06", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770265401005, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "SEG-SK7-IN-CMGG-RFQ-0013", "packageName": "Orifice Plate & Annubar", "description": "Orifice Plate & Flanges, Annubar & Restriction Orifice (22 items)", "contractNo": "PO-0025/SLK/I/2026", "vendorName": "Duta Firza", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-08-27", "actual": "2025-09-08"}, "receiveQuotation": {"plan": "2025-09-11", "actual": "2025-09-12"}, "issueTBE": {"plan": "2025-09-18", "actual": "2025-09-26"}, "issueCBE": {"plan": "2025-09-25", "actual": "2025-10-22"}, "finalNegotiation": {"plan": "2025-10-01", "actual": "2025-12-18"}, "issuePO": {"plan": "2026-01-14", "actual": "2026-01-14"}, "kom": {"plan": "2026-02-02", "actual": "2026-02-02"}}, "engineering": {"required": true, "planStart": "2026-01-23", "planFinish": "2026-05-19", "actualStart": "2026-01-23", "actualFinish": "", "statusDate": "2026-02-05", "planProgress": 5, "actualProgress": 68, "remark": ""}, "manufacture": {"planStart": "2026-02-09", "planFinish": "2026-05-20", "actualStart": "", "actualFinish": "", "statusDate": "2026-02-05", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-05-20", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Salak, Sukabumi", "planDelivery100": "2026-05-30", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-07-10", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770775726734, "projectId": 1767154263681, "initiation": "Site", "discipline": "Civil", "area": "GPP", "rfqNo": "SEG-SK7-CE-CMGG-MRS-0022", "packageName": "Flooring - Raised Floor, Ceiling and Partition", "description": "Architectural work - Flooring - Raised Floor, Ceiling and Partition\nFlooring - Raised Floor PR By Site 17-Dec-2025", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2026-01-17", "actual": "2026-02-02"}, "receiveQuotation": {"plan": "2026-02-20", "actual": "2026-02-03"}, "issueTBE": {"plan": "2026-02-27", "actual": ""}, "issueCBE": {"plan": "2026-02-27", "actual": ""}, "finalNegotiation": {"plan": "2026-02-27", "actual": ""}, "issuePO": {"plan": "2026-03-02", "actual": ""}, "kom": {"plan": "2026-03-06", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-03-06", "planFinish": "2026-03-25", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-13", "planFinish": "2026-03-25", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-03-25", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "FOB", "deliveryLocation": "Sukabumi", "planDelivery100": "2026-03-26", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-03-27", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770776069051, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "SEG-SK7-PI-PSPS-MRS-0017", "packageName": "Strainer Power Plant 1st MTO", "description": "Strainer Power Plant 1st MTO", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-09-26", "actual": "2025-09-26"}, "receiveQuotation": {"plan": "2025-11-05", "actual": "2025-11-05"}, "issueTBE": {"plan": "2026-02-19", "actual": ""}, "issueCBE": {"plan": "2026-02-20", "actual": ""}, "finalNegotiation": {"plan": "2026-02-20", "actual": ""}, "issuePO": {"plan": "2026-02-27", "actual": ""}, "kom": {"plan": "2026-03-06", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-03-06", "planFinish": "2026-04-14", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-09", "planFinish": "2026-04-14", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-04-10", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-04-14", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-04-28", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770776093791, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": " SEG-SK7-PI-PSPS-MRS-0018", "packageName": "Steam Trap Power Plan 1st MTO ", "description": "Steam Trap Power Plan 1st MTO", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-09-26", "actual": "2025-09-26"}, "receiveQuotation": {"plan": "2025-12-30", "actual": "2025-12-30"}, "issueTBE": {"plan": "2026-02-13", "actual": "2026-02-13"}, "issueCBE": {"plan": "2026-02-20", "actual": ""}, "finalNegotiation": {"plan": "2026-02-20", "actual": ""}, "issuePO": {"plan": "2026-02-27", "actual": ""}, "kom": {"plan": "2026-03-06", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-03-06", "planFinish": "2026-04-14", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-09", "planFinish": "2026-04-14", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-04-10", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-04-14", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-04-28", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770776130422, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "", "packageName": "Expansion Joint", "description": "", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-09-26", "actual": "2025-09-26"}, "receiveQuotation": {"plan": "2026-02-27", "actual": ""}, "issueTBE": {"plan": "2026-02-27", "actual": ""}, "issueCBE": {"plan": "2026-03-06", "actual": ""}, "finalNegotiation": {"plan": "2026-03-06", "actual": ""}, "issuePO": {"plan": "2026-03-13", "actual": ""}, "kom": {"plan": "2026-03-20", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-03-13", "planFinish": "2026-05-03", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-20", "planFinish": "2026-05-03", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-04-27", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-05-03", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-17", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770777587085, "projectId": 1767154263681, "initiation": "HO", "discipline": "Civil", "area": "GPP", "rfqNo": "", "packageName": "Sprinkler & Indoor Hydrant", "description": "", "contractNo": "", "vendorName": "", "coo": "", "milestones": {"issueRFQ": {"plan": "2026-02-02", "actual": ""}, "receiveQuotation": {"plan": "2026-02-13", "actual": ""}, "issueTBE": {"plan": "2026-02-16", "actual": ""}, "issueCBE": {"plan": "2026-02-20", "actual": ""}, "finalNegotiation": {"plan": "2026-02-20", "actual": ""}, "issuePO": {"plan": "2026-02-27", "actual": ""}, "kom": {"plan": "2026-03-06", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-03-06", "planFinish": "2026-04-15", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-13", "planFinish": "2026-04-15", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-04-13", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-04-15", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-04-30", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770777768931, "projectId": 1767154263681, "initiation": "HO", "discipline": "Civil", "area": "GPP", "rfqNo": "", "packageName": "Template Anchor Bolt Steam Turbine", "description": "Template Anchor Bolt Steam Turbine", "contractNo": "", "vendorName": "Bukaka Teknik Utama", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2026-02-02", "actual": "2026-02-02"}, "receiveQuotation": {"plan": "2026-02-19", "actual": "2026-02-12"}, "issueTBE": {"plan": "2026-02-26", "actual": "2026-02-12"}, "issueCBE": {"plan": "2026-02-26", "actual": "2026-02-12"}, "finalNegotiation": {"plan": "2026-02-26", "actual": "2026-02-12"}, "issuePO": {"plan": "2026-03-06", "actual": "2026-02-18"}, "kom": {"plan": "2026-03-10", "actual": "2026-02-18"}}, "engineering": {"required": true, "planStart": "2026-03-13", "planFinish": "2026-03-20", "actualStart": "2026-02-12", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 50, "remark": ""}, "manufacture": {"planStart": "2026-03-13", "planFinish": "2026-03-20", "actualStart": "2026-02-18", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 50, "remark": "Dilakukan primer coating terkait keperluan transportasi", "planFAT": "2026-03-20", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Salak, Sukabumi", "planDelivery100": "2026-03-20", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-03-27", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770779035297, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "", "packageName": "Level Gauge", "description": "Level Gauge", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-12-01", "actual": "2025-12-01"}, "receiveQuotation": {"plan": "2025-12-16", "actual": "2025-12-16"}, "issueTBE": {"plan": "2026-02-19", "actual": "2026-02-12"}, "issueCBE": {"plan": "2026-02-26", "actual": "2026-02-19"}, "finalNegotiation": {"plan": "2026-02-26", "actual": ""}, "issuePO": {"plan": "2026-03-05", "actual": ""}, "kom": {"plan": "2026-03-12", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-03-12", "planFinish": "2026-05-29", "actualStart": "", "actualFinish": "", "statusDate": "2026-02-13", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-12", "planFinish": "2026-05-29", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-05-25", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-05-29", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-12", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770779071419, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "PO-0067-SLK-I-2026", "packageName": "Pressure Gauge", "description": "Pressure Gauge & Differential Pressure Gauge", "contractNo": "PO-0067-SLK-I-2026", "vendorName": "Duta Firza", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-08-28", "actual": "2025-08-28"}, "receiveQuotation": {"plan": "2025-09-03", "actual": "2025-09-03"}, "issueTBE": {"plan": "2025-09-18", "actual": "2025-12-23"}, "issueCBE": {"plan": "2025-09-30", "actual": "2026-01-05"}, "finalNegotiation": {"plan": "2026-01-30", "actual": "2026-01-30"}, "issuePO": {"plan": "2026-02-01", "actual": "2026-02-01"}, "kom": {"plan": "2026-02-11", "actual": "2026-02-11"}}, "engineering": {"required": true, "planStart": "2026-02-11", "planFinish": "2026-05-08", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-02-20", "planFinish": "2026-05-11", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-05-08", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-05-14", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-22", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770779546584, "projectId": 1767154263681, "initiation": "HO", "discipline": "Civil", "area": "GPP", "rfqNo": "SEG-SK7-CE-CMGG-MRS-0013", "packageName": "Steel Door Window", "description": "Double steel door: 8 nos\nSingle Steel door: 5 nos", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-12-17", "actual": "2025-12-17"}, "receiveQuotation": {"plan": "2025-12-31", "actual": "2026-01-27"}, "issueTBE": {"plan": "2026-01-07", "actual": ""}, "issueCBE": {"plan": "2026-01-14", "actual": ""}, "finalNegotiation": {"plan": "2026-02-26", "actual": ""}, "issuePO": {"plan": "2026-02-27", "actual": ""}, "kom": {"plan": "2026-03-05", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-03-05", "planFinish": "2026-04-29", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-12", "planFinish": "2026-04-26", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-04-25", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-04-26", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-13", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1770885889966, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "", "packageName": " Temperature Gauge", "description": " Temperature Gauge", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2026-02-02", "actual": "2026-02-02"}, "receiveQuotation": {"plan": "2026-02-16", "actual": "2026-02-16"}, "issueTBE": {"plan": "2026-02-20", "actual": "2026-02-16"}, "issueCBE": {"plan": "2026-02-27", "actual": "2026-02-19"}, "finalNegotiation": {"plan": "2026-02-27", "actual": ""}, "issuePO": {"plan": "2026-03-06", "actual": ""}, "kom": {"plan": "2026-03-13", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-03-13", "planFinish": "2026-06-15", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-20", "planFinish": "2026-06-15", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-06-10", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-06-15", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-29", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771468831474, "projectId": 1767154263681, "initiation": "HO", "discipline": "Electrical", "area": "GPP", "rfqNo": "SEG-SK7-EL-PSPS-RFQ-0010_A", "packageName": "Distribution and Lighting Panel", "description": "Distribution and Lighting Panel", "contractNo": "PO-0053-SLK-II-2026", "vendorName": "Powertek Indo", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-09-22", "actual": "2026-09-22"}, "receiveQuotation": {"plan": "2025-09-29", "actual": "2025-10-02"}, "issueTBE": {"plan": "2025-10-07", "actual": "2025-10-07"}, "issueCBE": {"plan": "2025-12-15", "actual": "2025-12-15"}, "finalNegotiation": {"plan": "2025-12-20", "actual": "2026-01-29"}, "issuePO": {"plan": "2026-01-29", "actual": "2026-01-29"}, "kom": {"plan": "2026-02-07", "actual": "2026-02-11"}}, "engineering": {"required": true, "planStart": "2026-02-07", "planFinish": "2026-05-10", "actualStart": "2026-02-11", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-02-23", "planFinish": "2026-05-15", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-05-10", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-05-15", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-22", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771470272445, "projectId": 1767154263681, "initiation": "HO", "discipline": "Electrical", "area": "GPP", "rfqNo": "SEG-SK7-EL-PSPS-RFQ-0011", "packageName": "Lighting Fixture & Receptacle", "description": "Lighting Fixture & Receptacle", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-09-30", "actual": "2025-09-30"}, "receiveQuotation": {"plan": "2025-10-06", "actual": "2025-10-15"}, "issueTBE": {"plan": "2025-10-18", "actual": "2025-10-27"}, "issueCBE": {"plan": "2025-10-18", "actual": ""}, "finalNegotiation": {"plan": "2025-10-25", "actual": ""}, "issuePO": {"plan": "2025-12-01", "actual": ""}, "kom": {"plan": "2025-12-12", "actual": ""}}, "engineering": {"required": true, "planStart": "2025-12-12", "planFinish": "2026-03-29", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-01-05", "planFinish": "2026-03-29", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-03-25", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Salak, Sukabumi", "planDelivery100": "2026-03-29", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-03-31", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771472045531, "projectId": 1767154263681, "initiation": "HO", "discipline": "Electrical", "area": "GPP", "rfqNo": "SEG-SK7-EL-PSPS-RFQ-0016_A", "packageName": "Electrical Bulk Material", "description": "Electrical Bulk Material (On process TBE) - 50%\n- Updated BQ sent to vendor\n- Waiting update quotation from vendor (due date 4-Feb-26)", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-10-13", "actual": "2025-10-13"}, "receiveQuotation": {"plan": "2025-10-17", "actual": "2025-10-24"}, "issueTBE": {"plan": "2025-10-25", "actual": "2025-10-30"}, "issueCBE": {"plan": "2025-11-24", "actual": ""}, "finalNegotiation": {"plan": "2025-12-01", "actual": ""}, "issuePO": {"plan": "2025-12-08", "actual": ""}, "kom": {"plan": "2025-12-15", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-02-19", "planFinish": "2026-06-30", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-02", "planFinish": "2026-07-07", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-06-30", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-07-07", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-07-14", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771472509564, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "SEG-SK7-IN-CMGG-RFQ-0004_A", "packageName": "Level Transmitter", "description": "Level Transmitter", "contractNo": "", "vendorName": "", "coo": "", "milestones": {"issueRFQ": {"plan": "2025-09-03", "actual": "2025-09-03"}, "receiveQuotation": {"plan": "2025-10-16", "actual": "2025-10-16"}, "issueTBE": {"plan": "2025-10-24", "actual": "2025-10-22"}, "issueCBE": {"plan": "2025-11-08", "actual": "2025-12-01"}, "finalNegotiation": {"plan": "2025-11-15", "actual": "2026-02-13"}, "issuePO": {"plan": "2025-11-22", "actual": ""}, "kom": {"plan": "2025-11-28", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-02-13", "planFinish": "2026-05-21", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-05", "planFinish": "2026-05-28", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-05-21", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-05-28", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-04", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771473229959, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "SEG-SK7-IN-PSCA-RFQ-0016", "packageName": "Analyzer Transmitter", "description": "Analyzer Transmitter (3 ea)", "contractNo": "PO-0044/SLK/I/2026", "vendorName": "Control System", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-07-30", "actual": "2025-07-30"}, "receiveQuotation": {"plan": "2025-08-06", "actual": "2025-08-06"}, "issueTBE": {"plan": "2025-09-03", "actual": "2025-09-08"}, "issueCBE": {"plan": "2025-09-30", "actual": "2026-01-15"}, "finalNegotiation": {"plan": "2025-09-30", "actual": "2026-01-22"}, "issuePO": {"plan": "2025-10-10", "actual": "2026-01-30"}, "kom": {"plan": "2025-10-17", "actual": "2026-02-13"}}, "engineering": {"required": true, "planStart": "2026-02-13", "planFinish": "2026-06-10", "actualStart": "2026-02-13", "actualFinish": "", "statusDate": "2026-02-19", "planProgress": 2, "actualProgress": 2, "remark": ""}, "manufacture": {"planStart": "2026-03-06", "planFinish": "2026-06-16", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-06-10", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Jakarta", "planDelivery100": "2026-06-16", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-23", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771475197350, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "PO-0043-SLK-I-2026", "packageName": "Temperature Transmitter", "description": "Temperature Transmitter (10 ea)", "contractNo": "PO-0043-SLK-I-2026", "vendorName": "Control Systems", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-10-24", "actual": "2025-10-24"}, "receiveQuotation": {"plan": "2025-10-31", "actual": "2025-10-31"}, "issueTBE": {"plan": "2025-11-15", "actual": "2025-12-15"}, "issueCBE": {"plan": "2025-12-10", "actual": "2025-12-20"}, "finalNegotiation": {"plan": "2025-12-19", "actual": "2026-01-19"}, "issuePO": {"plan": "2026-01-05", "actual": "2026-01-28"}, "kom": {"plan": "2026-01-12", "actual": "2026-02-11"}}, "engineering": {"required": true, "planStart": "2026-02-11", "planFinish": "2026-05-27", "actualStart": "2026-02-13", "actualFinish": "", "statusDate": "2026-02-19", "planProgress": 3, "actualProgress": 24, "remark": ""}, "manufacture": {"planStart": "2026-03-02", "planFinish": "2026-06-03", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-05-17", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Salak, Sukabumi", "planDelivery100": "2026-06-01", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-03", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771484255768, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "PO-0049/SLK/II/2026", "packageName": "Fitting & Tubing Material", "description": "Fitting & Tubing Material", "contractNo": "PO-0049/SLK/II/2026", "vendorName": "Instrumindo Prima Perkasa", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-10-02", "actual": "2025-10-02"}, "receiveQuotation": {"plan": "2025-10-09", "actual": "2025-10-28"}, "issueTBE": {"plan": "2025-12-12", "actual": "2025-12-12"}, "issueCBE": {"plan": "2025-12-19", "actual": "2025-12-19"}, "finalNegotiation": {"plan": "2025-12-26", "actual": "2026-02-02"}, "issuePO": {"plan": "2026-01-09", "actual": "2026-02-03"}, "kom": {"plan": "2026-01-23", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-02-23", "planFinish": "2026-06-04", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-05", "planFinish": "2026-06-11", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-06-04", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "FCA", "deliveryLocation": "", "planDelivery100": "2026-06-11", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-18", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771485802410, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "SEG-SK7-IN-CMGG-RFQ-0026 & 0003", "packageName": "Ultrasonic Flowmeter & Level Transmitter", "description": "Ultrasonic Flowmeter & Level Transmitter", "contractNo": "PO-0058-SLK-II-2026", "vendorName": "Endress Hausser Indonesia", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-07-22", "actual": "2025-07-22"}, "receiveQuotation": {"plan": "2025-07-29", "actual": "2025-07-29"}, "issueTBE": {"plan": "2025-08-07", "actual": "2025-08-07"}, "issueCBE": {"plan": "2025-12-22", "actual": "2025-12-22"}, "finalNegotiation": {"plan": "2025-12-22", "actual": "2025-12-22"}, "issuePO": {"plan": "2026-01-19", "actual": "2026-02-05"}, "kom": {"plan": "2026-01-26", "actual": "2026-02-12"}}, "engineering": {"required": true, "planStart": "2026-02-12", "planFinish": "2026-05-20", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "- Date by PSR"}, "manufacture": {"planStart": "2026-02-26", "planFinish": "2026-05-25", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "- Date by PSR", "planFAT": "2026-05-20", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Salak, Sukabumi", "planDelivery100": "2026-05-25", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-01", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771487935100, "projectId": 1767154263681, "initiation": "HO", "discipline": "Instrument", "area": "GPP", "rfqNo": "PO-0028-SLK-I-2026-REV.1", "packageName": "Pressure & Differential Pressure Transmitter", "description": "Pressure & Differential Pressure Transmitter", "contractNo": "PO-0028-SLK-I-2026-REV.1", "vendorName": "Control System", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-05-09", "actual": "2025-09-26"}, "receiveQuotation": {"plan": "2025-05-23", "actual": "2025-10-02"}, "issueTBE": {"plan": "2025-05-30", "actual": "2025-12-12"}, "issueCBE": {"plan": "2025-06-13", "actual": "2025-12-15"}, "finalNegotiation": {"plan": "2026-06-20", "actual": "2026-01-19"}, "issuePO": {"plan": "2025-06-27", "actual": "2026-01-19"}, "kom": {"plan": "2025-07-04", "actual": "2026-01-23"}}, "engineering": {"required": true, "planStart": "2026-02-05", "planFinish": "2026-04-24", "actualStart": "2026-01-23", "actualFinish": "", "statusDate": "2026-02-19", "planProgress": 12, "actualProgress": 10, "remark": ""}, "manufacture": {"planStart": "2026-02-23", "planFinish": "2026-05-11", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 5, "remark": "Procurement 10% + Manufacture 0%", "planFAT": "2026-05-11", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Jakarta", "planDelivery100": "2026-05-11", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-13", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771548989500, "projectId": 1767154263681, "initiation": "HO", "discipline": "Civil", "area": "SAGS", "rfqNo": "SLK7-C-ENG-RFQ-001", "packageName": "Slope stability Material", "description": "Slope stability Material", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2026-02-20", "actual": ""}, "receiveQuotation": {"plan": "2026-03-09", "actual": ""}, "issueTBE": {"plan": "2026-03-16", "actual": ""}, "issueCBE": {"plan": "2026-03-25", "actual": ""}, "finalNegotiation": {"plan": "2026-03-25", "actual": ""}, "issuePO": {"plan": "2026-03-30", "actual": ""}, "kom": {"plan": "2026-04-06", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-04-06", "planFinish": "2026-07-08", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-04-13", "planFinish": "2026-07-08", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-07-05", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-07-08", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-07-15", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771572220433, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PR-0385/SLK/I/2026", "packageName": "Tie-In Pipe, Flange & Fitting 2nd MTO", "description": "Tie-In Pipe, Flange & Fitting 2nd MTO (On going RFQ)\nBoM 12-Jan-26", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2026-01-13", "actual": ""}, "receiveQuotation": {"plan": "2026-01-27", "actual": ""}, "issueTBE": {"plan": "2026-02-03", "actual": ""}, "issueCBE": {"plan": "2026-02-10", "actual": ""}, "finalNegotiation": {"plan": "2026-02-17", "actual": ""}, "issuePO": {"plan": "2026-02-24", "actual": ""}, "kom": {"plan": "2026-03-03", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-03-03", "planFinish": "2026-05-04", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-10", "planFinish": "2026-05-11", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-05-04", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-05-11", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-18", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771572299321, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PR-0384/SLK/I/2026", "packageName": "Tie In Gasket 2nd MTO", "description": "Tie In Gasket 2ND MTO (on going tender)\nBoM 12-Jan-26", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2026-02-09", "actual": ""}, "receiveQuotation": {"plan": "2026-02-23", "actual": ""}, "issueTBE": {"plan": "2026-03-02", "actual": ""}, "issueCBE": {"plan": "2026-03-09", "actual": ""}, "finalNegotiation": {"plan": "2026-03-10", "actual": ""}, "issuePO": {"plan": "2026-03-17", "actual": ""}, "kom": {"plan": "2026-03-23", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-03-23", "planFinish": "2026-05-07", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-30", "planFinish": "2026-05-07", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-05-04", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-05-07", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-11", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771572353991, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "", "packageName": "Tie In Bolt & Nut 2nd MTO", "description": "Tie In Bolt & Nut 2nd MTO", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2026-02-09", "actual": ""}, "receiveQuotation": {"plan": "2026-02-23", "actual": ""}, "issueTBE": {"plan": "2026-03-02", "actual": ""}, "issueCBE": {"plan": "2026-03-09", "actual": ""}, "finalNegotiation": {"plan": "2026-03-11", "actual": ""}, "issuePO": {"plan": "2026-03-16", "actual": ""}, "kom": {"plan": "2026-03-23", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-03-23", "planFinish": "2026-05-04", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-23", "planFinish": "2026-05-11", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-05-04", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-05-11", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-15", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771572515107, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PR-020-ENG-PI-SLK-VI-2025", "packageName": "Fitting Condensate Relocation 2nd MTO", "description": "Fitting Condensate Relocation 2nd MTO", "contractNo": "PO-0113/SLK/VI/2025", "vendorName": "Mitra Galperti", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-04-30", "actual": "2025-04-30"}, "receiveQuotation": {"plan": "2025-05-06", "actual": "2025-05-06"}, "issueTBE": {"plan": "2025-05-07", "actual": "2025-05-07"}, "issueCBE": {"plan": "2025-05-21", "actual": "2025-05-21"}, "finalNegotiation": {"plan": "2025-05-21", "actual": "2025-05-21"}, "issuePO": {"plan": "2025-06-03", "actual": "2025-06-03"}, "kom": {"plan": "2025-06-10", "actual": "2025-06-10"}}, "engineering": {"required": true, "planStart": "2025-06-10", "planFinish": "2025-06-10", "actualStart": "2025-06-30", "actualFinish": "2025-06-30", "statusDate": "2026-02-23", "planProgress": 100, "actualProgress": 100, "remark": ""}, "manufacture": {"planStart": "2025-06-10", "planFinish": "2025-06-10", "actualStart": "2025-06-30", "actualFinish": "2025-06-30", "statusDate": "2026-02-23", "planProgress": 100, "actualProgress": 100, "remark": "on site", "planFAT": "2025-06-30", "actualFAT": "2025-06-30", "fatResult": "Passed", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site", "planDelivery100": "2025-06-30", "actualDelivery100": "2025-06-30", "shippingStatusDate": "2026-02-23", "shippingStatusPlan": 100, "shippingStatus": 100, "planMaterialAtSite100": "2025-07-01", "actualMaterialAtSite100": "2025-07-01", "materialStatusDate": "2026-02-23", "materialAtSitePlan": 100, "materialReceivedActual": 100}}, {"id": 1771572857845, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PR-0213-SLK-IX-2025", "packageName": " Piping Material Tie-In for Tie-In (Hot Tap)", "description": " Piping Material Tie-In for Tie-In (Hot Tap)", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-09-16", "actual": ""}, "receiveQuotation": {"plan": "2025-10-23", "actual": ""}, "issueTBE": {"plan": "2025-10-30", "actual": ""}, "issueCBE": {"plan": "2025-11-06", "actual": ""}, "finalNegotiation": {"plan": "2025-11-13", "actual": ""}, "issuePO": {"plan": "2025-11-20", "actual": ""}, "kom": {"plan": "2025-11-27", "actual": ""}}, "engineering": {"required": true, "planStart": "2025-11-27", "planFinish": "2026-05-05", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-02-23", "planFinish": "2026-05-05", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-04-30", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "", "planDelivery100": "2026-05-05", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-08", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771573341123, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PR-117-ENG-L-SLK-II-2025", "packageName": "Fitting SAGS 2nd MTO", "description": "Fitting SAGS 2nd MTO", "contractNo": "PO-0145/SLK/VII/2025", "vendorName": "Paradise Perkasa", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "", "actual": ""}, "receiveQuotation": {"plan": "", "actual": ""}, "issueTBE": {"plan": "", "actual": ""}, "issueCBE": {"plan": "", "actual": ""}, "finalNegotiation": {"plan": "", "actual": ""}, "issuePO": {"plan": "", "actual": "2025-07-10"}, "kom": {"plan": "", "actual": ""}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Salak, Sukabumi", "planDelivery100": "2025-09-26", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2025-10-03", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771573651003, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PR-0241-SLK-X-2025", "packageName": "Fitting SAGS 3rd MTO", "description": "Fitting SAGS 3rd MTO", "contractNo": "PO-0015/SLK/I/2026", "vendorName": "Paradise Perkasa", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "", "actual": ""}, "receiveQuotation": {"plan": "", "actual": ""}, "issueTBE": {"plan": "", "actual": ""}, "issueCBE": {"plan": "", "actual": ""}, "finalNegotiation": {"plan": "", "actual": ""}, "issuePO": {"plan": "", "actual": "2026-01-09"}, "kom": {"plan": "", "actual": "2026-02-02"}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "", "planFinish": "2026-04-15", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-04-15", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Salak, Sukabumi", "planDelivery100": "2026-04-15", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-04-22", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771574265770, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PR-0011-ENG-L-SLK-II-2025", "packageName": "Flange SAGS 1st MTO", "description": "Flange SAGS 1st MTO", "contractNo": "", "vendorName": "Tracon", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "", "actual": ""}, "receiveQuotation": {"plan": "", "actual": ""}, "issueTBE": {"plan": "", "actual": ""}, "issueCBE": {"plan": "", "actual": ""}, "finalNegotiation": {"plan": "", "actual": ""}, "issuePO": {"plan": "", "actual": "2025-06-25"}, "kom": {"plan": "", "actual": ""}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771574670485, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PR-118-ENG-L-SLK-II-2025", "packageName": "Flange SAGS 2nd MTO", "description": "Flange SAGS 2nd MTO", "contractNo": "PO-0141/SLK/VII/2025", "vendorName": "Tracon", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "", "actual": ""}, "receiveQuotation": {"plan": "", "actual": ""}, "issueTBE": {"plan": "", "actual": ""}, "issueCBE": {"plan": "", "actual": ""}, "finalNegotiation": {"plan": "", "actual": ""}, "issuePO": {"plan": "", "actual": "2025-07-10"}, "kom": {"plan": "", "actual": ""}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2025-10-06", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2025-10-10", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771574844649, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "PR-0242-SLK-X-2025", "packageName": "Flange SAGS 3rd MTO", "description": "Flange SAGS 3rd MTO", "contractNo": "PO-0341/SLK/XII/2025", "vendorName": "Semangat Intida Suksestama", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "", "actual": ""}, "receiveQuotation": {"plan": "", "actual": ""}, "issueTBE": {"plan": "", "actual": ""}, "issueCBE": {"plan": "", "actual": ""}, "finalNegotiation": {"plan": "", "actual": ""}, "issuePO": {"plan": "", "actual": "2026-12-23"}, "kom": {"plan": "", "actual": ""}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site, Salak, Sukabumi", "planDelivery100": "2026-04-30", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-07", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771575097902, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PR-0297/SLK/XI/2025", "packageName": "Flange Condensate Line (Cl.300)", "description": "Flange Condensate Line (Cl.300)", "contractNo": "PO-0340/SLK/XII/2025", "vendorName": "Miltra Galperti", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "", "actual": ""}, "receiveQuotation": {"plan": "", "actual": ""}, "issueTBE": {"plan": "", "actual": ""}, "issueCBE": {"plan": "", "actual": ""}, "finalNegotiation": {"plan": "", "actual": ""}, "issuePO": {"plan": "", "actual": "2025-12-23"}, "kom": {"plan": "", "actual": ""}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-01-30", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-02-07", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771575466044, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PR-0013-ENG-L-SLK-II-2025", "packageName": "Gasket SAGS 1st & 2nd MTO ", "description": "Gasket SAGS 1st & 2nd MTO ", "contractNo": "PO-0250/SLK/X/2025", "vendorName": "Valui Persada", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "", "actual": ""}, "receiveQuotation": {"plan": "", "actual": ""}, "issueTBE": {"plan": "", "actual": ""}, "issueCBE": {"plan": "", "actual": ""}, "finalNegotiation": {"plan": "", "actual": ""}, "issuePO": {"plan": "", "actual": "2025-10-13"}, "kom": {"plan": "", "actual": ""}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2025-12-19", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2025-12-19", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771575663782, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PR-0246-SLK-X-2025", "packageName": "Gasket SAGS 3rd MTO", "description": "Gasket SAGS 3rd MTO", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2026-02-06", "actual": "2026-02-06"}, "receiveQuotation": {"plan": "", "actual": ""}, "issueTBE": {"plan": "", "actual": ""}, "issueCBE": {"plan": "", "actual": ""}, "finalNegotiation": {"plan": "", "actual": ""}, "issuePO": {"plan": "", "actual": ""}, "kom": {"plan": "", "actual": ""}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771805429772, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PR-0014-ENG-L-SLK-II-2025", "packageName": "Bolt & Nut SAGS 1st MTO", "description": "Bolt & Nut SAGS 1st MTO", "contractNo": "PO-0129/SLK/VI/2025", "vendorName": "Southern Tristar", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "", "actual": ""}, "receiveQuotation": {"plan": "", "actual": ""}, "issueTBE": {"plan": "", "actual": ""}, "issueCBE": {"plan": "", "actual": ""}, "finalNegotiation": {"plan": "", "actual": ""}, "issuePO": {"plan": "", "actual": ""}, "kom": {"plan": "", "actual": ""}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Jakarta", "planDelivery100": "2025-08-15", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2025-08-16", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771805600850, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PR-0193-SLK-IX-2025", "packageName": "Bolt & Nut SAGS 2nd MTO", "description": "Bolt & Nut SAGS 2nd MTO", "contractNo": "PO-0233/SLK/X/2025", "vendorName": "Southern Tristar", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "", "actual": ""}, "receiveQuotation": {"plan": "", "actual": ""}, "issueTBE": {"plan": "", "actual": ""}, "issueCBE": {"plan": "", "actual": ""}, "finalNegotiation": {"plan": "", "actual": ""}, "issuePO": {"plan": "", "actual": "2025-06-25"}, "kom": {"plan": "", "actual": ""}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Jakarta", "planDelivery100": "2025-08-15", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2025-08-15", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771805668835, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "PR-0248-SLK-X-2025", "packageName": "Bolt & Nut SAGS 3rd MTO", "description": "Bolt & Nut SAGS 3rd MTO", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "", "actual": ""}, "receiveQuotation": {"plan": "", "actual": ""}, "issueTBE": {"plan": "", "actual": ""}, "issueCBE": {"plan": "", "actual": ""}, "finalNegotiation": {"plan": "", "actual": ""}, "issuePO": {"plan": "", "actual": ""}, "kom": {"plan": "", "actual": ""}}, "engineering": {"required": false, "planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "", "planFinish": "", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771805878762, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "PR-0380-SLK-I-2026", "packageName": "Pipe Support SAGS 2nd MTO", "description": "Pipe Support SAGS 2nd MTO", "contractNo": "PRC-CO-008-2026", "vendorName": "Fajar Swasti Teknologi", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-09-29", "actual": "2025-12-29"}, "receiveQuotation": {"plan": "2025-10-13", "actual": "2026-01-05"}, "issueTBE": {"plan": "2025-10-27", "actual": "2026-01-12"}, "issueCBE": {"plan": "2025-10-30", "actual": "2026-01-26"}, "finalNegotiation": {"plan": "2025-10-31", "actual": "2026-01-26"}, "issuePO": {"plan": "2025-11-07", "actual": "2026-01-28"}, "kom": {"plan": "2025-11-14", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-02-23", "planFinish": "2026-04-30", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-09", "planFinish": "2026-05-06", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-04-30", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-05-06", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-11", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771821292481, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "SAGS", "rfqNo": "", "packageName": "Pipe Support SAGS 3rd MTO", "description": "Pipe Support SAGS 3rd MTO", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2026-02-23", "actual": ""}, "receiveQuotation": {"plan": "2026-03-09", "actual": ""}, "issueTBE": {"plan": "2026-03-16", "actual": ""}, "issueCBE": {"plan": "2026-03-23", "actual": ""}, "finalNegotiation": {"plan": "2026-03-23", "actual": ""}, "issuePO": {"plan": "2026-03-30", "actual": ""}, "kom": {"plan": "2026-04-06", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-04-06", "planFinish": "2026-05-30", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-04-06", "planFinish": "2026-05-30", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-05-25", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-05-30", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-06-05", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771822955342, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "PR-0368/SLK/I/2026", "packageName": "Pipe SS Pipe 3rd MTO", "description": "Pipe SS Pipe 3rd MTO", "contractNo": "PO-0030/SLK/I/2026", "vendorName": "Semangat Intida Suksestama", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2026-12-03", "actual": "2026-12-03"}, "receiveQuotation": {"plan": "2025-12-17", "actual": "2025-12-17"}, "issueTBE": {"plan": "2025-12-22", "actual": "2025-12-22"}, "issueCBE": {"plan": "2025-12-25", "actual": "2026-01-12"}, "finalNegotiation": {"plan": "2025-12-26", "actual": "2026-01-13"}, "issuePO": {"plan": "2026-01-19", "actual": "2026-01-19"}, "kom": {"plan": "2026-02-05", "actual": "2026-02-05"}}, "engineering": {"required": true, "planStart": "2026-02-05", "planFinish": "2026-04-30", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-02-23", "planFinish": "2026-04-30", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-04-27", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-04-30", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-07", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771828636505, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "PR-0328-SLK-XII-2025", "packageName": "Fitting & Flange 3rd MTO", "description": "Fitting & Flange 3rd MTO\nPR-0328-SLK-XII-2025 | PR-0325-SLK-XII-2025", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-12-10", "actual": "2025-12-10"}, "receiveQuotation": {"plan": "2025-12-17", "actual": ""}, "issueTBE": {"plan": "2025-12-24", "actual": ""}, "issueCBE": {"plan": "2026-01-05", "actual": ""}, "finalNegotiation": {"plan": "2026-01-12", "actual": ""}, "issuePO": {"plan": "2026-01-23", "actual": ""}, "kom": {"plan": "2026-01-30", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-02-13", "planFinish": "2026-04-20", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-02", "planFinish": "2026-04-20", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-04-15", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-04-20", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-04-24", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}, {"id": 1771829796367, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "PR-0199-SLK-IX-2025", "packageName": "Gasket 1st MTO", "description": "Gasket 1st MTO (Spiral Wound Gasket & EPDM)", "contractNo": "PO-0250/SLK/X/2025", "vendorName": "Valui Persada Engineering", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2025-08-19", "actual": "2025-08-19"}, "receiveQuotation": {"plan": "2025-09-22", "actual": "2025-08-20"}, "issueTBE": {"plan": "2025-09-29", "actual": "2025-09-02"}, "issueCBE": {"plan": "2025-09-29", "actual": "2025-10-06"}, "finalNegotiation": {"plan": "2025-10-06", "actual": "2025-10-06"}, "issuePO": {"plan": "2025-10-13", "actual": "2025-10-13"}, "kom": {"plan": "2025-10-20", "actual": "2025-10-28"}}, "engineering": {"required": true, "planStart": "2025-10-28", "planFinish": "2026-12-19", "actualStart": "2025-10-28", "actualFinish": "2026-12-19", "statusDate": "", "planProgress": 0, "actualProgress": 100, "remark": ""}, "manufacture": {"planStart": "2025-11-03", "planFinish": "2025-12-19", "actualStart": "2025-11-03", "actualFinish": "2025-12-19", "statusDate": "", "planProgress": 0, "actualProgress": 100, "remark": "", "planFAT": "2025-12-19", "actualFAT": "2025-12-19", "fatResult": "Passed", "fatRemarks": ""}, "delivery": {"incoterm": "DDP", "deliveryLocation": "Site", "planDelivery100": "2025-12-19", "actualDelivery100": "2026-01-20", "shippingStatusDate": "2026-02-23", "shippingStatusPlan": 100, "shippingStatus": 100, "planMaterialAtSite100": "2025-12-22", "actualMaterialAtSite100": "2026-01-20", "materialStatusDate": "2026-02-23", "materialAtSitePlan": 100, "materialReceivedActual": 100}}, {"id": 1771830233949, "projectId": 1767154263681, "initiation": "HO", "discipline": "Piping", "area": "GPP", "rfqNo": "", "packageName": "Gasket 2nd & 3rd MTO", "description": "Gasket 2nd & 3rd MTO", "contractNo": "", "vendorName": "", "coo": "Indonesia", "milestones": {"issueRFQ": {"plan": "2026-02-06", "actual": "2026-02-06"}, "receiveQuotation": {"plan": "2026-02-13", "actual": ""}, "issueTBE": {"plan": "2026-02-20", "actual": ""}, "issueCBE": {"plan": "2026-02-27", "actual": ""}, "finalNegotiation": {"plan": "2026-02-27", "actual": ""}, "issuePO": {"plan": "2026-03-06", "actual": ""}, "kom": {"plan": "2026-03-13", "actual": ""}}, "engineering": {"required": true, "planStart": "2026-03-13", "planFinish": "2026-04-30", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": ""}, "manufacture": {"planStart": "2026-03-13", "planFinish": "2026-04-30", "actualStart": "", "actualFinish": "", "statusDate": "", "planProgress": 0, "actualProgress": 0, "remark": "", "planFAT": "2026-04-25", "actualFAT": "", "fatResult": "", "fatRemarks": ""}, "delivery": {"incoterm": "EXW", "deliveryLocation": "", "planDelivery100": "2026-04-30", "actualDelivery100": "", "shippingStatusDate": "", "shippingStatusPlan": 0, "shippingStatus": 0, "planMaterialAtSite100": "2026-05-04", "actualMaterialAtSite100": "", "materialStatusDate": "", "materialAtSitePlan": 0, "materialReceivedActual": 0}}];
        const defaultRisks = [{"id": 1771557795240.1318, "projectId": 1767154263681, "packageId": 1767154303385, "category": "Schedule", "riskDescription": "Engineering behind schedule by 13% for Steam Surface Condenser", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2025-03-30", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795240.2698, "projectId": 1767154263681, "packageId": 1767154303385, "category": "Logistics", "riskDescription": "Delivery in 23 days but shipping only 0% for Steam Surface Condenser", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite shipping arrangements, consider faster transport mode", "owner": "Logistics Manager", "dueDate": "2026-03-15", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795240.9668, "projectId": 1767154263681, "packageId": 1767577260224, "category": "Logistics", "riskDescription": "International shipping required from Japan for Steam Turbine", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Monitoring", "mitigation": "Monitor shipping schedule, prepare customs documentation", "owner": "Logistics Manager", "dueDate": "2026-05-15", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795240.8594, "projectId": 1767154263681, "packageId": 1767578706859, "category": "Logistics", "riskDescription": "International shipping required from Japan for Liquid Ring Vacuum Pump (LRVP) for GRS", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Monitoring", "mitigation": "Monitor shipping schedule, prepare customs documentation", "owner": "Logistics Manager", "dueDate": "2026-02-06", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795240.5854, "projectId": 1767154263681, "packageId": 1767582726859, "category": "Logistics", "riskDescription": "International shipping required from Japan for Circulating Cooling Water Pump (CCWP)", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Monitoring", "mitigation": "Monitor shipping schedule, prepare customs documentation", "owner": "Logistics Manager", "dueDate": "2026-04-27", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795240.118, "projectId": 1767154263681, "packageId": 1767583425281, "category": "Logistics", "riskDescription": "International shipping required from France for Cooling Tower Package", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Monitoring", "mitigation": "Monitor shipping schedule, prepare customs documentation", "owner": "Logistics Manager", "dueDate": "2026-02-07", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795240.3516, "projectId": 1767154263681, "packageId": 1767584224061, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 19% for Air Compressor & Air Dryer Package", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-05-05", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795240.4854, "projectId": 1767154263681, "packageId": 1767584224061, "category": "Logistics", "riskDescription": "International shipping required from Japan for Air Compressor & Air Dryer Package", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Monitoring", "mitigation": "Monitor shipping schedule, prepare customs documentation", "owner": "Logistics Manager", "dueDate": "2026-05-31", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795240.448, "projectId": 1767154263681, "packageId": 1767584740969, "category": "Schedule", "riskDescription": "Engineering behind schedule by 19% for Overhead Crane Power House", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-05-24", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795240.4446, "projectId": 1767154263681, "packageId": 1767585238196, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 25% for Steam Scrubber", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-04-05", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795240.5867, "projectId": 1767154263681, "packageId": 1767585238196, "category": "Schedule", "riskDescription": "Engineering behind schedule by 12% for Steam Scrubber", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-04-01", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795240.0461, "projectId": 1767154263681, "packageId": 1767585773209, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 17% for Fire Water Pumps", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-05-15", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795240.429, "projectId": 1767154263681, "packageId": 1767585773209, "category": "Schedule", "riskDescription": "Engineering behind schedule by 15% for Fire Water Pumps", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-05-05", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795240.3787, "projectId": 1767154263681, "packageId": 1767586182600, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 38% for Non-Critical Centrifugal Pumps", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-04-05", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.8945, "projectId": 1767154263681, "packageId": 1767586463912, "category": "Logistics", "riskDescription": "Delivery in 8 days but shipping only 0% for Field Welded Tanks", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite shipping arrangements, consider faster transport mode", "owner": "Logistics Manager", "dueDate": "2026-02-28", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.5823, "projectId": 1767154263681, "packageId": 1767586873514, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 26% for Water Treatment Package", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-06-28", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.1914, "projectId": 1767154263681, "packageId": 1767596990268, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 32% for Chemical Injection Package", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-05-22", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.202, "projectId": 1767154263681, "packageId": 1767596990268, "category": "Schedule", "riskDescription": "Engineering behind schedule by 17% for Chemical Injection Package", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-04-22", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.5806, "projectId": 1767154263681, "packageId": 1767597383335, "category": "Logistics", "riskDescription": "Delivery in 8 days but shipping only 0% for Air Receiver Package", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite shipping arrangements, consider faster transport mode", "owner": "Logistics Manager", "dueDate": "2026-02-28", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.2322, "projectId": 1767154263681, "packageId": 1767598397849, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 17% for Surface Condenser Cleaning System", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-03-30", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.8293, "projectId": 1767154263681, "packageId": 1767598397849, "category": "Schedule", "riskDescription": "Engineering behind schedule by 16% for Surface Condenser Cleaning System", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2025-09-23", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.9248, "projectId": 1767154263681, "packageId": 1767598397849, "category": "Technical", "riskDescription": "FAT in 6 days but manufacture only 78% for Surface Condenser Cleaning System", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider FAT reschedule", "owner": "Project Manager", "dueDate": "2026-02-26", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.741, "projectId": 1767154263681, "packageId": 1767598397849, "category": "Logistics", "riskDescription": "International shipping required from Germany for Surface Condenser Cleaning System", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Monitoring", "mitigation": "Monitor shipping schedule, prepare customs documentation", "owner": "Logistics Manager", "dueDate": "2026-05-30", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.2432, "projectId": 1767154263681, "packageId": 1767598638498, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 26% for Fire Suppression System", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-05-20", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.7983, "projectId": 1767154263681, "packageId": 1767598638498, "category": "Schedule", "riskDescription": "Engineering behind schedule by 36% for Fire Suppression System", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-03-25", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.7551, "projectId": 1767154263681, "packageId": 1767773291527, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 10% for Oily Water Separator", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-04-10", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.1995, "projectId": 1767154263681, "packageId": 1767773291527, "category": "Schedule", "riskDescription": "Engineering behind schedule by 25% for Oily Water Separator", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-03-18", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.2437, "projectId": 1767154263681, "packageId": 1767773701316, "category": "Schedule", "riskDescription": "PO not yet issued for Lubricants", "probability": "Medium", "impact": "High", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite procurement process, escalate to management if needed", "owner": "Procurement Manager", "dueDate": "2026-03-01", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.7932, "projectId": 1767154263681, "packageId": 1767773701316, "category": "Schedule", "riskDescription": "Issue RFQ delayed by 27 days for Lubricants", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Fast-track milestone completion, identify blockers", "owner": "Procurement Manager", "dueDate": "2026-01-25", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.7256, "projectId": 1767154263681, "packageId": 1767773701316, "category": "Schedule", "riskDescription": "Issue TBE delayed by 12 days for Lubricants", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Fast-track milestone completion, identify blockers", "owner": "Procurement Manager", "dueDate": "2026-02-09", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.9167, "projectId": 1767154263681, "packageId": 1769437139156, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 25% for Generator Transformer", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-03-31", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.2737, "projectId": 1767154263681, "packageId": 1769437139156, "category": "Technical", "riskDescription": "FAT in 18 days but manufacture only 50% for Generator Transformer", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider FAT reschedule", "owner": "Project Manager", "dueDate": "2026-03-10", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.7197, "projectId": 1767154263681, "packageId": 1769438658189, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 19% for Isolated Phase Busduct (IPB)", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-02-28", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.9485, "projectId": 1767154263681, "packageId": 1769438658189, "category": "Technical", "riskDescription": "FAT in 6 days but manufacture only 80% for Isolated Phase Busduct (IPB)", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider FAT reschedule", "owner": "Project Manager", "dueDate": "2026-02-26", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.8699, "projectId": 1767154263681, "packageId": 1769438658189, "category": "Logistics", "riskDescription": "Delivery in 24 days but shipping only 0% for Isolated Phase Busduct (IPB)", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite shipping arrangements, consider faster transport mode", "owner": "Logistics Manager", "dueDate": "2026-03-16", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.5618, "projectId": 1767154263681, "packageId": 1769439297935, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 22% for Generator Circuit Breaker (GCB) & Transformer Circuit Breaker (TCB)", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-05-21", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.762, "projectId": 1767154263681, "packageId": 1769439297935, "category": "Schedule", "riskDescription": "Engineering behind schedule by 25% for Generator Circuit Breaker (GCB) & Transformer Circuit Breaker (TCB)", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-05-11", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.7056, "projectId": 1767154263681, "packageId": 1769439297935, "category": "Logistics", "riskDescription": "International shipping required from Germany for Generator Circuit Breaker (GCB) & Transformer Circuit Breaker (TCB)", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Monitoring", "mitigation": "Monitor shipping schedule, prepare customs documentation", "owner": "Logistics Manager", "dueDate": "2026-05-30", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.5747, "projectId": 1767154263681, "packageId": 1769440405123, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 48% for UPS & Battery Charger", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-03-09", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.793, "projectId": 1767154263681, "packageId": 1769440405123, "category": "Schedule", "riskDescription": "Engineering behind schedule by 65% for UPS & Battery Charger", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-03-02", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.4841, "projectId": 1767154263681, "packageId": 1769440405123, "category": "Technical", "riskDescription": "FAT in 5 days but manufacture only 50% for UPS & Battery Charger", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider FAT reschedule", "owner": "Project Manager", "dueDate": "2026-02-25", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.1536, "projectId": 1767154263681, "packageId": 1769476434001, "category": "Logistics", "riskDescription": "Delivery in 20 days but shipping only 0% for 150KV Cable and Switchyard Equipment", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite shipping arrangements, consider faster transport mode", "owner": "Logistics Manager", "dueDate": "2026-03-12", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.7312, "projectId": 1767154263681, "packageId": 1769477040952, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 46% for Emergency Diesel Generator", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-03-13", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.3916, "projectId": 1767154263681, "packageId": 1769477040952, "category": "Schedule", "riskDescription": "Engineering behind schedule by 52% for Emergency Diesel Generator", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-03-02", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.907, "projectId": 1767154263681, "packageId": 1769477040952, "category": "Technical", "riskDescription": "FAT in 19 days but manufacture only 45% for Emergency Diesel Generator", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider FAT reschedule", "owner": "Project Manager", "dueDate": "2026-03-11", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.646, "projectId": 1767154263681, "packageId": 1769477337209, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 15% for MV Switchgear & LV Switchgear ", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-04-20", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.7246, "projectId": 1767154263681, "packageId": 1769477337209, "category": "Schedule", "riskDescription": "Engineering behind schedule by 42% for MV Switchgear & LV Switchgear ", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-04-12", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.1406, "projectId": 1767154263681, "packageId": 1769479447729, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 17% for 150kV Combine CT/VT & Installation", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-06-09", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.0999, "projectId": 1767154263681, "packageId": 1769482787620, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 97% for Electrical Cable Ladder & Tray", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-02-28", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.5332, "projectId": 1767154263681, "packageId": 1769482787620, "category": "Schedule", "riskDescription": "Engineering behind schedule by 57% for Electrical Cable Ladder & Tray", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-01-30", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.3494, "projectId": 1767154263681, "packageId": 1769564870829, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 22% for Inter/After Condenser (GRS)", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-04-15", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.4963, "projectId": 1767154263681, "packageId": 1769564870829, "category": "Schedule", "riskDescription": "Engineering behind schedule by 12% for Inter/After Condenser (GRS)", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2025-03-09", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.3164, "projectId": 1767154263681, "packageId": 1769564870829, "category": "Technical", "riskDescription": "FAT in 13 days but manufacture only 76% for Inter/After Condenser (GRS)", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider FAT reschedule", "owner": "Project Manager", "dueDate": "2026-03-05", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.4556, "projectId": 1767154263681, "packageId": 1769564870829, "category": "Logistics", "riskDescription": "International shipping required from China for Inter/After Condenser (GRS)", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Monitoring", "mitigation": "Monitor shipping schedule, prepare customs documentation", "owner": "Logistics Manager", "dueDate": "2026-05-01", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.2322, "projectId": 1767154263681, "packageId": 1769565692503, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 22% for Steam Ejector (GRS)", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-04-01", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.3613, "projectId": 1767154263681, "packageId": 1769565692503, "category": "Schedule", "riskDescription": "Engineering behind schedule by 11% for Steam Ejector (GRS)", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-03-09", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.8875, "projectId": 1767154263681, "packageId": 1769565692503, "category": "Technical", "riskDescription": "FAT in 24 days but manufacture only 76% for Steam Ejector (GRS)", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider FAT reschedule", "owner": "Project Manager", "dueDate": "2026-03-16", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.869, "projectId": 1767154263681, "packageId": 1769565692503, "category": "Logistics", "riskDescription": "International shipping required from Germany for Steam Ejector (GRS)", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Monitoring", "mitigation": "Monitor shipping schedule, prepare customs documentation", "owner": "Logistics Manager", "dueDate": "2026-05-01", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.4312, "projectId": 1767154263681, "packageId": 1769567657439, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 13% for Generator for Steam Turbine", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-05-08", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.213, "projectId": 1767154263681, "packageId": 1769567657439, "category": "Schedule", "riskDescription": "Engineering behind schedule by 20% for Generator for Steam Turbine", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-03-07", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.42, "projectId": 1767154263681, "packageId": 1769567657439, "category": "Technical", "riskDescription": "FAT in 6 days but manufacture only 84% for Generator for Steam Turbine", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider FAT reschedule", "owner": "Project Manager", "dueDate": "2026-02-26", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.5298, "projectId": 1767154263681, "packageId": 1769567657439, "category": "Logistics", "riskDescription": "International shipping required from Japan for Generator for Steam Turbine", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Monitoring", "mitigation": "Monitor shipping schedule, prepare customs documentation", "owner": "Logistics Manager", "dueDate": "2026-05-15", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.1194, "projectId": 1767154263681, "packageId": 1769570159334, "category": "Schedule", "riskDescription": "Engineering behind schedule by 19% for Hotwell Pump (HWP)", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-03-09", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.101, "projectId": 1767154263681, "packageId": 1769570159334, "category": "Logistics", "riskDescription": "International shipping required from Japan for Hotwell Pump (HWP)", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Monitoring", "mitigation": "Monitor shipping schedule, prepare customs documentation", "owner": "Logistics Manager", "dueDate": "2026-04-27", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.3716, "projectId": 1767154263681, "packageId": 1769652626403, "category": "Schedule", "riskDescription": "PO not yet issued for Fire Monitor, Hose Cabinet, Eyewash, Outdoor Hydrant - OVERDUE", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite procurement process, escalate to management if needed", "owner": "Procurement Manager", "dueDate": "2026-02-09", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.472, "projectId": 1767154263681, "packageId": 1769652626403, "category": "Schedule", "riskDescription": "Issue CBE delayed by 43 days for Fire Monitor, Hose Cabinet, Eyewash, Outdoor Hydrant", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Fast-track milestone completion, identify blockers", "owner": "Procurement Manager", "dueDate": "2026-01-09", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.0344, "projectId": 1767154263681, "packageId": 1769652626403, "category": "Schedule", "riskDescription": "Final Negotiation delayed by 29 days for Fire Monitor, Hose Cabinet, Eyewash, Outdoor Hydrant", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Fast-track milestone completion, identify blockers", "owner": "Procurement Manager", "dueDate": "2026-01-23", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.137, "projectId": 1767154263681, "packageId": 1769652914836, "category": "Commercial", "riskDescription": "Contract/PO number not recorded for Hot Tapping Work", "probability": "Low", "impact": "Low", "riskLevel": "Low", "status": "Open", "mitigation": "Update contract information in system", "owner": "Procurement Manager", "dueDate": "", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.8857, "projectId": 1767154263681, "packageId": 1769654434186, "category": "Schedule", "riskDescription": "PO not yet issued for Cable & Wire - OVERDUE", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite procurement process, escalate to management if needed", "owner": "Procurement Manager", "dueDate": "2025-12-09", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.0918, "projectId": 1767154263681, "packageId": 1769654434186, "category": "Schedule", "riskDescription": "Issue CBE delayed by 85 days for Cable & Wire", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Fast-track milestone completion, identify blockers", "owner": "Procurement Manager", "dueDate": "2025-11-28", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.1729, "projectId": 1767154263681, "packageId": 1769654434186, "category": "Schedule", "riskDescription": "Final Negotiation delayed by 81 days for Cable & Wire", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Fast-track milestone completion, identify blockers", "owner": "Procurement Manager", "dueDate": "2025-12-02", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.0764, "projectId": 1767154263681, "packageId": 1769654871909, "category": "Schedule", "riskDescription": "PO not yet issued for Electrical Heat Tracing", "probability": "Medium", "impact": "High", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite procurement process, escalate to management if needed", "owner": "Procurement Manager", "dueDate": "2026-02-27", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.92, "projectId": 1767154263681, "packageId": 1769654871909, "category": "Schedule", "riskDescription": "Issue RFQ delayed by 25 days for Electrical Heat Tracing", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Fast-track milestone completion, identify blockers", "owner": "Procurement Manager", "dueDate": "2026-01-27", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.8037, "projectId": 1767154263681, "packageId": 1769654871909, "category": "Schedule", "riskDescription": "Receive Quotation delayed by 18 days for Electrical Heat Tracing", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Fast-track milestone completion, identify blockers", "owner": "Procurement Manager", "dueDate": "2026-02-03", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.1921, "projectId": 1767154263681, "packageId": 1769654871909, "category": "Schedule", "riskDescription": "Issue TBE delayed by 11 days for Electrical Heat Tracing", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Fast-track milestone completion, identify blockers", "owner": "Procurement Manager", "dueDate": "2026-02-10", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.4634, "projectId": 1767154263681, "packageId": 1769658322501, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 29% for Supply Material HVAC", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-03-25", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.7622, "projectId": 1767154263681, "packageId": 1769658322501, "category": "Technical", "riskDescription": "FAT in 26 days but manufacture only 65% for Supply Material HVAC", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider FAT reschedule", "owner": "Project Manager", "dueDate": "2026-03-18", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.5862, "projectId": 1767154263681, "packageId": 1769997112970, "category": "Logistics", "riskDescription": "International shipping required from South Korea for LB & SB Valve1st MTO", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Monitoring", "mitigation": "Monitor shipping schedule, prepare customs documentation", "owner": "Logistics Manager", "dueDate": "2026-07-29", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.76, "projectId": 1767154263681, "packageId": 1770000790141, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 47% for Butterfly Valve", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-03-23", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.253, "projectId": 1767154263681, "packageId": 1770000790141, "category": "Technical", "riskDescription": "FAT in 28 days but manufacture only 50% for Butterfly Valve", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider FAT reschedule", "owner": "Project Manager", "dueDate": "2026-03-20", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.4827, "projectId": 1767154263681, "packageId": 1770000790141, "category": "Logistics", "riskDescription": "International shipping required from India for Butterfly Valve", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Monitoring", "mitigation": "Monitor shipping schedule, prepare customs documentation", "owner": "Logistics Manager", "dueDate": "2026-03-23", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.1843, "projectId": 1767154263681, "packageId": 1770001800388, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 48% for Pipe Support SAGS 1st MTO", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-02-17", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.2222, "projectId": 1767154263681, "packageId": 1770003635701, "category": "Logistics", "riskDescription": "Delivery in 3 days but shipping only 0% for Supply FRP Pipe, Fitting Flange, Flange Material 1st MTO", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite shipping arrangements, consider faster transport mode", "owner": "Logistics Manager", "dueDate": "2026-02-23", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.8757, "projectId": 1767154263681, "packageId": 1770007272883, "category": "Logistics", "riskDescription": "Delivery in 56 days but shipping only 0% for Insulation Piping Material / Wrapping", "probability": "Medium", "impact": "High", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite shipping arrangements, consider faster transport mode", "owner": "Logistics Manager", "dueDate": "2026-04-17", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.7207, "projectId": 1767154263681, "packageId": 1770013050582, "category": "Logistics", "riskDescription": "Delivery in 21 days but shipping only 0% for Pipe A312 TP316L SMLS", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite shipping arrangements, consider faster transport mode", "owner": "Logistics Manager", "dueDate": "2026-03-13", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.404, "projectId": 1767154263681, "packageId": 1770013270721, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 31% for Valve GGC Power Plant LB & SB, GGC SAGS (LB only) and Butterfly Valve Power Plant (Concentric only) ", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-05-15", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.0388, "projectId": 1767154263681, "packageId": 1770013270721, "category": "Logistics", "riskDescription": "International shipping required from South Korea for Valve GGC Power Plant LB & SB, GGC SAGS (LB only) and Butterfly Valve Power Plant (Concentric only) ", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Monitoring", "mitigation": "Monitor shipping schedule, prepare customs documentation", "owner": "Logistics Manager", "dueDate": "2026-05-27", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.372, "projectId": 1767154263681, "packageId": 1770015488700, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 89% for Fittings Power Plant 1st MTO & 2nd MTO", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-03-16", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.6868, "projectId": 1767154263681, "packageId": 1770015488700, "category": "Schedule", "riskDescription": "Engineering behind schedule by 46% for Fittings Power Plant 1st MTO & 2nd MTO", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-03-09", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.9153, "projectId": 1767154263681, "packageId": 1770015488700, "category": "Technical", "riskDescription": "FAT in 20 days but manufacture only 0% for Fittings Power Plant 1st MTO & 2nd MTO", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider FAT reschedule", "owner": "Project Manager", "dueDate": "2026-03-12", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.926, "projectId": 1767154263681, "packageId": 1770016509288, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 89% for Flanges Power Plant 1st MTO & 2nd MTO", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-03-16", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.3486, "projectId": 1767154263681, "packageId": 1770016509288, "category": "Schedule", "riskDescription": "Engineering behind schedule by 46% for Flanges Power Plant 1st MTO & 2nd MTO", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-03-09", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.557, "projectId": 1767154263681, "packageId": 1770016509288, "category": "Technical", "riskDescription": "FAT in 20 days but manufacture only 0% for Flanges Power Plant 1st MTO & 2nd MTO", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider FAT reschedule", "owner": "Project Manager", "dueDate": "2026-03-12", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.2134, "projectId": 1767154263681, "packageId": 1770017434305, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 12% for ULFM Valve", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-05-04", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.486, "projectId": 1767154263681, "packageId": 1770018434601, "category": "Logistics", "riskDescription": "International shipping required from South Korea for GGC Valve Power LB & SB 2nd MTO", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Monitoring", "mitigation": "Monitor shipping schedule, prepare customs documentation", "owner": "Logistics Manager", "dueDate": "2026-05-29", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.9658, "projectId": 1767154263681, "packageId": 1770020251011, "category": "Schedule", "riskDescription": "Engineering behind schedule by 21% for Butterfly Valve Power Plant 2nd & 3rd MTO", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-05-04", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.9402, "projectId": 1767154263681, "packageId": 1770020251011, "category": "Logistics", "riskDescription": "International shipping required from South Korea for Butterfly Valve Power Plant 2nd & 3rd MTO", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Monitoring", "mitigation": "Monitor shipping schedule, prepare customs documentation", "owner": "Logistics Manager", "dueDate": "2026-05-20", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.2246, "projectId": 1767154263681, "packageId": 1770024620720, "category": "Logistics", "riskDescription": "International shipping required from South Korea for GGC Valve LB Power Plant & Valve for Tie-in 3rd MTO", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Monitoring", "mitigation": "Monitor shipping schedule, prepare customs documentation", "owner": "Logistics Manager", "dueDate": "2026-06-30", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.606, "projectId": 1767154263681, "packageId": 1770178638826, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 21% for Motorized Operating Valve", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-03-31", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.5886, "projectId": 1767154263681, "packageId": 1770178892627, "category": "Schedule", "riskDescription": "Engineering behind schedule by 17% for Distributed Control System (DCS)", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-04-18", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.3147, "projectId": 1767154263681, "packageId": 1770178892627, "category": "Logistics", "riskDescription": "Delivery in 51 days but shipping only 0% for Distributed Control System (DCS)", "probability": "Medium", "impact": "High", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite shipping arrangements, consider faster transport mode", "owner": "Logistics Manager", "dueDate": "2026-04-12", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.4832, "projectId": 1767154263681, "packageId": 1770187473208, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 19% for Venturi", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-03-03", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.7585, "projectId": 1767154263681, "packageId": 1770187473208, "category": "Technical", "riskDescription": "FAT in 18 days but manufacture only 80% for Venturi", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider FAT reschedule", "owner": "Project Manager", "dueDate": "2026-03-10", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.5674, "projectId": 1767154263681, "packageId": 1770187473208, "category": "Logistics", "riskDescription": "Delivery in 17 days but shipping only 0% for Venturi", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite shipping arrangements, consider faster transport mode", "owner": "Logistics Manager", "dueDate": "2026-03-09", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.387, "projectId": 1767154263681, "packageId": 1770189061418, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 21% for Control Valve for SAGS & Power Plant", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-04-23", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.9238, "projectId": 1767154263681, "packageId": 1770189061418, "category": "Schedule", "riskDescription": "Engineering behind schedule by 26% for Control Valve for SAGS & Power Plant", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2025-11-14", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.5557, "projectId": 1767154263681, "packageId": 1770190296957, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 19% for Control Valve for SAGS & Power Plant (2nd PO)", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-04-23", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.1416, "projectId": 1767154263681, "packageId": 1770190296957, "category": "Schedule", "riskDescription": "Engineering behind schedule by 26% for Control Valve for SAGS & Power Plant (2nd PO)", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2025-11-14", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.1814, "projectId": 1767154263681, "packageId": 1770192797618, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 10% for On-Off Valve Area Power Plant", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-05-29", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.3958, "projectId": 1767154263681, "packageId": 1770192797618, "category": "Schedule", "riskDescription": "Engineering behind schedule by 15% for On-Off Valve Area Power Plant", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-05-27", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.5466, "projectId": 1767154263681, "packageId": 1770198830358, "category": "Schedule", "riskDescription": "Engineering behind schedule by 19% for On-off Valve PR.4.1 (2nd PO)", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-05-09", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.8745, "projectId": 1767154263681, "packageId": 1770255780735, "category": "Schedule", "riskDescription": "Engineering behind schedule by 56% for Rupture Disc PR.4.1", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2025-12-30", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.4773, "projectId": 1767154263681, "packageId": 1770255780735, "category": "Logistics", "riskDescription": "Delivery in 6 days but shipping only 0% for Rupture Disc PR.4.1", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite shipping arrangements, consider faster transport mode", "owner": "Logistics Manager", "dueDate": "2026-02-26", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.4722, "projectId": 1767154263681, "packageId": 1770257219329, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 16% for Pressure Safety Valve", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-05-19", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.634, "projectId": 1767154263681, "packageId": 1770257219329, "category": "Schedule", "riskDescription": "Engineering behind schedule by 60% for Pressure Safety Valve", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2025-12-12", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.711, "projectId": 1767154263681, "packageId": 1770260957021, "category": "Schedule", "riskDescription": "Manufacturing behind schedule by 27% for Gas monitoring & Flame Heat Detection", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider air freight, add resources", "owner": "Project Manager", "dueDate": "2026-03-30", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.9226, "projectId": 1767154263681, "packageId": 1770775726734, "category": "Schedule", "riskDescription": "PO not yet issued for Flooring - Raised Floor, Ceiling and Partition", "probability": "Medium", "impact": "High", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite procurement process, escalate to management if needed", "owner": "Procurement Manager", "dueDate": "2026-03-02", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795241.3218, "projectId": 1767154263681, "packageId": 1770776069051, "category": "Schedule", "riskDescription": "PO not yet issued for Strainer Power Plant 1st MTO", "probability": "Medium", "impact": "High", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite procurement process, escalate to management if needed", "owner": "Procurement Manager", "dueDate": "2026-02-27", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.9368, "projectId": 1767154263681, "packageId": 1770776093791, "category": "Schedule", "riskDescription": "PO not yet issued for Steam Trap Power Plan 1st MTO ", "probability": "Medium", "impact": "High", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite procurement process, escalate to management if needed", "owner": "Procurement Manager", "dueDate": "2026-02-27", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.1162, "projectId": 1767154263681, "packageId": 1770776130422, "category": "Schedule", "riskDescription": "PO not yet issued for Expansion Joint", "probability": "Medium", "impact": "High", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite procurement process, escalate to management if needed", "owner": "Procurement Manager", "dueDate": "2026-03-13", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.6323, "projectId": 1767154263681, "packageId": 1770777587085, "category": "Schedule", "riskDescription": "PO not yet issued for Sprinkler & Indoor Hydrant", "probability": "Medium", "impact": "High", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite procurement process, escalate to management if needed", "owner": "Procurement Manager", "dueDate": "2026-02-27", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.4949, "projectId": 1767154263681, "packageId": 1770777587085, "category": "Schedule", "riskDescription": "Issue RFQ delayed by 19 days for Sprinkler & Indoor Hydrant", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Fast-track milestone completion, identify blockers", "owner": "Procurement Manager", "dueDate": "2026-02-02", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.7097, "projectId": 1767154263681, "packageId": 1770777587085, "category": "Schedule", "riskDescription": "Receive Quotation delayed by 8 days for Sprinkler & Indoor Hydrant", "probability": "Medium", "impact": "Medium", "riskLevel": "Medium", "status": "Open", "mitigation": "Fast-track milestone completion, identify blockers", "owner": "Procurement Manager", "dueDate": "2026-02-13", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.4111, "projectId": 1767154263681, "packageId": 1770777768931, "category": "Commercial", "riskDescription": "Contract/PO number not recorded for Template Anchor Bolt Steam Turbine", "probability": "Low", "impact": "Low", "riskLevel": "Low", "status": "Open", "mitigation": "Update contract information in system", "owner": "Procurement Manager", "dueDate": "", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.936, "projectId": 1767154263681, "packageId": 1770777768931, "category": "Technical", "riskDescription": "FAT in 28 days but manufacture only 50% for Template Anchor Bolt Steam Turbine", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite manufacturing, consider FAT reschedule", "owner": "Project Manager", "dueDate": "2026-03-20", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.0105, "projectId": 1767154263681, "packageId": 1770779035297, "category": "Schedule", "riskDescription": "PO not yet issued for Level Gauge", "probability": "Medium", "impact": "High", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite procurement process, escalate to management if needed", "owner": "Procurement Manager", "dueDate": "2026-03-05", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.435, "projectId": 1767154263681, "packageId": 1770779546584, "category": "Schedule", "riskDescription": "PO not yet issued for Steel Door Window", "probability": "Medium", "impact": "High", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite procurement process, escalate to management if needed", "owner": "Procurement Manager", "dueDate": "2026-02-27", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.347, "projectId": 1767154263681, "packageId": 1770779546584, "category": "Schedule", "riskDescription": "Issue TBE delayed by 45 days for Steel Door Window", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Fast-track milestone completion, identify blockers", "owner": "Procurement Manager", "dueDate": "2026-01-07", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.9985, "projectId": 1767154263681, "packageId": 1770779546584, "category": "Schedule", "riskDescription": "Issue CBE delayed by 38 days for Steel Door Window", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Fast-track milestone completion, identify blockers", "owner": "Procurement Manager", "dueDate": "2026-01-14", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.7373, "projectId": 1767154263681, "packageId": 1770885889966, "category": "Schedule", "riskDescription": "PO not yet issued for  Temperature Gauge", "probability": "Medium", "impact": "High", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite procurement process, escalate to management if needed", "owner": "Procurement Manager", "dueDate": "2026-03-06", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.8552, "projectId": 1767154263681, "packageId": 1771470272445, "category": "Schedule", "riskDescription": "PO not yet issued for Lighting Fixture & Receptacle - OVERDUE", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite procurement process, escalate to management if needed", "owner": "Procurement Manager", "dueDate": "2025-12-01", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.2317, "projectId": 1767154263681, "packageId": 1771470272445, "category": "Schedule", "riskDescription": "Engineering behind schedule by 83% for Lighting Fixture & Receptacle", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Add engineering resources, prioritize critical path items", "owner": "Engineering Manager", "dueDate": "2026-03-29", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.4326, "projectId": 1767154263681, "packageId": 1771470272445, "category": "Schedule", "riskDescription": "Issue CBE delayed by 126 days for Lighting Fixture & Receptacle", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Fast-track milestone completion, identify blockers", "owner": "Procurement Manager", "dueDate": "2025-10-18", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.0283, "projectId": 1767154263681, "packageId": 1771470272445, "category": "Schedule", "riskDescription": "Final Negotiation delayed by 119 days for Lighting Fixture & Receptacle", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Fast-track milestone completion, identify blockers", "owner": "Procurement Manager", "dueDate": "2025-10-25", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.936, "projectId": 1767154263681, "packageId": 1771472045531, "category": "Schedule", "riskDescription": "PO not yet issued for Electrical Bulk Material - OVERDUE", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite procurement process, escalate to management if needed", "owner": "Procurement Manager", "dueDate": "2025-12-08", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.5425, "projectId": 1767154263681, "packageId": 1771472045531, "category": "Schedule", "riskDescription": "Issue CBE delayed by 89 days for Electrical Bulk Material", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Fast-track milestone completion, identify blockers", "owner": "Procurement Manager", "dueDate": "2025-11-24", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.0457, "projectId": 1767154263681, "packageId": 1771472045531, "category": "Schedule", "riskDescription": "Final Negotiation delayed by 82 days for Electrical Bulk Material", "probability": "High", "impact": "Medium", "riskLevel": "Critical", "status": "Open", "mitigation": "Fast-track milestone completion, identify blockers", "owner": "Procurement Manager", "dueDate": "2025-12-01", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.0073, "projectId": 1767154263681, "packageId": 1771472509564, "category": "Schedule", "riskDescription": "PO not yet issued for Level Transmitter - OVERDUE", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Expedite procurement process, escalate to management if needed", "owner": "Procurement Manager", "dueDate": "2025-11-22", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.1624, "projectId": 1767154263681, "packageId": 1771548989500, "category": "Schedule", "riskDescription": "PO not yet issued for Slope stability Material", "probability": "Medium", "impact": "High", "riskLevel": "Medium", "status": "Open", "mitigation": "Expedite procurement process, escalate to management if needed", "owner": "Procurement Manager", "dueDate": "2026-03-30", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795242.6748, "projectId": 1767154263681, "packageId": null, "category": "Schedule", "riskDescription": "31 of 102 packages (30%) are behind schedule", "probability": "High", "impact": "High", "riskLevel": "Critical", "status": "Open", "mitigation": "Conduct schedule recovery workshop, prioritize critical path", "owner": "Project Manager", "dueDate": "", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795243.1206, "projectId": 1767154263681, "packageId": null, "category": "Logistics", "riskDescription": "6 packages sourced from Japan - geographic concentration risk", "probability": "Low", "impact": "Medium", "riskLevel": "Low", "status": "Monitoring", "mitigation": "Monitor geopolitical situation, prepare contingency suppliers", "owner": "Procurement Manager", "dueDate": "", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795243.3677, "projectId": 1767154263681, "packageId": null, "category": "Logistics", "riskDescription": "3 packages sourced from Germany - geographic concentration risk", "probability": "Low", "impact": "Medium", "riskLevel": "Low", "status": "Monitoring", "mitigation": "Monitor geopolitical situation, prepare contingency suppliers", "owner": "Procurement Manager", "dueDate": "", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}, {"id": 1771557795243.5925, "projectId": 1767154263681, "packageId": null, "category": "Logistics", "riskDescription": "6 packages sourced from South Korea - geographic concentration risk", "probability": "Low", "impact": "Medium", "riskLevel": "Low", "status": "Monitoring", "mitigation": "Monitor geopolitical situation, prepare contingency suppliers", "owner": "Procurement Manager", "dueDate": "", "isAutoGenerated": true, "generatedDate": "2026-02-20T03:23:15.240Z"}];

        // Initialize variables - will be loaded from localStorage or defaults
        let projects = [];
        let packages = [];
        let risks = [];
        let selectedProject = 1767154263681, currentTab = 'dashboard', charts = {};

        // ===== LOCAL STORAGE FUNCTIONS =====
        
        // Save all data to localStorage
        function saveAllData() {
            try {
                localStorage.setItem(STORAGE_KEYS.PROJECTS, JSON.stringify(projects));
                localStorage.setItem(STORAGE_KEYS.PACKAGES, JSON.stringify(packages));
                localStorage.setItem(STORAGE_KEYS.RISKS, JSON.stringify(risks));
                localStorage.setItem(STORAGE_KEYS.SELECTED_PROJECT, selectedProject.toString());
                localStorage.setItem(STORAGE_KEYS.WEIGHT_FACTORS, JSON.stringify(weightFactors));
                console.log('Data saved to localStorage successfully');
            } catch (e) {
                console.error('Error saving to localStorage:', e);
                showNotification('Error saving data. Storage may be full.', 'error');
            }
        }

        // Load all data from localStorage
        function loadAllData() {
            try {
                const storedProjects = localStorage.getItem(STORAGE_KEYS.PROJECTS);
                const storedPackages = localStorage.getItem(STORAGE_KEYS.PACKAGES);
                const storedRisks = localStorage.getItem(STORAGE_KEYS.RISKS);
                const storedSelectedProject = localStorage.getItem(STORAGE_KEYS.SELECTED_PROJECT);
                const storedWeightFactors = localStorage.getItem(STORAGE_KEYS.WEIGHT_FACTORS);

                // Load or use defaults
                projects = storedProjects ? JSON.parse(storedProjects) : [...defaultProjects];
                packages = storedPackages ? JSON.parse(storedPackages) : [...defaultPackages];
                risks = storedRisks ? JSON.parse(storedRisks) : [...defaultRisks];
                selectedProject = storedSelectedProject ? parseInt(storedSelectedProject) : 1;
                weightFactors = storedWeightFactors ? JSON.parse(storedWeightFactors) : JSON.parse(JSON.stringify(defaultWeightFactors));

                // If this is first time (no data in storage), save defaults
                if (!storedProjects) {
                    saveAllData();
                }

                console.log('Data loaded from localStorage successfully');
            } catch (e) {
                console.error('Error loading from localStorage:', e);
                // Fallback to defaults
                projects = [...defaultProjects];
                packages = [...defaultPackages];
                risks = [...defaultRisks];
                selectedProject = 1;
            }
        }

        // Reset data to defaults
        function resetToDefaults() {
            if (confirm('Are you sure you want to reset all data to defaults? This cannot be undone.')) {
                projects = [...defaultProjects];
                packages = [...defaultPackages];
                risks = [...defaultRisks];
                weightFactors = JSON.parse(JSON.stringify(defaultWeightFactors));
                selectedProject = 1;
                saveAllData();
                populateSelects();
                renderAll();
                showNotification('Data has been reset to defaults', 'success');
            }
        }

        // Clear all data
        function clearAllData() {
            if (confirm('Are you sure you want to clear ALL data? This cannot be undone.')) {
                projects = [];
                packages = [];
                risks = [];
                saveAllData();
                populateSelects();
                renderAll();
                showNotification('All data has been cleared', 'success');
            }
        }

        // Clear cache and reload from defaults
        function clearCacheReload() {
            if (confirm('This will clear all cached data and reload from built-in defaults (' + defaultPackages.length + ' packages). Continue?')) {
                try {
                    // Clear all procurement-related localStorage
                    Object.values(STORAGE_KEYS).forEach(k => localStorage.removeItem(k));
                    localStorage.removeItem('procurement_data_version');
                    // Also clear any version keys
                    for (let i = 0; i < localStorage.length; i++) {
                        const key = localStorage.key(i);
                        if (key && key.startsWith('procurement_')) {
                            localStorage.removeItem(key);
                        }
                    }
                    showNotification('Cache cleared! Reloading...', 'success');
                    setTimeout(() => location.reload(), 500);
                } catch(e) {
                    console.error('Error clearing cache:', e);
                    location.reload();
                }
            }
        }

        // Show notification
        function showNotification(message, type = 'info') {
            // Create notification element if it doesn't exist
            let notif = document.getElementById('notification');
            if (!notif) {
                notif = document.createElement('div');
                notif.id = 'notification';
                notif.style.cssText = 'position:fixed;top:20px;right:20px;padding:12px 20px;border-radius:12px;font-size:14px;font-weight:500;z-index:9999;transition:all 0.3s ease;opacity:0;transform:translateX(100%);';
                document.body.appendChild(notif);
            }
            
            // Set colors based on type
            const colors = {
                success: { bg: 'rgba(16, 185, 129, 0.9)', color: '#fff' },
                error: { bg: 'rgba(239, 68, 68, 0.9)', color: '#fff' },
                info: { bg: 'rgba(6, 182, 212, 0.9)', color: '#fff' }
            };
            const style = colors[type] || colors.info;
            
            notif.style.background = style.bg;
            notif.style.color = style.color;
            notif.textContent = message;
            
            // Show
            setTimeout(() => {
                notif.style.opacity = '1';
                notif.style.transform = 'translateX(0)';
            }, 10);
            
            // Hide after 3 seconds
            setTimeout(() => {
                notif.style.opacity = '0';
                notif.style.transform = 'translateX(100%)';
            }, 3000);
        }

        document.addEventListener('DOMContentLoaded', () => { initApp(); });

        function initApp() { 
            loadAllData(); // Load data from localStorage first
            populateSelects(); 
            initCutoffDate(); // Initialize cut-off date to today
            renderAll(); 
            initCharts(); 
        }

        function populateSelects() {
            document.getElementById('projectSelect').innerHTML = projects.map(p => '<option value="'+p.id+'"'+(p.id===selectedProject?' selected':'')+'>'+p.name+'</option>').join('');
            document.getElementById('coo').innerHTML = '<option value="">Select</option>' + countries.map(c => '<option value="'+c+'">'+c+'</option>').join('');
            document.getElementById('incoterm').innerHTML = incoterms.map(i => '<option value="'+i.code+'">'+i.code+' - '+i.name+'</option>').join('');
            document.getElementById('milestonesFields').innerHTML = milestoneLabels.map(m => '<div class="milestone-row"><div class="milestone-label">'+m.label+'</div><div class="milestone-input"><label>Plan</label><input type="date" id="'+m.key+'Plan"></div><div class="milestone-input"><label>Actual</label><input type="date" id="'+m.key+'Actual"></div></div>').join('');
            document.getElementById('engRequired').addEventListener('change', function() { document.getElementById('engineeringFields').style.display = this.checked ? 'block' : 'none'; });
            // Ensure selectedProject is valid
            if(projects.length > 0 && !projects.find(p => p.id === selectedProject)) {
                selectedProject = projects[0].id;
                saveAllData();
            }
        }

        function calculateSCurve(start, end, current) {
            if (!start || !end) return 0;
            const s = new Date(start).getTime(), e = new Date(end).getTime(), c = current ? new Date(current).getTime() : Date.now();
            if (c <= s) return 0; if (c >= e) return 100;
            return Math.round(100 / (1 + Math.exp(-10 * ((c - s) / (e - s) - 0.5))) * 10) / 10;
        }

        function daysDiff(d1, d2) { if (!d1 || !d2) return null; return Math.ceil((new Date(d2) - new Date(d1)) / 86400000); }
        function getProjectPackages() { return packages.filter(p => p.projectId === selectedProject); }
        function getProjectRisks() { return risks.filter(r => r.projectId === selectedProject); }
        function getStats() {
            const pkgs = getProjectPackages(), total = pkgs.length, poIssued = pkgs.filter(p => p.milestones.issuePO.actual).length;
            const criticalCount = pkgs.filter(p => !p.milestones.issuePO.actual || p.manufacture.actualProgress < calculateSCurve(p.manufacture.planStart, p.manufacture.planFinish) - 10).length;
            const avgProgress = total > 0 ? Math.round(pkgs.reduce((a, p) => a + p.manufacture.actualProgress, 0) / total) : 0;
            return { total, poIssued, criticalCount, avgProgress };
        }

        function renderAll() { renderStats(); renderPackagesTable(); renderPackagesCards(); renderProjectsCards(); renderCriticalItems(); renderRisks(); if (charts.discipline) updateCharts(); }

        function renderStats() {
            const s = getStats();
            document.getElementById('statsGrid').innerHTML = '<div class="stat-card"><div class="stat-card-content"><div><p class="stat-label">Total Packages</p><p class="stat-value">'+s.total+'</p></div><div class="stat-icon blue"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" /></svg></div></div></div><div class="stat-card"><div class="stat-card-content"><div><p class="stat-label">PO Issued</p><p class="stat-value">'+s.poIssued+'</p></div><div class="stat-icon emerald"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg></div></div></div><div class="stat-card"><div class="stat-card-content"><div><p class="stat-label">Critical Items</p><p class="stat-value">'+s.criticalCount+'</p></div><div class="stat-icon red"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg></div></div></div><div class="stat-card"><div class="stat-card-content"><div><p class="stat-label">Avg Progress</p><p class="stat-value">'+s.avgProgress+'%</p></div><div class="stat-icon teal"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" /></svg></div></div></div>';
        }

        // ===== PACKAGE SORT HELPER =====
        function applyPackageSort(arr, sortBy) {
            const sorted = [...arr];
            switch(sortBy) {
                case 'discipline':
                    sorted.sort((a, b) => {
                        const discOrder = ['Mechanical','Piping','Electrical','Instrument','Civil','Process'];
                        const ai = discOrder.indexOf(a.discipline), bi = discOrder.indexOf(b.discipline);
                        const dc = (ai===-1?99:ai)-(bi===-1?99:bi);
                        if (dc !== 0) return dc;
                        return (a.packageName||'').localeCompare(b.packageName||'');
                    }); break;
                case 'vendor':
                    sorted.sort((a,b) => (a.vendorName||'').localeCompare(b.vendorName||'')); break;
                case 'po_date':
                    sorted.sort((a,b) => {
                        const da = a.milestones?.issuePO?.actual||a.milestones?.issuePO?.plan||'9999';
                        const db = b.milestones?.issuePO?.actual||b.milestones?.issuePO?.plan||'9999';
                        return da.localeCompare(db);
                    }); break;
                case 'po_no':
                    sorted.sort((a,b) => {
                        const na=a.contractNo||a.rfqNo||'', nb=b.contractNo||b.rfqNo||'';
                        const numA=parseInt((na.match(/\d+/)||[0])[0]), numB=parseInt((nb.match(/\d+/)||[0])[0]);
                        if (!isNaN(numA)&&!isNaN(numB)&&numA!==numB) return numA-numB;
                        return na.localeCompare(nb);
                    }); break;
                case 'mfg_progress_asc':
                    sorted.sort((a,b)=>(a.manufacture?.actualProgress||0)-(b.manufacture?.actualProgress||0)); break;
                case 'mfg_progress_desc':
                    sorted.sort((a,b)=>(b.manufacture?.actualProgress||0)-(a.manufacture?.actualProgress||0)); break;
                default: sorted.sort((a,b)=>a.id-b.id); break;
            }
            return sorted;
        }

        function renderPackagesTable() {
            const search = document.getElementById('searchInput').value.toLowerCase(), disc = document.getElementById('disciplineFilter').value, poSt = document.getElementById('poStatusFilter').value;
            const sortBy = document.getElementById('pkgSortBy')?.value || 'input';
            let filtered = getProjectPackages().filter(p => {
                if (search && !p.packageName.toLowerCase().includes(search) && !p.vendorName.toLowerCase().includes(search)) return false;
                if (disc && p.discipline !== disc) return false;
                if (poSt === 'issued' && !p.milestones.issuePO.actual) return false;
                if (poSt === 'pending' && p.milestones.issuePO.actual) return false;
                return true;
            });
            filtered = applyPackageSort(filtered, sortBy);
            document.getElementById('packagesTableBody').innerHTML = filtered.map((p, idx) => {
                const plan = calculateSCurve(p.manufacture.planStart, p.manufacture.planFinish), v = p.manufacture.actualProgress - plan, color = v >= 0 ? 'green' : v > -10 ? 'yellow' : 'red';
                return '<tr><td><div style="font-weight:500;color:white;">'+p.packageName+'</div><div style="font-size:0.875rem;color:#94a3b8;">'+p.rfqNo+'</div></td><td><span class="badge badge-default">'+p.discipline+'</span></td><td style="color:#cbd5e1;">'+(p.vendorName||'-')+'</td><td style="color:#cbd5e1;">'+(p.coo||'-')+'</td><td>'+(p.milestones.issuePO.actual?'<span class="badge badge-success">Issued</span>':'<span class="badge badge-warning">Pending</span>')+'</td><td style="min-width:140px;"><div class="progress-bar"><div class="progress-track"><div class="progress-plan" style="width:'+plan+'%"></div><div class="progress-fill '+color+'" style="width:'+p.manufacture.actualProgress+'%"></div></div><div class="progress-labels"><span>'+p.manufacture.actualProgress+'%</span><span>Plan: '+Math.round(plan)+'%</span></div></div></td><td><div class="action-buttons"><button class="btn-view" onclick="viewPackage('+p.id+')"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" /></svg>View</button><button class="btn-icon" onclick="editPackage('+p.id+')"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg></button><button class="btn-icon" onclick="deletePackage('+p.id+')" style="color:#f87171;"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg></button></div></td></tr>';
            }).join('');
        }

        function renderPackagesCards() {
            const searchEl = document.getElementById('pkgCardsSearch');
            const search = searchEl ? searchEl.value.toLowerCase() : '';
            const cardDisc = document.getElementById('pkgCardsDiscipline')?.value || '';
            const sortBy = document.getElementById('pkgCardsSortBy')?.value || 'input';
            let pkgs = getProjectPackages();
            if (search) {
                pkgs = pkgs.filter(p => 
                    p.packageName.toLowerCase().includes(search) || 
                    (p.contractNo || '').toLowerCase().includes(search) || 
                    (p.vendorName || '').toLowerCase().includes(search) || 
                    (p.coo || '').toLowerCase().includes(search) ||
                    (p.rfqNo || '').toLowerCase().includes(search) ||
                    (p.discipline || '').toLowerCase().includes(search)
                );
            }
            if (cardDisc) pkgs = pkgs.filter(p => p.discipline === cardDisc);
            pkgs = applyPackageSort(pkgs, sortBy);
            const sortLabels = {input:'Input Order',discipline:'Discipline',vendor:'Vendor',po_date:'PO Date',po_no:'PO Number',mfg_progress_asc:'Progress ',mfg_progress_desc:'Progress '};
            const countBar = '<div style="padding:0.5rem 0 0.75rem;font-size:0.8rem;color:#94a3b8;display:flex;align-items:center;gap:0.5rem;">' +
                '<span style="color:#e2e8f0;font-weight:600;">'+pkgs.length+' package'+(pkgs.length!==1?'s':'')+' shown</span>' +
                '<span style="color:#334155;"></span>' +
                '<span>Sorted by: <span style="color:#14b8a6;font-weight:500;">'+(sortLabels[sortBy]||sortBy)+'</span></span>' +
                (cardDisc ? '<span style="color:#334155;"></span><span>Discipline: <span style="color:#60a5fa;font-weight:500;">'+cardDisc+'</span></span>' : '') +
                '</div>';
            document.getElementById('packagesCards').innerHTML = countBar + pkgs.map((p, idx) => {
                const plan = calculateSCurve(p.manufacture.planStart, p.manufacture.planFinish);
                
                // Check missing plan dates
                const missing = [];
                const ms = p.milestones || {};
                const eng = p.engineering || {};
                const mf = p.manufacture || {};
                const dl = p.delivery || {};
                if (!ms.issueRFQ?.plan) missing.push('RFQ');
                if (!ms.receiveQuotation?.plan) missing.push('Quotation');
                if (!ms.issueTBE?.plan) missing.push('TBE');
                if (!ms.issueCBE?.plan) missing.push('CBE');
                if (!ms.finalNegotiation?.plan) missing.push('Negotiation');
                if (!ms.issuePO?.plan) missing.push('PO');
                if (!ms.kom?.plan) missing.push('KOM');
                if (eng.required && !eng.planStart) missing.push('Eng');
                if (!mf.planStart) missing.push('Mfg');
                if (!mf.planFAT) missing.push('FAT');
                if (!dl.planDelivery100) missing.push('Delivery');
                if (!dl.planMaterialAtSite100) missing.push('On Site');
                const missingHtml = missing.length > 0 
                    ? '<div style="margin-top:0.5rem;padding:0.4rem 0.6rem;background:rgba(245,158,11,0.06);border:1px solid rgba(245,158,11,0.2);border-radius:8px;">' +
                      '<div style="display:flex;align-items:center;gap:4px;margin-bottom:4px;"><span style="font-size:0.7rem;color:#f59e0b;"></span><span style="font-size:0.68rem;color:#f59e0b;font-weight:600;">Missing Plan Dates ('+missing.length+')</span></div>' +
                      '<div style="display:flex;flex-wrap:wrap;gap:3px;">' + missing.map(m => '<span style="font-size:0.62rem;background:rgba(245,158,11,0.1);color:#f59e0b;padding:1px 5px;border-radius:3px;border:1px solid rgba(245,158,11,0.2);">'+m+'</span>').join('') + '</div></div>'
                    : '';
                
                return '<div class="package-card"><div class="package-header"><div><div class="package-tags"><span class="package-tag '+(p.initiation==='HO'?'ho':'site')+'">'+p.initiation+'</span><span class="package-tag default">'+p.discipline+'</span><span class="package-tag default">'+p.area+'</span></div><h3 class="package-title">'+p.packageName+'</h3><p class="package-desc">'+p.description+'</p></div><div class="action-buttons"><button class="btn-view" onclick="viewPackage('+p.id+')" style="padding:0.5rem 1rem;"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" /></svg>View</button><button class="btn btn-secondary" onclick="editPackage('+p.id+')">Edit</button></div></div><div class="package-meta"><div class="meta-item"><label>RFQ No</label><span>'+p.rfqNo+'</span></div><div class="meta-item"><label>Contract</label><span>'+(p.contractNo||'-')+'</span></div><div class="meta-item"><label>Vendor</label><span>'+(p.vendorName||'-')+'</span></div><div class="meta-item"><label>COO</label><span>'+(p.coo||'-')+'</span></div></div><div class="package-milestones"><p class="milestones-title">Milestones</p><div class="milestones-list">'+milestoneLabels.map(m=>'<div class="milestone-badge '+(p.milestones[m.key].actual?'completed':'pending')+'">'+(p.milestones[m.key].actual?'':'')+' '+m.label.split(' ')[0]+'</div>').join('')+'</div></div>'+missingHtml+'<div class="package-progress"><div class="progress-section"><h4>Manufacture <span>'+p.manufacture.actualProgress+'%</span></h4><div class="progress-bar"><div class="progress-track"><div class="progress-plan" style="width:'+plan+'%"></div><div class="progress-fill '+(p.manufacture.actualProgress>=plan?'green':'yellow')+'" style="width:'+p.manufacture.actualProgress+'%"></div></div></div></div></div></div>';
            }).join('');
        }

        function renderProjectsCards() {
            document.getElementById('projectsCards').innerHTML = projects.map(proj => {
                const pkgCount = packages.filter(p => p.projectId === proj.id).length, dur = daysDiff(proj.startDate, proj.finishDate);
                return '<div class="project-card"><div class="project-card-body"><div class="project-header"><div class="project-info"><div class="project-icon"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" /></svg></div><div><h3 class="project-name">'+proj.name+'</h3><p class="project-type">'+proj.contractType+'</p></div></div><div class="action-buttons"><button class="btn btn-primary" onclick="editProject('+proj.id+')">Edit</button><button class="btn btn-secondary" onclick="deleteProject('+proj.id+')" style="margin-left:0.5rem;color:#f87171;">Delete</button></div></div><div class="project-details"><div class="project-detail"><label>Owner</label><span>'+proj.owner+'</span></div><div class="project-detail"><label>Contractor</label><span>'+proj.contractor+'</span></div><div class="project-detail"><label>Technology</label><span>'+proj.technologyProvider+'</span></div><div class="project-detail"><label>Contract Value</label><span>$'+(proj.contractPrice/1000000).toFixed(1)+'M</span></div></div><div class="project-metrics"><div class="metric-card"><div class="metric-card-header">Schedule</div><div class="metric-card-value">'+proj.startDate+' - '+proj.finishDate+'</div><div class="metric-card-sub">'+dur+' days</div></div><div class="metric-card"><div class="metric-card-header">LD Delay</div><div class="metric-card-value">$'+proj.ldDelay.toLocaleString()+'/day</div></div><div class="metric-card"><div class="metric-card-header">Power</div><div class="metric-card-value">'+proj.guaranteePower+' MW</div></div><div class="metric-card"><div class="metric-card-header">Packages</div><div class="metric-card-value">'+pkgCount+'</div></div></div>'+(proj.scopeByOwner?'<div class="project-scope"><label>Scope by Owner</label><p>'+proj.scopeByOwner+'</p></div>':'')+'</div></div>';
            }).join('');
        }

        function renderCriticalItems() {
            const today = new Date().toISOString().split('T')[0];
            const items = getProjectPackages().map(p => {
                const issues = [], plan = calculateSCurve(p.manufacture.planStart, p.manufacture.planFinish);
                const d = p.delivery || {}, m = p.manufacture || {};
                let severity = 0; // higher = more critical
                
                // Delivery delay
                if (d.planDelivery100 && d.planDelivery100 < today && !d.actualDelivery100) {
                    const days = Math.ceil((new Date() - new Date(d.planDelivery100)) / 86400000);
                    issues.push({type:'critical', msg:'Delivery delayed ' + days + 'd'});
                    severity += days + 100;
                }
                // Material on site delay
                if (d.planMaterialAtSite100 && d.planMaterialAtSite100 < today && !d.actualMaterialAtSite100) {
                    const days = Math.ceil((new Date() - new Date(d.planMaterialAtSite100)) / 86400000);
                    issues.push({type:'critical', msg:'On Site delayed ' + days + 'd'});
                    severity += days + 100;
                }
                // FAT delay
                if (m.planFAT && m.planFAT < today && !m.actualFAT) {
                    const days = Math.ceil((new Date() - new Date(m.planFAT)) / 86400000);
                    issues.push({type:'critical', msg:'FAT delayed ' + days + 'd'});
                    severity += days + 50;
                }
                // PO not issued
                if (!p.milestones.issuePO.actual) { issues.push({type:'warning', msg:'PO not issued'}); severity += 30; }
                // Behind schedule
                if (p.manufacture.actualProgress < plan - 10) {
                    const gap = Math.round(plan - p.manufacture.actualProgress);
                    issues.push({type:'warning', msg:'Behind schedule -' + gap + '%'});
                    severity += gap;
                }
                return issues.length > 0 ? {...p, issues, severity} : null;
            }).filter(Boolean);
            
            // Sort by severity (most critical first)
            items.sort((a, b) => b.severity - a.severity);
            
            const section = document.getElementById('criticalSection');
            if (items.length === 0) { section.style.display = 'none'; return; }
            section.style.display = 'block';
            
            const itemsHTML = items.map((item, idx) => {
                const rank = idx + 1;
                const badgeColor = rank <= 3 ? '#ef4444' : rank <= 5 ? '#f59e0b' : '#64748b';
                const tooltipLines = item.issues.map(is => is.msg).join(' | ');
                return '<div class="critical-item" title="' + tooltipLines + '" style="display:flex;gap:0.75rem;align-items:flex-start;">' +
                    '<div style="flex-shrink:0;width:28px;height:28px;border-radius:50%;background:' + badgeColor + ';color:white;display:flex;align-items:center;justify-content:center;font-size:0.75rem;font-weight:700;margin-top:2px;">' + rank + '</div>' +
                    '<div style="flex:1;min-width:0;">' +
                        '<div class="critical-item-header" style="margin-bottom:0.4rem;"><div><h4 style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">' + item.packageName + '</h4><p>' + (item.vendorName || 'Vendor TBD') + '  ' + item.discipline + '</p></div></div>' +
                        '<div class="critical-tags">' + item.issues.map(is => '<span class="tag tag-' + is.type + '">' + is.msg + '</span>').join('') + '</div>' +
                    '</div>' +
                '</div>';
            }).join('');
            
            section.innerHTML = '<div class="card-header" style="display:flex;align-items:center;justify-content:space-between;">' +
                '<h3 class="card-title" style="color:#f87171;"> Critical Items</h3>' +
                '<span style="font-size:0.8rem;color:#64748b;">' + items.length + ' items  sorted by severity</span>' +
                '</div>' +
                '<div class="card-body" style="max-height:380px;overflow-y:auto;scroll-behavior:smooth;padding-right:0.5rem;">' +
                itemsHTML +
                '</div>';
        }

        function renderRisks() {
            const allRisks = getProjectRisks();
            const r = allRisks;
            const crit = r.filter(x=>x.riskLevel==='Critical').length;
            const med = r.filter(x=>x.riskLevel==='Medium').length;
            const low = r.filter(x=>x.riskLevel==='Low').length;
            const open = r.filter(x=>x.status==='Open').length;
            const autoCount = r.filter(x=>x.isAutoGenerated).length;
            const manualCount = r.filter(x=>!x.isAutoGenerated).length;
            
            document.getElementById('riskStats').innerHTML = '<div class="risk-stat critical"><div class="risk-stat-content"><div class="risk-stat-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg></div><div><p class="risk-stat-label">Critical</p><p class="risk-stat-value">'+crit+'</p></div></div></div><div class="risk-stat medium"><div class="risk-stat-content"><div class="risk-stat-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg></div><div><p class="risk-stat-label">Medium</p><p class="risk-stat-value">'+med+'</p></div></div></div><div class="risk-stat low"><div class="risk-stat-content"><div class="risk-stat-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg></div><div><p class="risk-stat-label">Low</p><p class="risk-stat-value">'+low+'</p></div></div></div><div class="risk-stat open"><div class="risk-stat-content"><div class="risk-stat-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" /></svg></div><div><p class="risk-stat-label">Open</p><p class="risk-stat-value">'+open+'</p></div></div></div>';
            
            const hm = {};['High','Medium','Low'].forEach(p=>['Low','Medium','High'].forEach(i=>{hm[p+'-'+i]=r.filter(x=>x.probability===p&&x.impact===i).length;}));
            document.getElementById('riskHeatMap').innerHTML = '<div></div><div class="heat-map-header">Low</div><div class="heat-map-header">Med</div><div class="heat-map-header">High</div><div class="heat-map-label">High</div><div class="heat-map-cell med-risk">'+hm['High-Low']+'</div><div class="heat-map-cell high-risk">'+hm['High-Medium']+'</div><div class="heat-map-cell high-risk">'+hm['High-High']+'</div><div class="heat-map-label">Med</div><div class="heat-map-cell low-risk">'+hm['Medium-Low']+'</div><div class="heat-map-cell med-risk">'+hm['Medium-Medium']+'</div><div class="heat-map-cell high-risk">'+hm['Medium-High']+'</div><div class="heat-map-label">Low</div><div class="heat-map-cell low-risk">'+hm['Low-Low']+'</div><div class="heat-map-cell low-risk">'+hm['Low-Medium']+'</div><div class="heat-map-cell med-risk">'+hm['Low-High']+'</div>';
            
            // Apply filters
            const filterCategory = document.getElementById('riskFilterCategory')?.value || '';
            const filterType = document.getElementById('riskFilterType')?.value || '';
            const filterLevel = document.getElementById('riskFilterLevel')?.value || '';
            const filterStatus = document.getElementById('riskFilterStatus')?.value || '';
            
            let filteredRisks = r;
            if (filterCategory) filteredRisks = filteredRisks.filter(x => x.category === filterCategory);
            if (filterType === 'auto') filteredRisks = filteredRisks.filter(x => x.isAutoGenerated);
            if (filterType === 'manual') filteredRisks = filteredRisks.filter(x => !x.isAutoGenerated);
            if (filterLevel) filteredRisks = filteredRisks.filter(x => x.riskLevel === filterLevel);
            if (filterStatus) filteredRisks = filteredRisks.filter(x => x.status === filterStatus);
            
            document.getElementById('riskTableBody').innerHTML = filteredRisks.map(x => {
                const pkg = packages.find(p => p.id === x.packageId);
                const sourceLabel = x.isAutoGenerated ? 
                    '<span class="badge" style="background:rgba(139,92,246,0.2);color:#a78bfa;border-color:rgba(139,92,246,0.3);">Auto</span>' : 
                    '<span class="badge" style="background:rgba(100,116,139,0.2);color:#94a3b8;border-color:rgba(100,116,139,0.3);">Manual</span>';
                return '<tr><td style="color:white;font-weight:500;">'+(pkg?.packageName||'Project Level')+'</td><td><span class="badge badge-default">'+x.category+'</span></td><td style="max-width:200px;color:#cbd5e1;font-size:0.875rem;">'+x.riskDescription.substring(0, 80)+(x.riskDescription.length > 80 ? '...' : '')+'</td><td><span class="badge badge-'+(x.riskLevel==='Critical'?'danger':x.riskLevel==='Medium'?'warning':'success')+'">'+x.riskLevel+'</span></td><td><span class="badge badge-'+(x.status==='Open'?'info':x.status==='Monitoring'?'warning':'success')+'">'+x.status+'</span></td><td>'+sourceLabel+'</td><td><div class="action-buttons"><button class="btn-view" onclick="viewRisk('+x.id+')" title="View Details"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" /></svg></button><button class="btn-icon" onclick="editRisk('+x.id+')" title="Edit"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg></button><button class="btn-icon" onclick="deleteRisk('+x.id+')" style="color:#f87171;" title="Delete"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg></button></div></td></tr>';
            }).join('');
            
            document.getElementById('riskPackageId').innerHTML = '<option value="">Select (or leave empty for Project Level)</option>' + getProjectPackages().map(p=>'<option value="'+p.id+'">'+p.packageName+'</option>').join('');
            
            // Update risk grouping
            updateRiskGrouping();
        }
        
        function filterRisks() {
            renderRisks();
        }
        
        // ===== RISK GROUPING FUNCTIONS =====
        
        function updateRiskGrouping() {
            const allRisks = getProjectRisks();
            const groupBy = document.getElementById('riskGroupBy')?.value || 'category';
            const groupingContent = document.getElementById('riskGroupingContent');
            
            if (!groupingContent || allRisks.length === 0) {
                if (groupingContent) {
                    groupingContent.innerHTML = '<div style="text-align:center;padding:2rem;color:#64748b;">No risks found. Click "Auto-Generate Risks" or "Add Manual Risk" to get started.</div>';
                }
                return;
            }
            
            // Group risks based on selected criteria
            const groups = {};
            allRisks.forEach(risk => {
                let key;
                switch (groupBy) {
                    case 'category':
                        key = risk.category;
                        break;
                    case 'level':
                        key = risk.riskLevel;
                        break;
                    case 'package':
                        const pkg = packages.find(p => p.id === risk.packageId);
                        key = pkg ? pkg.packageName : 'Project Level';
                        break;
                    case 'status':
                        key = risk.status;
                        break;
                    case 'source':
                        key = risk.isAutoGenerated ? 'Auto-Generated' : 'Manual Entry';
                        break;
                    default:
                        key = risk.category;
                }
                if (!groups[key]) groups[key] = [];
                groups[key].push(risk);
            });
            
            // Sort groups
            const sortedKeys = Object.keys(groups).sort((a, b) => {
                if (groupBy === 'level') {
                    const order = { 'Critical': 0, 'Medium': 1, 'Low': 2 };
                    return (order[a] || 99) - (order[b] || 99);
                }
                return a.localeCompare(b);
            });
            
            let html = '<div class="risk-group-grid">';
            
            sortedKeys.forEach(key => {
                const groupRisks = groups[key];
                const critCount = groupRisks.filter(r => r.riskLevel === 'Critical').length;
                const medCount = groupRisks.filter(r => r.riskLevel === 'Medium').length;
                const lowCount = groupRisks.filter(r => r.riskLevel === 'Low').length;
                const autoCount = groupRisks.filter(r => r.isAutoGenerated).length;
                const manualCount = groupRisks.filter(r => !r.isAutoGenerated).length;
                
                const groupConfig = getGroupConfig(groupBy, key);
                
                html += `
                <div class="risk-group-card">
                    <div class="risk-group-header" onclick="viewRiskGroup('${groupBy}', '${key.replace(/'/g, "\\'")}')">
                        <div class="risk-group-title">
                            <div class="risk-group-icon" style="background:${groupConfig.bgColor};">
                                ${groupConfig.icon}
                            </div>
                            <div>
                                <h4>${key}</h4>
                                <div style="font-size:0.75rem;color:#64748b;">${groupRisks.length} risk${groupRisks.length !== 1 ? 's' : ''}  ${autoCount} auto, ${manualCount} manual</div>
                            </div>
                        </div>
                        <div class="risk-group-badges">
                            ${critCount > 0 ? '<span class="risk-group-count" style="background:rgba(239,68,68,0.2);color:#f87171;">'+critCount+' Critical</span>' : ''}
                            ${medCount > 0 ? '<span class="risk-group-count" style="background:rgba(245,158,11,0.2);color:#fbbf24;">'+medCount+' Medium</span>' : ''}
                            ${lowCount > 0 ? '<span class="risk-group-count" style="background:rgba(16,185,129,0.2);color:#34d399;">'+lowCount+' Low</span>' : ''}
                        </div>
                    </div>
                    <div class="risk-group-body">
                        ${groupRisks.slice(0, 3).map(risk => {
                            const pkg = packages.find(p => p.id === risk.packageId);
                            const levelClass = risk.riskLevel.toLowerCase();
                            return `
                            <div class="risk-group-item ${levelClass}" onclick="viewRisk(${risk.id})">
                                <div class="risk-group-item-header">
                                    <div class="risk-group-item-title">${risk.riskDescription.substring(0, 70)}${risk.riskDescription.length > 70 ? '...' : ''}</div>
                                </div>
                                <div class="risk-group-item-meta">
                                    <span>${pkg?.packageName || 'Project Level'}</span>
                                    <span></span>
                                    <span>${risk.status}</span>
                                    <span></span>
                                    <span style="color:${risk.isAutoGenerated ? '#a78bfa' : '#94a3b8'}">${risk.isAutoGenerated ? 'Auto' : 'Manual'}</span>
                                </div>
                            </div>`;
                        }).join('')}
                        ${groupRisks.length > 3 ? `
                        <div class="risk-group-more" onclick="viewRiskGroup('${groupBy}', '${key.replace(/'/g, "\\'")}')">
                            View all ${groupRisks.length} risks 
                        </div>` : ''}
                    </div>
                </div>`;
            });
            
            html += '</div>';
            groupingContent.innerHTML = html;
        }
        
        function getGroupConfig(groupBy, key) {
            const configs = {
                category: {
                    'Schedule': { bgColor: 'rgba(59,130,246,0.2)', icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#60a5fa"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>' },
                    'Technical': { bgColor: 'rgba(139,92,246,0.2)', icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#a78bfa"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" /></svg>' },
                    'Commercial': { bgColor: 'rgba(236,72,153,0.2)', icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#f472b6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>' },
                    'Logistics': { bgColor: 'rgba(245,158,11,0.2)', icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#fbbf24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" /></svg>' },
                    'HSE': { bgColor: 'rgba(16,185,129,0.2)', icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#34d399"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg>' }
                },
                level: {
                    'Critical': { bgColor: 'rgba(239,68,68,0.2)', icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#f87171"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>' },
                    'Medium': { bgColor: 'rgba(245,158,11,0.2)', icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#fbbf24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>' },
                    'Low': { bgColor: 'rgba(16,185,129,0.2)', icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#34d399"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>' }
                },
                status: {
                    'Open': { bgColor: 'rgba(6,182,212,0.2)', icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#22d3ee"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>' },
                    'Monitoring': { bgColor: 'rgba(245,158,11,0.2)', icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#fbbf24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" /></svg>' },
                    'Closed': { bgColor: 'rgba(16,185,129,0.2)', icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#34d399"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>' }
                },
                source: {
                    'Auto-Generated': { bgColor: 'rgba(139,92,246,0.2)', icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#a78bfa"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>' },
                    'Manual Entry': { bgColor: 'rgba(100,116,139,0.2)', icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#94a3b8"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>' }
                }
            };
            
            const defaultConfig = { bgColor: 'rgba(100,116,139,0.2)', icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#94a3b8"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" /></svg>' };
            
            return configs[groupBy]?.[key] || defaultConfig;
        }
        
        // ===== RISK VIEW FUNCTIONS =====
        
        let currentViewRiskId = null;
        
        function viewRisk(riskId) {
            const risk = risks.find(r => r.id === riskId);
            if (!risk) return;
            
            currentViewRiskId = riskId;
            const pkg = packages.find(p => p.id === risk.packageId);
            const levelColor = risk.riskLevel === 'Critical' ? '#f87171' : risk.riskLevel === 'Medium' ? '#fbbf24' : '#34d399';
            const levelClass = risk.riskLevel.toLowerCase();
            
            const html = `
            <div class="risk-view-header">
                <div class="risk-view-level ${levelClass}">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="${levelColor}">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                    </svg>
                </div>
                <div class="risk-view-info">
                    <h3>${risk.riskLevel} Risk</h3>
                    <div class="risk-view-tags">
                        <span class="badge badge-default">${risk.category}</span>
                        <span class="badge badge-${risk.status === 'Open' ? 'info' : risk.status === 'Monitoring' ? 'warning' : 'success'}">${risk.status}</span>
                        ${risk.isAutoGenerated ? 
                            '<span class="badge" style="background:rgba(139,92,246,0.2);color:#a78bfa;border-color:rgba(139,92,246,0.3);">Auto-Generated</span>' : 
                            '<span class="badge" style="background:rgba(100,116,139,0.2);color:#94a3b8;border-color:rgba(100,116,139,0.3);">Manual Entry</span>'}
                    </div>
                </div>
            </div>
            
            <div class="risk-view-section">
                <div class="risk-view-section-title">Risk Description</div>
                <div class="risk-view-section-content">${risk.riskDescription}</div>
            </div>
            
            <div class="risk-view-section">
                <div class="risk-view-section-title">Mitigation Plan</div>
                <div class="risk-view-section-content">${risk.mitigation || 'No mitigation plan defined'}</div>
            </div>
            
            <div class="risk-view-grid">
                <div class="risk-view-item">
                    <label>Package</label>
                    <span>${pkg?.packageName || 'Project Level'}</span>
                </div>
                <div class="risk-view-item">
                    <label>Risk Owner</label>
                    <span>${risk.owner || 'Not assigned'}</span>
                </div>
                <div class="risk-view-item">
                    <label>Probability</label>
                    <span>${risk.probability}</span>
                </div>
                <div class="risk-view-item">
                    <label>Impact</label>
                    <span>${risk.impact}</span>
                </div>
                <div class="risk-view-item">
                    <label>Due Date</label>
                    <span>${risk.dueDate ? new Date(risk.dueDate).toLocaleDateString('id-ID') : 'Not set'}</span>
                </div>
                <div class="risk-view-item">
                    <label>Created</label>
                    <span>${risk.generatedDate ? new Date(risk.generatedDate).toLocaleDateString('id-ID') : 'N/A'}</span>
                </div>
            </div>
            
            ${risk.lastModified ? `
            <div style="margin-top:1rem;padding:0.75rem;background:rgba(59,130,246,0.1);border-radius:8px;border:1px solid rgba(59,130,246,0.2);font-size:0.8rem;color:#93c5fd;">
                <strong>Last Modified:</strong> ${new Date(risk.lastModified).toLocaleString('id-ID')}
            </div>` : ''}
            `;
            
            document.getElementById('riskViewTitle').textContent = 'Risk Details - ' + risk.category;
            document.getElementById('riskViewContent').innerHTML = html;
            document.getElementById('riskViewModal').classList.add('active');
        }
        
        function closeRiskViewModal() {
            document.getElementById('riskViewModal').classList.remove('active');
            currentViewRiskId = null;
        }
        
        function editRiskFromView() {
            if (currentViewRiskId) {
                closeRiskViewModal();
                editRisk(currentViewRiskId);
            }
        }
        
        function viewRiskGroup(groupBy, key) {
            const allRisks = getProjectRisks();
            let groupRisks = [];
            
            switch (groupBy) {
                case 'category':
                    groupRisks = allRisks.filter(r => r.category === key);
                    break;
                case 'level':
                    groupRisks = allRisks.filter(r => r.riskLevel === key);
                    break;
                case 'package':
                    if (key === 'Project Level') {
                        groupRisks = allRisks.filter(r => !r.packageId);
                    } else {
                        const pkg = packages.find(p => p.packageName === key);
                        groupRisks = allRisks.filter(r => r.packageId === pkg?.id);
                    }
                    break;
                case 'status':
                    groupRisks = allRisks.filter(r => r.status === key);
                    break;
                case 'source':
                    groupRisks = allRisks.filter(r => key === 'Auto-Generated' ? r.isAutoGenerated : !r.isAutoGenerated);
                    break;
            }
            
            const autoCount = groupRisks.filter(r => r.isAutoGenerated).length;
            const manualCount = groupRisks.filter(r => !r.isAutoGenerated).length;
            
            let html = `
            <div style="margin-bottom:1rem;padding:1rem;background:rgba(15,23,42,0.5);border-radius:12px;border:1px solid #334155;">
                <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;">
                    <div>
                        <div style="font-size:0.75rem;color:#64748b;text-transform:uppercase;">Total Risks</div>
                        <div style="font-size:1.5rem;font-weight:700;color:white;">${groupRisks.length}</div>
                    </div>
                    <div style="display:flex;gap:1rem;">
                        <div style="text-align:center;">
                            <div style="font-size:0.7rem;color:#a78bfa;">Auto</div>
                            <div style="font-size:1.25rem;font-weight:600;color:#a78bfa;">${autoCount}</div>
                        </div>
                        <div style="text-align:center;">
                            <div style="font-size:0.7rem;color:#94a3b8;">Manual</div>
                            <div style="font-size:1.25rem;font-weight:600;color:#94a3b8;">${manualCount}</div>
                        </div>
                    </div>
                </div>
            </div>
            <div style="display:flex;flex-direction:column;gap:0.75rem;">
            `;
            
            groupRisks.forEach(risk => {
                const pkg = packages.find(p => p.id === risk.packageId);
                const levelColor = risk.riskLevel === 'Critical' ? '#f87171' : risk.riskLevel === 'Medium' ? '#fbbf24' : '#34d399';
                
                html += `
                <div style="padding:1rem;background:rgba(15,23,42,0.8);border-radius:10px;border-left:4px solid ${levelColor};cursor:pointer;transition:all 0.2s;" onclick="closeRiskGroupViewModal();viewRisk(${risk.id});" onmouseover="this.style.background='rgba(51,65,85,0.5)'" onmouseout="this.style.background='rgba(15,23,42,0.8)'">
                    <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:0.5rem;">
                        <div style="color:white;font-weight:500;flex:1;">${risk.riskDescription}</div>
                        <span class="badge badge-${risk.riskLevel === 'Critical' ? 'danger' : risk.riskLevel === 'Medium' ? 'warning' : 'success'}" style="flex-shrink:0;margin-left:0.5rem;">${risk.riskLevel}</span>
                    </div>
                    <div style="display:flex;gap:1rem;flex-wrap:wrap;font-size:0.8rem;color:#94a3b8;">
                        <span>${pkg?.packageName || 'Project Level'}</span>
                        <span></span>
                        <span>${risk.category}</span>
                        <span></span>
                        <span>${risk.status}</span>
                        <span></span>
                        <span style="color:${risk.isAutoGenerated ? '#a78bfa' : '#64748b'};">${risk.isAutoGenerated ? 'Auto' : 'Manual'}</span>
                    </div>
                </div>`;
            });
            
            html += '</div>';
            
            document.getElementById('riskGroupViewTitle').textContent = key + ' Risks';
            document.getElementById('riskGroupViewContent').innerHTML = html;
            document.getElementById('riskGroupViewModal').classList.add('active');
        }
        
        function closeRiskGroupViewModal() {
            document.getElementById('riskGroupViewModal').classList.remove('active');
        }
        
        function updateAutoRiskSummary() {
            // This function is now replaced by updateRiskGrouping
            // Keeping for backward compatibility
        }
        
        function getCategoryIcon(category) {
            const icons = {
                'Schedule': '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="vertical-align:middle;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>',
                'Technical': '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="vertical-align:middle;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" /></svg>',
                'Commercial': '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="vertical-align:middle;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>',
                'Logistics': '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="vertical-align:middle;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" /></svg>',
                'HSE': '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="vertical-align:middle;"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg>'
            };
            return icons[category] || '';
        }

        // ===== AUTO-GENERATE RISKS FUNCTIONS =====
        
        function autoGenerateRisks() {
            const pkgs = getProjectPackages();
            if (pkgs.length === 0) {
                showNotification('No packages found. Please add packages first.', 'warning');
                return;
            }
            
            // Remove existing auto-generated risks for this project
            risks = risks.filter(r => r.projectId !== selectedProject || !r.isAutoGenerated);
            
            const today = new Date();
            const generatedRisks = [];
            
            pkgs.forEach(pkg => {
                const pkgRisks = analyzePackageRisks(pkg, today);
                generatedRisks.push(...pkgRisks);
            });
            
            // Add project-level risks
            const projectRisks = analyzeProjectLevelRisks(pkgs, today);
            generatedRisks.push(...projectRisks);
            
            // Add generated risks to the risks array
            risks.push(...generatedRisks);
            
            saveAllData();
            renderRisks();
            if (charts.riskPie) updateCharts();
            
            // Update last generated time
            const timeEl = document.getElementById('lastGeneratedTime');
            if (timeEl) {
                timeEl.textContent = 'Generated: ' + today.toLocaleString('id-ID');
            }
            
            showNotification(`Auto-generated ${generatedRisks.length} risks from ${pkgs.length} packages`, 'success');
        }
        
        function analyzePackageRisks(pkg, today) {
            const generatedRisks = [];
            const planMfg = calculateSCurve(pkg.manufacture.planStart, pkg.manufacture.planFinish);
            
            // 1. SCHEDULE RISKS
            
            // Check if PO not issued yet
            if (!pkg.milestones.issuePO.actual) {
                const poPlannedDate = pkg.milestones.issuePO.plan ? new Date(pkg.milestones.issuePO.plan) : null;
                const isOverdue = poPlannedDate && today > poPlannedDate;
                generatedRisks.push({
                    id: Date.now() + Math.random(),
                    projectId: selectedProject,
                    packageId: pkg.id,
                    category: 'Schedule',
                    riskDescription: `PO not yet issued for ${pkg.packageName}${isOverdue ? ' - OVERDUE' : ''}`,
                    probability: isOverdue ? 'High' : 'Medium',
                    impact: 'High',
                    riskLevel: isOverdue ? 'Critical' : 'Medium',
                    status: 'Open',
                    mitigation: 'Expedite procurement process, escalate to management if needed',
                    owner: 'Procurement Manager',
                    dueDate: pkg.milestones.issuePO.plan || '',
                    isAutoGenerated: true,
                    generatedDate: today.toISOString()
                });
            }
            
            // Check manufacture delay
            if (pkg.manufacture.actualProgress < planMfg - 10 && pkg.milestones.issuePO.actual) {
                const delay = Math.round(planMfg - pkg.manufacture.actualProgress);
                generatedRisks.push({
                    id: Date.now() + Math.random(),
                    projectId: selectedProject,
                    packageId: pkg.id,
                    category: 'Schedule',
                    riskDescription: `Manufacturing behind schedule by ${delay}% for ${pkg.packageName}`,
                    probability: delay > 20 ? 'High' : 'Medium',
                    impact: delay > 20 ? 'High' : 'Medium',
                    riskLevel: delay > 20 ? 'Critical' : 'Medium',
                    status: 'Open',
                    mitigation: 'Expedite manufacturing, consider air freight, add resources',
                    owner: 'Project Manager',
                    dueDate: pkg.manufacture.planFinish || '',
                    isAutoGenerated: true,
                    generatedDate: today.toISOString()
                });
            }
            
            // Check engineering delay (if required)
            if (pkg.engineering.required) {
                const planEng = calculateSCurve(pkg.engineering.planStart, pkg.engineering.planFinish);
                if (pkg.engineering.actualProgress < planEng - 10) {
                    const delay = Math.round(planEng - pkg.engineering.actualProgress);
                    generatedRisks.push({
                        id: Date.now() + Math.random(),
                        projectId: selectedProject,
                        packageId: pkg.id,
                        category: 'Schedule',
                        riskDescription: `Engineering behind schedule by ${delay}% for ${pkg.packageName}`,
                        probability: delay > 15 ? 'High' : 'Medium',
                        impact: 'Medium',
                        riskLevel: delay > 15 ? 'Critical' : 'Medium',
                        status: 'Open',
                        mitigation: 'Add engineering resources, prioritize critical path items',
                        owner: 'Engineering Manager',
                        dueDate: pkg.engineering.planFinish || '',
                        isAutoGenerated: true,
                        generatedDate: today.toISOString()
                    });
                }
            }
            
            // Check milestone delays
            const milestoneKeys = ['issueRFQ', 'receiveQuotation', 'issueTBE', 'issueCBE', 'finalNegotiation'];
            milestoneKeys.forEach(key => {
                const ms = pkg.milestones[key];
                if (ms && ms.plan && !ms.actual) {
                    const planDate = new Date(ms.plan);
                    if (today > planDate) {
                        const daysLate = Math.ceil((today - planDate) / 86400000);
                        if (daysLate > 7) {
                            generatedRisks.push({
                                id: Date.now() + Math.random(),
                                projectId: selectedProject,
                                packageId: pkg.id,
                                category: 'Schedule',
                                riskDescription: `${milestoneLabels.find(m => m.key === key)?.label || key} delayed by ${daysLate} days for ${pkg.packageName}`,
                                probability: daysLate > 30 ? 'High' : 'Medium',
                                impact: 'Medium',
                                riskLevel: daysLate > 30 ? 'Critical' : 'Medium',
                                status: 'Open',
                                mitigation: 'Fast-track milestone completion, identify blockers',
                                owner: 'Procurement Manager',
                                dueDate: ms.plan,
                                isAutoGenerated: true,
                                generatedDate: today.toISOString()
                            });
                        }
                    }
                }
            });
            
            // 2. COMMERCIAL RISKS
            
            // No vendor assigned
            if (!pkg.vendorName && pkg.milestones.issuePO.actual) {
                generatedRisks.push({
                    id: Date.now() + Math.random(),
                    projectId: selectedProject,
                    packageId: pkg.id,
                    category: 'Commercial',
                    riskDescription: `No vendor name recorded for ${pkg.packageName} despite PO issued`,
                    probability: 'Low',
                    impact: 'Low',
                    riskLevel: 'Low',
                    status: 'Open',
                    mitigation: 'Update vendor information in system',
                    owner: 'Procurement Manager',
                    dueDate: '',
                    isAutoGenerated: true,
                    generatedDate: today.toISOString()
                });
            }
            
            // Contract not assigned but PO issued
            if (!pkg.contractNo && pkg.milestones.issuePO.actual) {
                generatedRisks.push({
                    id: Date.now() + Math.random(),
                    projectId: selectedProject,
                    packageId: pkg.id,
                    category: 'Commercial',
                    riskDescription: `Contract/PO number not recorded for ${pkg.packageName}`,
                    probability: 'Low',
                    impact: 'Low',
                    riskLevel: 'Low',
                    status: 'Open',
                    mitigation: 'Update contract information in system',
                    owner: 'Procurement Manager',
                    dueDate: '',
                    isAutoGenerated: true,
                    generatedDate: today.toISOString()
                });
            }
            
            // 3. TECHNICAL RISKS
            
            // FAT failed or pending
            if (pkg.manufacture.actualFAT && pkg.manufacture.fatResult === 'Failed') {
                generatedRisks.push({
                    id: Date.now() + Math.random(),
                    projectId: selectedProject,
                    packageId: pkg.id,
                    category: 'Technical',
                    riskDescription: `FAT failed for ${pkg.packageName} - requires re-test`,
                    probability: 'High',
                    impact: 'High',
                    riskLevel: 'Critical',
                    status: 'Open',
                    mitigation: 'Address FAT failures, schedule re-test, review punch list',
                    owner: 'QA/QC Manager',
                    dueDate: '',
                    isAutoGenerated: true,
                    generatedDate: today.toISOString()
                });
            }
            
            // FAT approaching but manufacture not complete
            if (pkg.manufacture.planFAT && pkg.manufacture.actualProgress < 90) {
                const fatDate = new Date(pkg.manufacture.planFAT);
                const daysToFAT = Math.ceil((fatDate - today) / 86400000);
                if (daysToFAT <= 30 && daysToFAT > 0) {
                    generatedRisks.push({
                        id: Date.now() + Math.random(),
                        projectId: selectedProject,
                        packageId: pkg.id,
                        category: 'Technical',
                        riskDescription: `FAT in ${daysToFAT} days but manufacture only ${pkg.manufacture.actualProgress}% for ${pkg.packageName}`,
                        probability: 'High',
                        impact: 'Medium',
                        riskLevel: 'Critical',
                        status: 'Open',
                        mitigation: 'Expedite manufacturing, consider FAT reschedule',
                        owner: 'Project Manager',
                        dueDate: pkg.manufacture.planFAT,
                        isAutoGenerated: true,
                        generatedDate: today.toISOString()
                    });
                }
            }
            
            // 4. LOGISTICS RISKS
            
            // Delivery approaching but shipping not started
            if (pkg.delivery.planDelivery100) {
                const deliveryDate = new Date(pkg.delivery.planDelivery100);
                const daysToDelivery = Math.ceil((deliveryDate - today) / 86400000);
                const shippingStatus = pkg.delivery.shippingStatus || 0;
                
                if (daysToDelivery <= 60 && daysToDelivery > 0 && shippingStatus < 50 && pkg.manufacture.actualProgress >= 80) {
                    generatedRisks.push({
                        id: Date.now() + Math.random(),
                        projectId: selectedProject,
                        packageId: pkg.id,
                        category: 'Logistics',
                        riskDescription: `Delivery in ${daysToDelivery} days but shipping only ${shippingStatus}% for ${pkg.packageName}`,
                        probability: daysToDelivery <= 30 ? 'High' : 'Medium',
                        impact: 'High',
                        riskLevel: daysToDelivery <= 30 ? 'Critical' : 'Medium',
                        status: 'Open',
                        mitigation: 'Expedite shipping arrangements, consider faster transport mode',
                        owner: 'Logistics Manager',
                        dueDate: pkg.delivery.planDelivery100,
                        isAutoGenerated: true,
                        generatedDate: today.toISOString()
                    });
                }
            }
            
            // International shipping (non-Indonesia COO)
            if (pkg.coo && pkg.coo !== 'Indonesia' && pkg.milestones.issuePO.actual) {
                const hasShippingRisk = !generatedRisks.some(r => r.category === 'Logistics' && r.packageId === pkg.id);
                if (hasShippingRisk && pkg.delivery.shippingStatus < 100) {
                    generatedRisks.push({
                        id: Date.now() + Math.random(),
                        projectId: selectedProject,
                        packageId: pkg.id,
                        category: 'Logistics',
                        riskDescription: `International shipping required from ${pkg.coo} for ${pkg.packageName}`,
                        probability: 'Medium',
                        impact: 'Medium',
                        riskLevel: 'Medium',
                        status: 'Monitoring',
                        mitigation: 'Monitor shipping schedule, prepare customs documentation',
                        owner: 'Logistics Manager',
                        dueDate: pkg.delivery.planDelivery100 || '',
                        isAutoGenerated: true,
                        generatedDate: today.toISOString()
                    });
                }
            }
            
            return generatedRisks;
        }
        
        function analyzeProjectLevelRisks(pkgs, today) {
            const generatedRisks = [];
            
            // Calculate overall project metrics
            const totalPackages = pkgs.length;
            const poIssuedCount = pkgs.filter(p => p.milestones.issuePO.actual).length;
            const avgMfgProgress = pkgs.reduce((a, p) => a + (p.manufacture.actualProgress || 0), 0) / totalPackages;
            const criticalPackages = pkgs.filter(p => {
                const planMfg = calculateSCurve(p.manufacture.planStart, p.manufacture.planFinish);
                return p.manufacture.actualProgress < planMfg - 15;
            });
            
            // Project-level schedule risk
            if (criticalPackages.length >= totalPackages * 0.3) {
                generatedRisks.push({
                    id: Date.now() + Math.random(),
                    projectId: selectedProject,
                    packageId: null,
                    category: 'Schedule',
                    riskDescription: `${criticalPackages.length} of ${totalPackages} packages (${Math.round(criticalPackages.length/totalPackages*100)}%) are behind schedule`,
                    probability: 'High',
                    impact: 'High',
                    riskLevel: 'Critical',
                    status: 'Open',
                    mitigation: 'Conduct schedule recovery workshop, prioritize critical path',
                    owner: 'Project Manager',
                    dueDate: '',
                    isAutoGenerated: true,
                    generatedDate: today.toISOString()
                });
            }
            
            // PO issuance progress
            if (poIssuedCount < totalPackages * 0.5) {
                generatedRisks.push({
                    id: Date.now() + Math.random(),
                    projectId: selectedProject,
                    packageId: null,
                    category: 'Commercial',
                    riskDescription: `Only ${poIssuedCount} of ${totalPackages} packages (${Math.round(poIssuedCount/totalPackages*100)}%) have PO issued`,
                    probability: 'Medium',
                    impact: 'High',
                    riskLevel: 'Medium',
                    status: 'Open',
                    mitigation: 'Accelerate procurement process, review bidding status',
                    owner: 'Procurement Manager',
                    dueDate: '',
                    isAutoGenerated: true,
                    generatedDate: today.toISOString()
                });
            }
            
            // Multiple vendors from same country concentration risk
            const cooCount = {};
            pkgs.forEach(p => {
                if (p.coo) {
                    cooCount[p.coo] = (cooCount[p.coo] || 0) + 1;
                }
            });
            Object.keys(cooCount).forEach(coo => {
                if (coo !== 'Indonesia' && cooCount[coo] >= 3) {
                    generatedRisks.push({
                        id: Date.now() + Math.random(),
                        projectId: selectedProject,
                        packageId: null,
                        category: 'Logistics',
                        riskDescription: `${cooCount[coo]} packages sourced from ${coo} - geographic concentration risk`,
                        probability: 'Low',
                        impact: 'Medium',
                        riskLevel: 'Low',
                        status: 'Monitoring',
                        mitigation: 'Monitor geopolitical situation, prepare contingency suppliers',
                        owner: 'Procurement Manager',
                        dueDate: '',
                        isAutoGenerated: true,
                        generatedDate: today.toISOString()
                    });
                }
            });
            
            return generatedRisks;
        }

        function initCharts() {
            charts.discipline = new Chart(document.getElementById('disciplineChart'), {type:'bar',data:{labels:[],datasets:[]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{labels:{color:'#94a3b8'}}},scales:{x:{ticks:{color:'#94a3b8'},grid:{color:'#334155'}},y:{ticks:{color:'#94a3b8'},grid:{color:'#334155'}}}}});
            charts.scurve = new Chart(document.getElementById('scurveChart'), {
                type:'line',
                data:{labels:[],datasets:[]},
                options:{
                    responsive:true,
                    maintainAspectRatio:false,
                    interaction: { intersect: false, mode: 'index' },
                    plugins:{
                        legend:{labels:{color:'#94a3b8'}},
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.dataset.label + ': ' + context.parsed.y.toFixed(1) + '%';
                                }
                            }
                        }
                    },
                    scales:{
                        x:{ticks:{color:'#94a3b8', maxRotation: 45, minRotation: 45},grid:{color:'#334155'}},
                        y:{ticks:{color:'#94a3b8', callback: function(value) { return value + '%'; }},grid:{color:'#334155'},min:0,max:100}
                    }
                }
            });
            charts.riskPie = new Chart(document.getElementById('riskPieChart'), {type:'doughnut',data:{labels:[],datasets:[]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{labels:{color:'#94a3b8'}}}}});
            updateCharts();
        }

        // Normal Distribution CDF for S-Curve calculation
        function normalCDF(x, mean, stdDev) {
            const z = (x - mean) / stdDev;
            const t = 1 / (1 + 0.2316419 * Math.abs(z));
            const d = 0.3989422804 * Math.exp(-z * z / 2);
            const p = d * t * (0.3193815 + t * (-0.3565638 + t * (1.781478 + t * (-1.821256 + t * 1.330274))));
            return z > 0 ? 1 - p : p;
        }

        // Calculate S-Curve value using normal distribution
        function calcSCurveNormal(startDate, endDate, currentDate, earlyBias = 0.15) {
            if (!startDate || !endDate) return 0;
            const start = new Date(startDate).getTime();
            const end = new Date(endDate).getTime();
            const current = new Date(currentDate).getTime();
            
            if (current <= start) return 0;
            if (current >= end) return 100;
            
            const totalDuration = end - start;
            const elapsed = current - start;
            const progress = elapsed / totalDuration;
            
            // Use normal CDF with mean at 0.5 and stdDev for S-curve shape
            // earlyBias shifts the curve to start earlier
            const mean = 0.5 - earlyBias;
            const stdDev = 0.2;
            const rawValue = normalCDF(progress, mean, stdDev);
            
            // Scale to 0-100
            const minVal = normalCDF(0, mean, stdDev);
            const maxVal = normalCDF(1, mean, stdDev);
            return ((rawValue - minVal) / (maxVal - minVal)) * 100;
        }

        // Calculate weighted progress for a package at a specific date
        function calcPackageProgressAtDate(pkg, date, wf) {
            let progress = 0;
            const currentDate = new Date(date);
            
            // Determine effective weights based on package configuration
            // If engineering is not required, redistribute its weight to manufacture
            const engineeringRequired = pkg.engineering.required && pkg.engineering.planStart && pkg.engineering.planFinish;
            const effectiveEngWeight = engineeringRequired ? wf.engineering : 0;
            const effectiveMfgWeight = engineeringRequired ? wf.manufacture : (wf.manufacture + wf.engineering);
            
            // Calculate milestone progress based on plan dates
            const milestoneKeys = ['issueRFQ', 'receiveQuotation', 'issueTBE', 'issueCBE', 'finalNegotiation', 'issuePO', 'kom'];
            let milestonesCompleted = 0;
            let milestoneWeight = 0;
            milestoneKeys.forEach(key => {
                milestoneWeight += wf.milestones[key] || 0;
                const ms = pkg.milestones[key];
                if (ms && ms.plan) {
                    const planDate = new Date(ms.plan);
                    if (currentDate >= planDate) {
                        progress += wf.milestones[key] || 0;
                        milestonesCompleted++;
                    }
                }
            });
            
            // Calculate engineering progress (S-curve within engineering period)
            if (engineeringRequired) {
                const engProgress = calcSCurveNormal(pkg.engineering.planStart, pkg.engineering.planFinish, date, 0.1);
                progress += (engProgress / 100) * effectiveEngWeight;
            }
            
            // Calculate manufacture progress (S-curve within manufacture period)
            if (pkg.manufacture.planStart && pkg.manufacture.planFinish) {
                const mfgProgress = calcSCurveNormal(pkg.manufacture.planStart, pkg.manufacture.planFinish, date, 0.1);
                progress += (mfgProgress / 100) * effectiveMfgWeight;
            }
            
            // Calculate FAT progress
            const fatWeight = wf.fat || 0;
            if (fatWeight > 0) {
                if (pkg.manufacture.planFAT) {
                    const fatDate = new Date(pkg.manufacture.planFAT);
                    if (currentDate >= fatDate) {
                        progress += fatWeight;
                    }
                } else if (pkg.manufacture.planFinish) {
                    // If no FAT date, assume FAT is at manufacture finish
                    const mfgFinishDate = new Date(pkg.manufacture.planFinish);
                    if (currentDate >= mfgFinishDate) {
                        progress += fatWeight;
                    }
                }
            }
            
            // Calculate shipping progress using S-curve
            const shippingWeight = wf.delivery.shipping || 0;
            if (shippingWeight > 0) {
                const planDelivery100 = pkg.delivery.planDelivery100 || pkg.delivery.planDate;
                const shippingStartDate = pkg.manufacture.planFAT || pkg.manufacture.planFinish;
                if (shippingStartDate && planDelivery100) {
                    const shippingProgress = calcSCurveNormal(shippingStartDate, planDelivery100, date, 0.1);
                    progress += (shippingProgress / 100) * shippingWeight;
                } else if (shippingStartDate) {
                    // If no delivery date, assume shipping completes 30 days after FAT/manufacture
                    const estimatedDelivery = new Date(shippingStartDate);
                    estimatedDelivery.setDate(estimatedDelivery.getDate() + 30);
                    const shippingProgress = calcSCurveNormal(shippingStartDate, estimatedDelivery.toISOString(), date, 0.1);
                    progress += (shippingProgress / 100) * shippingWeight;
                }
            }
            
            // Calculate material at site using S-curve
            const materialWeight = wf.delivery.materialAtSite || 0;
            if (materialWeight > 0) {
                const planDelivery100 = pkg.delivery.planDelivery100 || pkg.delivery.planDate;
                const planMaterialAtSite100 = pkg.delivery.planMaterialAtSite100 || pkg.delivery.requiredAtSite;
                
                if (planMaterialAtSite100) {
                    const startDate = planDelivery100 || pkg.manufacture.planFinish;
                    if (startDate) {
                        const materialProgress = calcSCurveNormal(startDate, planMaterialAtSite100, date, 0.1);
                        progress += (materialProgress / 100) * materialWeight;
                    } else {
                        // If no start date, check if current date is past material at site date
                        const materialDate = new Date(planMaterialAtSite100);
                        if (currentDate >= materialDate) {
                            progress += materialWeight;
                        }
                    }
                } else if (planDelivery100) {
                    // If no material at site date, assume it's same as delivery
                    const deliveryDate = new Date(planDelivery100);
                    if (currentDate >= deliveryDate) {
                        progress += materialWeight;
                    }
                }
            }
            
            return progress;
        }

        // Calculate actual weighted progress for a package
        function calcPackageActualProgress(pkg, wf) {
            let progress = 0;
            
            // Determine effective weights based on package configuration
            // If engineering is not required, redistribute its weight to manufacture
            const engineeringRequired = pkg.engineering.required;
            const effectiveEngWeight = engineeringRequired ? wf.engineering : 0;
            const effectiveMfgWeight = engineeringRequired ? wf.manufacture : (wf.manufacture + wf.engineering);
            
            // Calculate milestone actual progress
            const milestoneKeys = ['issueRFQ', 'receiveQuotation', 'issueTBE', 'issueCBE', 'finalNegotiation', 'issuePO', 'kom'];
            milestoneKeys.forEach(key => {
                const ms = pkg.milestones[key];
                if (ms && ms.actual) {
                    progress += wf.milestones[key] || 0;
                }
            });
            
            // Engineering actual progress
            if (engineeringRequired) {
                progress += ((pkg.engineering.actualProgress || 0) / 100) * effectiveEngWeight;
            }
            
            // Manufacture actual progress
            progress += ((pkg.manufacture.actualProgress || 0) / 100) * effectiveMfgWeight;
            
            // FAT actual progress (100% if actualFAT exists and result is Passed/Passed with Remarks)
            if (pkg.manufacture.actualFAT && (pkg.manufacture.fatResult === 'Passed' || pkg.manufacture.fatResult === 'Passed with Remarks')) {
                progress += wf.fat || 0;
            }
            
            // Shipping status actual
            const shippingActual = pkg.delivery.shippingStatus || 0;
            progress += (shippingActual / 100) * wf.delivery.shipping;
            
            // Material at site actual
            const materialActual = pkg.delivery.materialReceivedActual || 0;
            progress += (materialActual / 100) * wf.delivery.materialAtSite;
            
            return progress;
        }

        // Calculate actual weighted progress for a package at a specific date using S-Curve
        // This function uses actual dates to generate S-Curve for actual progress
        function calcPackageActualProgressAtDate(pkg, date, wf) {
            let progress = 0;
            const currentDate = new Date(date);
            
            // Determine effective weights based on package configuration
            const engineeringRequired = pkg.engineering.required && pkg.engineering.actualStart;
            const effectiveEngWeight = engineeringRequired ? wf.engineering : 0;
            const effectiveMfgWeight = engineeringRequired ? wf.manufacture : (wf.manufacture + wf.engineering);
            
            // Calculate milestone actual progress based on actual dates
            const milestoneKeys = ['issueRFQ', 'receiveQuotation', 'issueTBE', 'issueCBE', 'finalNegotiation', 'issuePO', 'kom'];
            milestoneKeys.forEach(key => {
                const ms = pkg.milestones[key];
                if (ms && ms.actual) {
                    const actualDate = new Date(ms.actual);
                    if (currentDate >= actualDate) {
                        progress += wf.milestones[key] || 0;
                    }
                }
            });
            
            // Calculate engineering actual progress using S-Curve based on actual dates
            if (engineeringRequired && pkg.engineering.actualStart) {
                // Use actual finish if available, otherwise estimate based on progress
                let engEndDate = pkg.engineering.actualFinish;
                if (!engEndDate && pkg.engineering.actualProgress > 0 && pkg.engineering.actualProgress < 100) {
                    // Estimate finish date based on current progress and elapsed time
                    const elapsed = currentDate - new Date(pkg.engineering.actualStart);
                    const estimatedTotal = elapsed / (pkg.engineering.actualProgress / 100);
                    const estimatedEnd = new Date(new Date(pkg.engineering.actualStart).getTime() + estimatedTotal);
                    engEndDate = estimatedEnd.toISOString();
                } else if (!engEndDate && pkg.engineering.actualProgress >= 100) {
                    // If 100% but no finish date, use current date
                    engEndDate = currentDate.toISOString();
                } else if (!engEndDate) {
                    // Fallback to plan finish
                    engEndDate = pkg.engineering.planFinish;
                }
                
                if (engEndDate) {
                    const engProgress = calcSCurveNormal(pkg.engineering.actualStart, engEndDate, date, 0.1);
                    // Cap at actual progress input
                    const cappedProgress = Math.min(engProgress, pkg.engineering.actualProgress || 0);
                    progress += (cappedProgress / 100) * effectiveEngWeight;
                }
            }
            
            // Calculate manufacture actual progress using S-Curve based on actual dates
            if (pkg.manufacture.actualStart) {
                let mfgEndDate = pkg.manufacture.actualFinish;
                if (!mfgEndDate && pkg.manufacture.actualProgress > 0 && pkg.manufacture.actualProgress < 100) {
                    // Estimate finish date based on current progress
                    const elapsed = currentDate - new Date(pkg.manufacture.actualStart);
                    if (pkg.manufacture.actualProgress > 0) {
                        const estimatedTotal = elapsed / (pkg.manufacture.actualProgress / 100);
                        const estimatedEnd = new Date(new Date(pkg.manufacture.actualStart).getTime() + estimatedTotal);
                        mfgEndDate = estimatedEnd.toISOString();
                    }
                } else if (!mfgEndDate && pkg.manufacture.actualProgress >= 100) {
                    mfgEndDate = currentDate.toISOString();
                } else if (!mfgEndDate) {
                    mfgEndDate = pkg.manufacture.planFinish;
                }
                
                if (mfgEndDate) {
                    const mfgProgress = calcSCurveNormal(pkg.manufacture.actualStart, mfgEndDate, date, 0.1);
                    // Cap at actual progress input
                    const cappedProgress = Math.min(mfgProgress, pkg.manufacture.actualProgress || 0);
                    progress += (cappedProgress / 100) * effectiveMfgWeight;
                }
            }
            
            // Calculate FAT actual progress
            const fatWeight = wf.fat || 0;
            if (fatWeight > 0 && pkg.manufacture.actualFAT) {
                const fatDate = new Date(pkg.manufacture.actualFAT);
                if (currentDate >= fatDate && (pkg.manufacture.fatResult === 'Passed' || pkg.manufacture.fatResult === 'Passed with Remarks')) {
                    progress += fatWeight;
                }
            }
            
            // Calculate shipping actual progress using S-Curve
            const shippingWeight = wf.delivery.shipping || 0;
            if (shippingWeight > 0) {
                const actualDelivery100 = pkg.delivery.actualDelivery100;
                const shippingStartDate = pkg.manufacture.actualFAT || pkg.manufacture.actualFinish;
                
                if (shippingStartDate && actualDelivery100) {
                    // Have both start and end dates - calculate S-Curve
                    const shippingProgress = calcSCurveNormal(shippingStartDate, actualDelivery100, date, 0.1);
                    // Cap at actual shipping status
                    const cappedProgress = Math.min(shippingProgress, pkg.delivery.shippingStatus || 0);
                    progress += (cappedProgress / 100) * shippingWeight;
                } else if (shippingStartDate && pkg.delivery.shippingStatus > 0) {
                    // No end date yet, but have progress - estimate
                    const shippingActual = pkg.delivery.shippingStatus || 0;
                    if (shippingActual >= 100) {
                        progress += shippingWeight;
                    } else if (shippingActual > 0) {
                        // Estimate based on progress
                        const elapsed = currentDate - new Date(shippingStartDate);
                        if (elapsed > 0 && shippingActual > 0) {
                            const estimatedTotal = elapsed / (shippingActual / 100);
                            const estimatedEnd = new Date(new Date(shippingStartDate).getTime() + estimatedTotal);
                            const shippingProgress = calcSCurveNormal(shippingStartDate, estimatedEnd.toISOString(), date, 0.1);
                            const cappedProgress = Math.min(shippingProgress, shippingActual);
                            progress += (cappedProgress / 100) * shippingWeight;
                        }
                    }
                }
            }
            
            // Calculate material at site actual progress using S-Curve
            const materialWeight = wf.delivery.materialAtSite || 0;
            if (materialWeight > 0) {
                const actualMaterialAtSite100 = pkg.delivery.actualMaterialAtSite100;
                const materialStartDate = pkg.delivery.actualDelivery100 || pkg.manufacture.actualFAT || pkg.manufacture.actualFinish;
                
                if (materialStartDate && actualMaterialAtSite100) {
                    // Have both dates - calculate S-Curve
                    const materialProgress = calcSCurveNormal(materialStartDate, actualMaterialAtSite100, date, 0.1);
                    const cappedProgress = Math.min(materialProgress, pkg.delivery.materialReceivedActual || 0);
                    progress += (cappedProgress / 100) * materialWeight;
                } else if (materialStartDate && pkg.delivery.materialReceivedActual > 0) {
                    const materialActual = pkg.delivery.materialReceivedActual || 0;
                    if (materialActual >= 100) {
                        progress += materialWeight;
                    } else if (materialActual > 0) {
                        // Estimate
                        const elapsed = currentDate - new Date(materialStartDate);
                        if (elapsed > 0 && materialActual > 0) {
                            const estimatedTotal = elapsed / (materialActual / 100);
                            const estimatedEnd = new Date(new Date(materialStartDate).getTime() + estimatedTotal);
                            const materialProgress = calcSCurveNormal(materialStartDate, estimatedEnd.toISOString(), date, 0.1);
                            const cappedProgress = Math.min(materialProgress, materialActual);
                            progress += (cappedProgress / 100) * materialWeight;
                        }
                    }
                }
            }
            
            return progress;
        }

        function updateCharts() {
            const pkgs = getProjectPackages(), disc = ['Process','Mechanical','Piping','Electrical','Instrument','Civil'];
            charts.discipline.data = {labels:disc,datasets:[{label:'Engineering',data:disc.map(d=>{const dp=pkgs.filter(p=>p.discipline===d);return dp.length?Math.round(dp.reduce((a,p)=>a+(p.engineering.actualProgress||0),0)/dp.length):0;}),backgroundColor:'#22d3ee',borderRadius:4},{label:'Manufacture',data:disc.map(d=>{const dp=pkgs.filter(p=>p.discipline===d);return dp.length?Math.round(dp.reduce((a,p)=>a+(p.manufacture.actualProgress||0),0)/dp.length):0;}),backgroundColor:'#14b8a6',borderRadius:4}]};
            charts.discipline.update();
            
            const proj = projects.find(p=>p.id===selectedProject);
            if(proj && pkgs.length > 0) {
                const labels = [], planData = [], actualData = [];
                
                // Get cut-off date from input, default to today
                const cutoffInput = document.getElementById('scurveCutoffDate');
                const cutoffDate = cutoffInput && cutoffInput.value ? new Date(cutoffInput.value) : new Date();
                // Set to end of day for comparison
                cutoffDate.setHours(23, 59, 59, 999);
                
                // === DYNAMIC S-CURVE: Calculate date range from package plan data ===
                // Find earliest plan start date (from milestones, engineering, or manufacture)
                // Find latest plan material at site date (100% completion point)
                let earliestDate = null;
                let latestMaterialAtSite = null;
                let earliestActualDate = null;
                
                pkgs.forEach(pkg => {
                    // Check all milestone plan dates for earliest date
                    const milestoneKeys = ['issueRFQ', 'receiveQuotation', 'issueTBE', 'issueCBE', 'finalNegotiation', 'issuePO', 'kom'];
                    milestoneKeys.forEach(key => {
                        const ms = pkg.milestones[key];
                        if (ms && ms.plan) {
                            const d = new Date(ms.plan);
                            if (!earliestDate || d < earliestDate) earliestDate = d;
                        }
                        // Also check actual dates
                        if (ms && ms.actual) {
                            const d = new Date(ms.actual);
                            if (!earliestActualDate || d < earliestActualDate) earliestActualDate = d;
                        }
                    });
                    
                    // Check engineering plan start
                    if (pkg.engineering.required && pkg.engineering.planStart) {
                        const d = new Date(pkg.engineering.planStart);
                        if (!earliestDate || d < earliestDate) earliestDate = d;
                    }
                    // Check engineering actual start
                    if (pkg.engineering.actualStart) {
                        const d = new Date(pkg.engineering.actualStart);
                        if (!earliestActualDate || d < earliestActualDate) earliestActualDate = d;
                    }
                    
                    // Check manufacture plan start
                    if (pkg.manufacture.planStart) {
                        const d = new Date(pkg.manufacture.planStart);
                        if (!earliestDate || d < earliestDate) earliestDate = d;
                    }
                    // Check manufacture actual start
                    if (pkg.manufacture.actualStart) {
                        const d = new Date(pkg.manufacture.actualStart);
                        if (!earliestActualDate || d < earliestActualDate) earliestActualDate = d;
                    }
                    
                    // Find latest material at site date (this is when plan reaches 100%)
                    const materialAtSiteDate = pkg.delivery.planMaterialAtSite100 || pkg.delivery.requiredAtSite || pkg.delivery.planDelivery100 || pkg.delivery.planDate;
                    if (materialAtSiteDate) {
                        const d = new Date(materialAtSiteDate);
                        if (!latestMaterialAtSite || d > latestMaterialAtSite) latestMaterialAtSite = d;
                    }
                });
                
                // Use earliest of plan or actual start date
                const start = earliestActualDate && earliestActualDate < earliestDate ? earliestActualDate : (earliestDate || new Date(proj.startDate));
                const end = latestMaterialAtSite || new Date(proj.finishDate);
                
                // Ensure end date is after start date
                if (end <= start) {
                    end.setTime(start.getTime() + 365 * 24 * 60 * 60 * 1000); // Add 1 year if invalid
                }
                
                const total = Math.ceil((end - start) / 86400000);
                const numPoints = Math.min(20, Math.max(10, Math.ceil(total / 30))); // Dynamic points based on duration
                const step = Math.max(1, Math.floor(total / numPoints));
                
                for (let i = 0; i <= total; i += step) {
                    const d = new Date(start);
                    d.setDate(d.getDate() + i);
                    
                    // Format label with year
                    const month = d.toLocaleDateString('id-ID', {month:'short'});
                    const year = d.getFullYear().toString().slice(-2);
                    labels.push(`${month} '${year}`);
                    
                    // Calculate weighted plan progress for all packages at this date
                    let totalPlanProgress = 0;
                    pkgs.forEach(pkg => {
                        totalPlanProgress += calcPackageProgressAtDate(pkg, d.toISOString(), weightFactors);
                    });
                    planData.push(totalPlanProgress / pkgs.length);
                    
                    // Calculate actual progress using S-Curve up to cut-off date
                    if (d <= cutoffDate) {
                        let totalActualProgress = 0;
                        pkgs.forEach(pkg => {
                            // Use the new S-Curve based actual calculation
                            totalActualProgress += calcPackageActualProgressAtDate(pkg, d.toISOString(), weightFactors);
                        });
                        actualData.push(totalActualProgress / pkgs.length);
                    } else {
                        actualData.push(null); // No actual data for future dates
                    }
                }
                
                // Add exact end date as final point (natural value, not forced to 100%)
                {
                    const endMonth = end.toLocaleDateString('id-ID', {month:'short'});
                    const endYear = end.getFullYear().toString().slice(-2);
                    const endLabel = `${endMonth} '${endYear}`;
                    const lastLabel = labels[labels.length - 1];
                    const lastChartDate = new Date(start);
                    lastChartDate.setDate(lastChartDate.getDate() + Math.floor(total / step) * step);
                    const needsEndPoint = lastChartDate < end;
                    
                    // Calculate natural plan progress at end date
                    let endPlanProgress = 0;
                    pkgs.forEach(pkg => { endPlanProgress += calcPackageProgressAtDate(pkg, end.toISOString(), weightFactors); });
                    endPlanProgress = endPlanProgress / pkgs.length;
                    
                    if (needsEndPoint) {
                        if (lastLabel === endLabel) {
                            planData[planData.length - 1] = endPlanProgress;
                            if (end <= cutoffDate) {
                                let endActualProgress = 0;
                                pkgs.forEach(pkg => { endActualProgress += calcPackageActualProgressAtDate(pkg, end.toISOString(), weightFactors); });
                                actualData[actualData.length - 1] = endActualProgress / pkgs.length;
                            }
                        } else {
                            labels.push(endLabel);
                            planData.push(endPlanProgress);
                            if (end <= cutoffDate) {
                                let endActualProgress = 0;
                                pkgs.forEach(pkg => { endActualProgress += calcPackageActualProgressAtDate(pkg, end.toISOString(), weightFactors); });
                                actualData.push(endActualProgress / pkgs.length);
                            } else { actualData.push(null); }
                        }
                    }
                    
                    // Count packages with incomplete plan data
                    const incompletePkgs = pkgs.filter(pkg => {
                        const ms = pkg.milestones || {};
                        const mf = pkg.manufacture || {};
                        const dl = pkg.delivery || {};
                        const hasMilestones = ['issueRFQ','receiveQuotation','issueTBE','issueCBE','finalNegotiation','issuePO','kom'].every(k => (ms[k]||{}).plan);
                        const hasMfg = mf.planStart && (mf.planFinish || mf.planFAT || dl.planDelivery100);
                        return !hasMilestones || !hasMfg;
                    }).length;
                    window._scurveIncompletePkgs = incompletePkgs;
                    window._scurveMaxPlan = endPlanProgress;
                }
                
                // Calculate current actual progress at cut-off date for display
                let currentActualAtCutoff = 0;
                let currentPlanAtCutoff = 0;
                pkgs.forEach(pkg => {
                    currentActualAtCutoff += calcPackageActualProgressAtDate(pkg, cutoffDate.toISOString(), weightFactors);
                    currentPlanAtCutoff += calcPackageProgressAtDate(pkg, cutoffDate.toISOString(), weightFactors);
                });
                currentActualAtCutoff = currentActualAtCutoff / pkgs.length;
                currentPlanAtCutoff = currentPlanAtCutoff / pkgs.length;
                const variance = currentActualAtCutoff - currentPlanAtCutoff;
                
                charts.scurve.data = {
                    labels,
                    datasets: [
                        {
                            label: 'Plan',
                            data: planData,
                            borderColor: '#14b8a6',
                            backgroundColor: 'rgba(20,184,166,0.1)',
                            fill: true,
                            tension: 0.4,
                            borderWidth: 2
                        },
                        {
                            label: 'Actual',
                            data: actualData,
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59,130,246,0.1)',
                            fill: false,
                            tension: 0.4,
                            borderWidth: 2,
                            spanGaps: false
                        }
                    ]
                };
                charts.scurve.update();
                
                // Update date range info display with cut-off date and variance
                const dateRangeEl = document.getElementById('scurveDateRange');
                if (dateRangeEl) {
                    const startStr = start.toLocaleDateString('id-ID', {day:'numeric', month:'short', year:'numeric'});
                    const endStr = end.toLocaleDateString('id-ID', {day:'numeric', month:'short', year:'numeric'});
                    const cutoffStr = cutoffDate.toLocaleDateString('id-ID', {day:'numeric', month:'short', year:'numeric'});
                    const varianceColor = variance >= 0 ? '#34d399' : '#f87171';
                    const varianceSign = variance >= 0 ? '+' : '';
                    let infoHtml = ` Period: ${startStr}  ${endStr} |  Cut-off: ${cutoffStr} | <span style="color:${varianceColor}">Variance: ${varianceSign}${variance.toFixed(1)}%</span> (Plan: ${currentPlanAtCutoff.toFixed(1)}% / Actual: ${currentActualAtCutoff.toFixed(1)}%)`;
                    if (window._scurveIncompletePkgs > 0) {
                        infoHtml += ` | <span style="color:#f59e0b;"> ${window._scurveIncompletePkgs} pkg(s) incomplete plan data  Max Plan: ${window._scurveMaxPlan.toFixed(1)}%</span>`;
                    }
                    dateRangeEl.innerHTML = infoHtml;
                }
            }
            
            const r=getProjectRisks(),cats=['Schedule','Technical','Commercial','Logistics','HSE'],catData=cats.map(c=>r.filter(x=>x.category===c).length).filter(v=>v>0),catLabels=cats.filter(c=>r.filter(x=>x.category===c).length>0);
            charts.riskPie.data={labels:catLabels,datasets:[{data:catData,backgroundColor:['#3b82f6','#8b5cf6','#ec4899','#f59e0b','#10b981']}]};charts.riskPie.update();
        }

        // ===== CUT-OFF DATE FUNCTIONS =====
        
        // Initialize cut-off date to today on load
        function initCutoffDate() {
            const cutoffInput = document.getElementById('scurveCutoffDate');
            if (cutoffInput) {
                const today = new Date();
                cutoffInput.value = today.toISOString().split('T')[0];
            }
        }
        
        // Handle cut-off date change
        function onCutoffDateChange() {
            if (charts.scurve) {
                updateCharts();
            }
        }
        
        // Set today as cut-off date
        function setTodayAsCutoff() {
            const cutoffInput = document.getElementById('scurveCutoffDate');
            if (cutoffInput) {
                const today = new Date();
                cutoffInput.value = today.toISOString().split('T')[0];
                onCutoffDateChange();
            }
        }

        // ===== WEIGHT FACTOR FUNCTIONS =====
        
        function openWeightFactorModal() {
            populateWeightFactorForm();
            document.getElementById('weightFactorModal').classList.add('active');
        }
        
        function closeWeightFactorModal() {
            document.getElementById('weightFactorModal').classList.remove('active');
        }
        
        function populateWeightFactorForm() {
            document.getElementById('wfIssueRFQ').value = weightFactors.milestones.issueRFQ;
            document.getElementById('wfReceiveQuotation').value = weightFactors.milestones.receiveQuotation;
            document.getElementById('wfIssueTBE').value = weightFactors.milestones.issueTBE;
            document.getElementById('wfIssueCBE').value = weightFactors.milestones.issueCBE;
            document.getElementById('wfFinalNegotiation').value = weightFactors.milestones.finalNegotiation;
            document.getElementById('wfIssuePO').value = weightFactors.milestones.issuePO;
            document.getElementById('wfKOM').value = weightFactors.milestones.kom;
            document.getElementById('wfEngineering').value = weightFactors.engineering;
            document.getElementById('wfManufacture').value = weightFactors.manufacture;
            document.getElementById('wfFAT').value = weightFactors.fat || 0;
            document.getElementById('wfShipping').value = weightFactors.delivery.shipping;
            document.getElementById('wfMaterialAtSite').value = weightFactors.delivery.materialAtSite;
            updateWFTotal();
        }
        
        function updateWFTotal() {
            const total = 
                parseFloat(document.getElementById('wfIssueRFQ').value || 0) +
                parseFloat(document.getElementById('wfReceiveQuotation').value || 0) +
                parseFloat(document.getElementById('wfIssueTBE').value || 0) +
                parseFloat(document.getElementById('wfIssueCBE').value || 0) +
                parseFloat(document.getElementById('wfFinalNegotiation').value || 0) +
                parseFloat(document.getElementById('wfIssuePO').value || 0) +
                parseFloat(document.getElementById('wfKOM').value || 0) +
                parseFloat(document.getElementById('wfEngineering').value || 0) +
                parseFloat(document.getElementById('wfManufacture').value || 0) +
                parseFloat(document.getElementById('wfFAT').value || 0) +
                parseFloat(document.getElementById('wfShipping').value || 0) +
                parseFloat(document.getElementById('wfMaterialAtSite').value || 0);
            
            const display = document.getElementById('wfTotalDisplay');
            display.textContent = total.toFixed(1) + '%';
            display.className = 'wf-total-value ' + (Math.abs(total - 100) < 0.1 ? 'valid' : 'invalid');
        }
        
        function saveWeightFactors() {
            const total = 
                parseFloat(document.getElementById('wfIssueRFQ').value || 0) +
                parseFloat(document.getElementById('wfReceiveQuotation').value || 0) +
                parseFloat(document.getElementById('wfIssueTBE').value || 0) +
                parseFloat(document.getElementById('wfIssueCBE').value || 0) +
                parseFloat(document.getElementById('wfFinalNegotiation').value || 0) +
                parseFloat(document.getElementById('wfIssuePO').value || 0) +
                parseFloat(document.getElementById('wfKOM').value || 0) +
                parseFloat(document.getElementById('wfEngineering').value || 0) +
                parseFloat(document.getElementById('wfManufacture').value || 0) +
                parseFloat(document.getElementById('wfFAT').value || 0) +
                parseFloat(document.getElementById('wfShipping').value || 0) +
                parseFloat(document.getElementById('wfMaterialAtSite').value || 0);
            
            if (Math.abs(total - 100) > 0.1) {
                showNotification('Total weight factor must equal 100%. Current: ' + total.toFixed(1) + '%', 'error');
                return;
            }
            
            weightFactors = {
                milestones: {
                    issueRFQ: parseFloat(document.getElementById('wfIssueRFQ').value || 0),
                    receiveQuotation: parseFloat(document.getElementById('wfReceiveQuotation').value || 0),
                    issueTBE: parseFloat(document.getElementById('wfIssueTBE').value || 0),
                    issueCBE: parseFloat(document.getElementById('wfIssueCBE').value || 0),
                    finalNegotiation: parseFloat(document.getElementById('wfFinalNegotiation').value || 0),
                    issuePO: parseFloat(document.getElementById('wfIssuePO').value || 0),
                    kom: parseFloat(document.getElementById('wfKOM').value || 0)
                },
                engineering: parseFloat(document.getElementById('wfEngineering').value || 0),
                manufacture: parseFloat(document.getElementById('wfManufacture').value || 0),
                fat: parseFloat(document.getElementById('wfFAT').value || 0),
                delivery: {
                    shipping: parseFloat(document.getElementById('wfShipping').value || 0),
                    materialAtSite: parseFloat(document.getElementById('wfMaterialAtSite').value || 0)
                }
            };
            
            saveAllData();
            updateCharts();
            closeWeightFactorModal();
            showNotification('Weight factors saved successfully', 'success');
        }
        
        function resetWeightFactors() {
            weightFactors = JSON.parse(JSON.stringify(defaultWeightFactors));
            populateWeightFactorForm();
            showNotification('Weight factors reset to defaults', 'info');
        }

        function switchTab(id) { 
            currentTab=id; 
            document.querySelectorAll('.nav-tab').forEach(t=>t.classList.remove('active')); 
            document.querySelector('[data-tab="'+id+'"]').classList.add('active'); 
            document.querySelectorAll('.tab-content').forEach(c=>c.classList.remove('active')); 
            document.getElementById(id).classList.add('active'); 
            
            // Populate filters when switching to schedule tab
            if (id === 'schedule') {
                populateScheduleFilters();
                renderScheduleGantt();
            }
            if (id === 'inquiry') {
                populateInquiryFilters();
                renderInquiryGantt();
            }
            // Set sticky header top to match global header height
            if (id === 'packages') {
                const gh = document.querySelector('.header');
                const sh = document.getElementById('pkgStickyHeader');
                if (gh && sh) sh.style.top = gh.offsetHeight + 'px';
            }
        }
        function switchFormTab(id) { document.querySelectorAll('.form-tab').forEach(t=>t.classList.remove('active')); event.target.classList.add('active'); document.querySelectorAll('.form-section').forEach(s=>s.classList.remove('active')); document.getElementById(id+'Section').classList.add('active'); }
        function changeProject() { selectedProject = parseInt(document.getElementById('projectSelect').value); saveAllData(); renderAll(); }
        function filterPackages() { renderPackagesTable(); }
        function updateIncotermInfo() { const c=document.getElementById('incoterm').value,i=incoterms.find(x=>x.code===c),d=document.getElementById('incotermInfo');if(i){d.style.display='block';d.innerHTML='<div class="incoterm-header"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>'+i.name+'</div><p class="incoterm-desc">'+i.desc+'</p><p class="incoterm-mode">Mode: '+(i.mode==='all'?'All transport':'Sea only')+'</p>';}else{d.style.display='none';}}
        
        // Calculate Delivery Plan Status using S-Curve (Normal Distribution)
        function calcDeliveryPlanStatus() {
            // Get manufacture finish date as shipping start reference
            const mfgFinish = document.getElementById('mfgPlanFinish').value;
            const planDelivery100 = document.getElementById('planDelivery100').value;
            const shippingStatusDate = document.getElementById('shippingStatusDate').value;
            const planMaterialAtSite100 = document.getElementById('planMaterialAtSite100').value;
            const materialStatusDate = document.getElementById('materialStatusDate').value;
            
            // Calculate Shipping Status Plan using S-Curve
            if (mfgFinish && planDelivery100 && shippingStatusDate) {
                const shippingPlan = calcSCurveNormal(mfgFinish, planDelivery100, shippingStatusDate, 0.1);
                const display1 = document.getElementById('shippingStatusPlanDisplay');
                display1.textContent = Math.round(shippingPlan) + '%';
                display1.style.background = shippingPlan >= 100 ? 'rgba(16,185,129,0.2)' : shippingPlan > 0 ? 'rgba(245,158,11,0.2)' : 'rgba(100,116,139,0.2)';
                display1.style.color = shippingPlan >= 100 ? '#34d399' : shippingPlan > 0 ? '#fbbf24' : '#94a3b8';
            } else {
                const display1 = document.getElementById('shippingStatusPlanDisplay');
                display1.textContent = '0%';
                display1.style.background = 'rgba(100,116,139,0.2)';
                display1.style.color = '#94a3b8';
            }
            
            // Calculate Material at Site Plan using S-Curve
            if (planDelivery100 && planMaterialAtSite100 && materialStatusDate) {
                const materialPlan = calcSCurveNormal(planDelivery100, planMaterialAtSite100, materialStatusDate, 0.1);
                const display2 = document.getElementById('materialAtSitePlanDisplay');
                display2.textContent = Math.round(materialPlan) + '%';
                display2.style.background = materialPlan >= 100 ? 'rgba(16,185,129,0.2)' : materialPlan > 0 ? 'rgba(245,158,11,0.2)' : 'rgba(100,116,139,0.2)';
                display2.style.color = materialPlan >= 100 ? '#34d399' : materialPlan > 0 ? '#fbbf24' : '#94a3b8';
            } else {
                const display2 = document.getElementById('materialAtSitePlanDisplay');
                display2.textContent = '0%';
                display2.style.background = 'rgba(100,116,139,0.2)';
                display2.style.color = '#94a3b8';
            }
        }
        
        // Calculate Engineering Plan Progress using S-Curve
        function calcEngineeringPlanProgress() {
            const planStart = document.getElementById('engPlanStart').value;
            const planFinish = document.getElementById('engPlanFinish').value;
            const statusDate = document.getElementById('engStatusDate').value;
            
            const display = document.getElementById('engPlanProgress');
            
            if (planStart && planFinish && statusDate) {
                const engPlan = calcSCurveNormal(planStart, planFinish, statusDate, 0.1);
                display.textContent = Math.round(engPlan) + '%';
                display.style.background = engPlan >= 100 ? 'rgba(16,185,129,0.2)' : engPlan > 50 ? 'rgba(59,130,246,0.2)' : engPlan > 0 ? 'rgba(245,158,11,0.2)' : 'rgba(100,116,139,0.2)';
                display.style.color = engPlan >= 100 ? '#34d399' : engPlan > 50 ? '#60a5fa' : engPlan > 0 ? '#fbbf24' : '#94a3b8';
            } else {
                display.textContent = '0%';
                display.style.background = 'rgba(100,116,139,0.2)';
                display.style.color = '#94a3b8';
            }
        }
        
        // Calculate Manufacture Plan Progress using S-Curve
        function calcManufacturePlanProgress() {
            const planStart = document.getElementById('mfgPlanStart').value;
            const planFinish = document.getElementById('mfgPlanFinish').value;
            const statusDate = document.getElementById('mfgStatusDate').value;
            
            const display = document.getElementById('mfgPlanProgress');
            
            if (planStart && planFinish && statusDate) {
                const mfgPlan = calcSCurveNormal(planStart, planFinish, statusDate, 0.1);
                display.textContent = Math.round(mfgPlan) + '%';
                display.style.background = mfgPlan >= 100 ? 'rgba(16,185,129,0.2)' : mfgPlan > 50 ? 'rgba(59,130,246,0.2)' : mfgPlan > 0 ? 'rgba(245,158,11,0.2)' : 'rgba(100,116,139,0.2)';
                display.style.color = mfgPlan >= 100 ? '#34d399' : mfgPlan > 50 ? '#60a5fa' : mfgPlan > 0 ? '#fbbf24' : '#94a3b8';
            } else {
                display.textContent = '0%';
                display.style.background = 'rgba(100,116,139,0.2)';
                display.style.color = '#94a3b8';
            }
        }
        
        function calcRiskLevel() { const p=document.getElementById('riskProbability').value,i=document.getElementById('riskImpact').value,lv=calcRiskLevelValue(p,i),d=document.getElementById('riskLevelDisplay');d.textContent=lv;d.style.background=lv==='Critical'?'rgba(239,68,68,0.2)':lv==='Medium'?'rgba(245,158,11,0.2)':'rgba(16,185,129,0.2)';d.style.color=lv==='Critical'?'#f87171':lv==='Medium'?'#fbbf24':'#34d399'; }
        function calcRiskLevelValue(p,i) { if((p==='High'&&i==='High')||(p==='High'&&i==='Medium')||(p==='Medium'&&i==='High'))return 'Critical';if((p==='Low'&&i==='Low')||(p==='Low'&&i==='Medium')||(p==='Medium'&&i==='Low'))return 'Low';return 'Medium'; }

        // Update FAT Status Display
        function updateFATStatus(planFAT, actualFAT, fatResult) {
            const display = document.getElementById('fatStatusDisplay');
            if (actualFAT && fatResult) {
                if (fatResult === 'Passed') {
                    display.textContent = 'Passed';
                    display.style.background = 'rgba(16,185,129,0.2)';
                    display.style.color = '#34d399';
                } else if (fatResult === 'Passed with Remarks') {
                    display.textContent = 'Passed*';
                    display.style.background = 'rgba(245,158,11,0.2)';
                    display.style.color = '#fbbf24';
                } else if (fatResult === 'Failed') {
                    display.textContent = 'Failed';
                    display.style.background = 'rgba(239,68,68,0.2)';
                    display.style.color = '#f87171';
                }
            } else if (planFAT) {
                const today = new Date();
                const planDate = new Date(planFAT);
                if (today > planDate) {
                    display.textContent = 'Overdue';
                    display.style.background = 'rgba(239,68,68,0.2)';
                    display.style.color = '#f87171';
                } else {
                    display.textContent = 'Scheduled';
                    display.style.background = 'rgba(59,130,246,0.2)';
                    display.style.color = '#60a5fa';
                }
            } else {
                display.textContent = 'Pending';
                display.style.background = 'rgba(100,116,139,0.2)';
                display.style.color = '#94a3b8';
            }
        }

        function openPackageModal(id=null) { 
            document.getElementById('packageModal').classList.add('active'); 
            document.getElementById('packageModalTitle').textContent=id?'Edit Package':'Add Package'; 
            if(id){
                const p=packages.find(x=>x.id===id);
                if(p)populatePackageForm(p);
            }else{
                document.getElementById('packageForm').reset();
                document.getElementById('packageId').value='';
                document.getElementById('engineeringFields').style.display='none';
                // Reset Engineering plan progress display
                document.getElementById('engPlanProgress').textContent = '0%';
                document.getElementById('engPlanProgress').style.background = 'rgba(100,116,139,0.2)';
                document.getElementById('engPlanProgress').style.color = '#94a3b8';
                // Reset Manufacture plan progress display
                document.getElementById('mfgPlanProgress').textContent = '0%';
                document.getElementById('mfgPlanProgress').style.background = 'rgba(100,116,139,0.2)';
                document.getElementById('mfgPlanProgress').style.color = '#94a3b8';
                // Reset delivery plan displays
                document.getElementById('shippingStatusPlanDisplay').textContent = '0%';
                document.getElementById('shippingStatusPlanDisplay').style.background = 'rgba(100,116,139,0.2)';
                document.getElementById('shippingStatusPlanDisplay').style.color = '#94a3b8';
                document.getElementById('materialAtSitePlanDisplay').textContent = '0%';
                document.getElementById('materialAtSitePlanDisplay').style.background = 'rgba(100,116,139,0.2)';
                document.getElementById('materialAtSitePlanDisplay').style.color = '#94a3b8';
                // Reset FAT status display
                document.getElementById('fatStatusDisplay').textContent = 'Pending';
                document.getElementById('fatStatusDisplay').style.background = 'rgba(100,116,139,0.2)';
                document.getElementById('fatStatusDisplay').style.color = '#94a3b8';
            } 
            switchFormTab('master');
            document.querySelectorAll('.form-tab')[0].classList.add('active'); 
        }
        function closePackageModal() { document.getElementById('packageModal').classList.remove('active'); }
        function openProjectModal(id=null) { document.getElementById('projectModal').classList.add('active'); document.getElementById('projectModalTitle').textContent=id?'Edit Project':'Add Project'; if(id){const p=projects.find(x=>x.id===id);if(p)populateProjectForm(p);}else{document.getElementById('projectForm').reset();document.getElementById('projectId').value='';} }
        function closeProjectModal() { document.getElementById('projectModal').classList.remove('active'); }
        function openRiskModal(id=null) { document.getElementById('riskModal').classList.add('active'); document.getElementById('riskModalTitle').textContent=id?'Edit Risk':'Add Risk'; if(id){const r=risks.find(x=>x.id===id);if(r)populateRiskForm(r);}else{document.getElementById('riskForm').reset();document.getElementById('riskId').value='';calcRiskLevel();} }

        // Package Detail View Functions
        let currentViewPackageId = null;
        
        function viewPackage(id) {
            const p = packages.find(x => x.id === id);
            if (!p) return;
            
            currentViewPackageId = id;
            // Normalize data to prevent undefined errors
            p.milestones = p.milestones || {};
            p.engineering = p.engineering || {};
            p.manufacture = p.manufacture || {};
            p.delivery = p.delivery || {};
            milestoneLabels.forEach(m => { if (!p.milestones[m.key]) p.milestones[m.key] = {plan:'',actual:''}; });
            const mf = p.manufacture;
            const eng = p.engineering;
            const dl = p.delivery;
            const ms = p.milestones;
            const planMfg = calculateSCurve(mf.planStart, mf.planFinish);
            const planEng = calculateSCurve(eng.planStart, eng.planFinish);
            const mfgVariance = (mf.actualProgress||0) - planMfg;
            const engVariance = (eng.actualProgress||0) - planEng;
            const mfgColor = mfgVariance >= 0 ? 'green' : mfgVariance > -10 ? 'yellow' : 'red';
            const engColor = engVariance >= 0 ? 'green' : engVariance > -10 ? 'yellow' : 'red';
            const incoterm = incoterms.find(i => i.code === (dl.incoterm||''));
            const proj = projects.find(pr => pr.id === p.projectId);
            
            const completedMilestones = milestoneLabels.filter(m => (ms[m.key]||{}).actual).length;
            const totalMilestones = milestoneLabels.length;
            
            let html = `
                <div class="detail-header">
                    <div class="detail-title-section">
                        <h2>${p.packageName}</h2>
                        <p>${p.description || 'No description'}</p>
                        <div class="detail-badges">
                            <span class="package-tag ${p.initiation === 'HO' ? 'ho' : 'site'}">${p.initiation}</span>
                            <span class="package-tag default">${p.discipline}</span>
                            <span class="package-tag default">${p.area}</span>
                            ${(ms.issuePO||{}).actual ? '<span class="badge badge-success">PO Issued</span>' : '<span class="badge badge-warning">PO Pending</span>'}
                        </div>
                    </div>
                    <div style="text-align:right;">
                        <div style="color:#64748b;font-size:0.75rem;text-transform:uppercase;">Project</div>
                        <div style="color:white;font-weight:500;">${proj?.name || '-'}</div>
                    </div>
                </div>
                
                <!-- Master Data Section -->
                <div class="detail-section">
                    <div class="detail-section-title">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>
                        Master Data
                    </div>
                    <div class="detail-grid">
                        <div class="detail-item"><label>RFQ Number</label><span>${p.rfqNo || '-'}</span></div>
                        <div class="detail-item ${p.contractNo ? 'highlight' : ''}"><label>Contract/PO Number</label><span>${p.contractNo || '-'}</span></div>
                        <div class="detail-item"><label>Vendor Name</label><span>${p.vendorName || '-'}</span></div>
                        <div class="detail-item"><label>Country of Origin</label><span>${p.coo || '-'}</span></div>
                    </div>
                </div>
                
                <!-- Milestones Section -->
                <div class="detail-section">
                    <div class="detail-section-title">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" /></svg>
                        Milestones Progress (${completedMilestones}/${totalMilestones})
                    </div>
                    <div class="milestone-timeline">
                        <div class="milestone-item" style="background:#1e293b;font-weight:600;">
                            <div style="color:#94a3b8;">Milestone</div>
                            <div style="color:#94a3b8;text-align:center;">Plan Date</div>
                            <div style="color:#94a3b8;text-align:center;">Actual Date</div>
                            <div style="color:#94a3b8;text-align:center;">Status</div>
                        </div>
                        ${milestoneLabels.map(m => {
                            const ms = p.milestones[m.key];
                            const isCompleted = !!ms.actual;
                            const isDelayed = ms.actual && ms.plan && new Date(ms.actual) > new Date(ms.plan);
                            return `
                                <div class="milestone-item ${isCompleted ? 'completed' : 'pending'}">
                                    <div class="milestone-name">${m.label}</div>
                                    <div class="milestone-date">${ms.plan || '-'}</div>
                                    <div class="milestone-date ${isCompleted ? 'actual' : ''}">${ms.actual || '-'}</div>
                                    <div class="milestone-status">
                                        ${isCompleted 
                                            ? (isDelayed 
                                                ? '<span class="badge badge-warning">Delayed</span>' 
                                                : '<span class="badge badge-success">Done</span>')
                                            : '<span class="badge badge-default">Pending</span>'
                                        }
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                </div>
                
                <!-- Progress Section -->
                <div class="detail-section">
                    <div class="detail-section-title">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" /></svg>
                        Progress Tracking
                    </div>
                    <div class="detail-grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));">
                        ${p.engineering.required ? `
                        <div class="detail-item">
                            <label>Engineering Progress</label>
                            <div class="progress-detail">
                                <div class="progress-detail-bar">
                                    <div class="progress-detail-fill ${engColor}" style="width:${p.engineering.actualProgress}%"></div>
                                </div>
                                <div class="progress-info">
                                    <span>Actual: <span class="value">${p.engineering.actualProgress}%</span></span>
                                    <span>Plan: <span class="value">${Math.round(planEng)}%</span></span>
                                    <span>Variance: <span class="value" style="color:${engVariance >= 0 ? '#34d399' : '#f87171'}">${engVariance >= 0 ? '+' : ''}${Math.round(engVariance)}%</span></span>
                                </div>
                            </div>
                            <div style="margin-top:0.75rem;display:grid;grid-template-columns:1fr 1fr;gap:0.5rem;font-size:0.8rem;">
                                <div><span style="color:#64748b;">Plan Start:</span> <span style="color:#cbd5e1;">${p.engineering.planStart || '-'}</span></div>
                                <div><span style="color:#64748b;">Plan Finish:</span> <span style="color:#cbd5e1;">${p.engineering.planFinish || '-'}</span></div>
                                <div><span style="color:#64748b;">Actual Start:</span> <span style="color:#cbd5e1;">${p.engineering.actualStart || '-'}</span></div>
                                <div><span style="color:#64748b;">Actual Finish:</span> <span style="color:#cbd5e1;">${p.engineering.actualFinish || '-'}</span></div>
                            </div>
                            ${p.engineering.remark ? `<div style="margin-top:0.5rem;padding:0.5rem;background:#0f172a;border-radius:8px;font-size:0.8rem;color:#94a3b8;"><strong>Remark:</strong> ${p.engineering.remark}</div>` : ''}
                        </div>
                        ` : '<div class="detail-item" style="opacity:0.5;"><label>Engineering</label><span>Not Required</span></div>'}
                        
                        <div class="detail-item">
                            <label>Manufacture Progress</label>
                            <div class="progress-detail">
                                <div class="progress-detail-bar">
                                    <div class="progress-detail-fill ${mfgColor}" style="width:${p.manufacture.actualProgress}%"></div>
                                </div>
                                <div class="progress-info">
                                    <span>Actual: <span class="value">${p.manufacture.actualProgress}%</span></span>
                                    <span>Plan: <span class="value">${Math.round(planMfg)}%</span></span>
                                    <span>Variance: <span class="value" style="color:${mfgVariance >= 0 ? '#34d399' : '#f87171'}">${mfgVariance >= 0 ? '+' : ''}${Math.round(mfgVariance)}%</span></span>
                                </div>
                            </div>
                            <div style="margin-top:0.75rem;display:grid;grid-template-columns:1fr 1fr;gap:0.5rem;font-size:0.8rem;">
                                <div><span style="color:#64748b;">Plan Start:</span> <span style="color:#cbd5e1;">${p.manufacture.planStart || '-'}</span></div>
                                <div><span style="color:#64748b;">Plan Finish:</span> <span style="color:#cbd5e1;">${p.manufacture.planFinish || '-'}</span></div>
                                <div><span style="color:#64748b;">Actual Start:</span> <span style="color:#cbd5e1;">${p.manufacture.actualStart || '-'}</span></div>
                                <div><span style="color:#64748b;">Actual Finish:</span> <span style="color:#cbd5e1;">${p.manufacture.actualFinish || '-'}</span></div>
                            </div>
                            ${p.manufacture.remark ? `<div style="margin-top:0.5rem;padding:0.5rem;background:#0f172a;border-radius:8px;font-size:0.8rem;color:#94a3b8;"><strong>Remark:</strong> ${p.manufacture.remark}</div>` : ''}
                            
                            <!-- FAT Section -->
                            <div style="margin-top:1rem;padding:1rem;background:rgba(139,92,246,0.1);border-radius:12px;border:1px solid rgba(139,92,246,0.2);">
                                <h4 style="color:#a78bfa;font-size:0.8rem;font-weight:600;margin-bottom:0.75rem;display:flex;align-items:center;gap:0.5rem;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                    Factory Acceptance Test (FAT)
                                </h4>
                                <div style="display:grid;grid-template-columns:1fr 1fr;gap:0.5rem;font-size:0.8rem;">
                                    <div><span style="color:#64748b;">Plan FAT:</span> <span style="color:#cbd5e1;">${p.manufacture.planFAT || '-'}</span></div>
                                    <div><span style="color:#64748b;">Actual FAT:</span> <span style="color:#cbd5e1;">${p.manufacture.actualFAT || '-'}</span></div>
                                    <div><span style="color:#64748b;">Result:</span> 
                                        <span style="color:${p.manufacture.fatResult === 'Passed' ? '#34d399' : p.manufacture.fatResult === 'Passed with Remarks' ? '#fbbf24' : p.manufacture.fatResult === 'Failed' ? '#f87171' : '#94a3b8'};">
                                            ${p.manufacture.fatResult || 'Pending'}
                                        </span>
                                    </div>
                                    <div><span style="color:#64748b;">Status:</span> 
                                        <span class="badge" style="background:${p.manufacture.actualFAT && (p.manufacture.fatResult === 'Passed' || p.manufacture.fatResult === 'Passed with Remarks') ? 'rgba(16,185,129,0.2)' : p.manufacture.planFAT && new Date() > new Date(p.manufacture.planFAT) && !p.manufacture.actualFAT ? 'rgba(239,68,68,0.2)' : 'rgba(59,130,246,0.2)'};color:${p.manufacture.actualFAT && (p.manufacture.fatResult === 'Passed' || p.manufacture.fatResult === 'Passed with Remarks') ? '#34d399' : p.manufacture.planFAT && new Date() > new Date(p.manufacture.planFAT) && !p.manufacture.actualFAT ? '#f87171' : '#60a5fa'};">
                                            ${p.manufacture.actualFAT && (p.manufacture.fatResult === 'Passed' || p.manufacture.fatResult === 'Passed with Remarks') ? 'Completed' : p.manufacture.planFAT && new Date() > new Date(p.manufacture.planFAT) && !p.manufacture.actualFAT ? 'Overdue' : p.manufacture.planFAT ? 'Scheduled' : 'Not Scheduled'}
                                        </span>
                                    </div>
                                </div>
                                ${p.manufacture.fatRemarks ? `<div style="margin-top:0.5rem;padding:0.5rem;background:#0f172a;border-radius:8px;font-size:0.8rem;color:#94a3b8;"><strong>FAT Remarks:</strong> ${p.manufacture.fatRemarks}</div>` : ''}
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Delivery Section -->
                <div class="detail-section">
                    <div class="detail-section-title">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" /></svg>
                        Delivery Information
                    </div>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <label>Incoterm</label>
                            <span>${p.delivery.incoterm || '-'}</span>
                            ${incoterm ? `<div style="font-size:0.75rem;color:#94a3b8;margin-top:0.25rem;">${incoterm.name} - ${incoterm.desc}</div>` : ''}
                        </div>
                        <div class="detail-item"><label>Delivery Location</label><span>${p.delivery.deliveryLocation || '-'}</span></div>
                    </div>
                    
                    <!-- Shipping Status Section -->
                    <div style="margin-top:1rem;padding:1rem;background:rgba(6,182,212,0.1);border-radius:12px;border:1px solid rgba(6,182,212,0.2);">
                        <h4 style="color:#22d3ee;font-size:0.875rem;font-weight:600;margin-bottom:1rem;">Shipping / Delivery Status</h4>
                        <div class="detail-grid">
                            <div class="detail-item"><label>Plan Delivery 100%</label><span>${p.delivery.planDelivery100 || p.delivery.planDate || '-'}</span></div>
                            <div class="detail-item"><label>Actual Delivery 100%</label><span>${p.delivery.actualDelivery100 || p.delivery.actualDate || '-'}</span></div>
                            <div class="detail-item">
                                <label>Shipping Status</label>
                                <div class="progress-detail" style="margin-top:0.5rem;">
                                    <div class="progress-detail-bar">
                                        <div class="progress-detail-fill ${(p.delivery.shippingStatus || 0) >= (p.delivery.shippingStatusPlan || 0) ? 'green' : 'red'}" style="width:${p.delivery.shippingStatus || 0}%"></div>
                                    </div>
                                    <div class="progress-info">
                                        <span>Actual: <span class="value">${p.delivery.shippingStatus || 0}%</span></span>
                                        <span>Plan: <span class="value">${p.delivery.shippingStatusPlan || 0}%</span></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Material at Site Section -->
                    <div style="margin-top:1rem;padding:1rem;background:rgba(16,185,129,0.1);border-radius:12px;border:1px solid rgba(16,185,129,0.2);">
                        <h4 style="color:#34d399;font-size:0.875rem;font-weight:600;margin-bottom:1rem;">Material Received at Site</h4>
                        <div class="detail-grid">
                            <div class="detail-item"><label>Plan Material 100% at Site</label><span>${p.delivery.planMaterialAtSite100 || p.delivery.requiredAtSite || '-'}</span></div>
                            <div class="detail-item"><label>Actual Material 100% at Site</label><span>${p.delivery.actualMaterialAtSite100 || '-'}</span></div>
                            <div class="detail-item">
                                <label>Material Received Status</label>
                                <div class="progress-detail" style="margin-top:0.5rem;">
                                    <div class="progress-detail-bar">
                                        <div class="progress-detail-fill ${(p.delivery.materialReceivedActual || 0) >= (p.delivery.materialAtSitePlan || 0) ? 'green' : 'red'}" style="width:${p.delivery.materialReceivedActual || 0}%"></div>
                                    </div>
                                    <div class="progress-info">
                                        <span>Actual: <span class="value">${p.delivery.materialReceivedActual || 0}%</span></span>
                                        <span>Plan: <span class="value">${p.delivery.materialAtSitePlan || 0}%</span></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="delivery-status">
                        <div class="delivery-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0" /></svg>
                        </div>
                        <div class="delivery-info">
                            <h4>${(p.delivery.materialReceivedActual || 0) >= 100 ? 'Material Received' : (p.delivery.shippingStatus || 0) >= 100 ? 'Delivered - Awaiting Receipt' : (p.delivery.shippingStatus || 0) > 0 ? 'In Transit' : 'Awaiting Shipment'}</h4>
                            <p>${p.delivery.incoterm ? `Shipping via ${p.delivery.incoterm}` : 'Incoterm not specified'} ${p.delivery.deliveryLocation ? `to ${p.delivery.deliveryLocation}` : ''}</p>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('packageDetailContent').innerHTML = html;
            document.getElementById('packageDetailModal').classList.add('active');
        }
        
        function closePackageDetail() {
            document.getElementById('packageDetailModal').classList.remove('active');
            currentViewPackageId = null;
        }
        
        function editPackageFromDetail() {
            const editId = currentViewPackageId;
            if (editId) {
                closePackageDetail();
                setTimeout(() => {
                    openPackageModal(editId);
                }, 200);
            }
        }
        function closeRiskModal() { document.getElementById('riskModal').classList.remove('active'); }

        function populatePackageForm(p) { 
            document.getElementById('packageId').value=p.id;
            document.getElementById('initiation').value=p.initiation||'';
            document.getElementById('discipline').value=p.discipline||'';
            document.getElementById('area').value=p.area||'';
            document.getElementById('rfqNo').value=p.rfqNo||'';
            document.getElementById('packageName').value=p.packageName||'';
            document.getElementById('packageDesc').value=p.description||'';
            document.getElementById('contractNo').value=p.contractNo||'';
            document.getElementById('vendorName').value=p.vendorName||'';
            document.getElementById('coo').value=p.coo||'';
            milestoneLabels.forEach(m=>{
                const mile = (p.milestones||{})[m.key] || {};
                document.getElementById(m.key+'Plan').value=mile.plan||'';
                document.getElementById(m.key+'Actual').value=mile.actual||'';
            });
            const eng = p.engineering || {};
            document.getElementById('engRequired').checked=!!eng.required;
            document.getElementById('engineeringFields').style.display=eng.required?'block':'none';
            document.getElementById('engPlanStart').value=eng.planStart||'';
            document.getElementById('engPlanFinish').value=eng.planFinish||'';
            document.getElementById('engActualStart').value=eng.actualStart||'';
            document.getElementById('engActualFinish').value=eng.actualFinish||'';
            document.getElementById('engStatusDate').value=eng.statusDate||'';
            document.getElementById('engActualProgress').value=eng.actualProgress||0;
            document.getElementById('engRemark').value=eng.remark||'';
            // Calculate Engineering Plan Progress
            calcEngineeringPlanProgress();
            
            const mf = p.manufacture || {};
            document.getElementById('mfgPlanStart').value=mf.planStart||'';
            document.getElementById('mfgPlanFinish').value=mf.planFinish||'';
            document.getElementById('mfgActualStart').value=mf.actualStart||'';
            document.getElementById('mfgActualFinish').value=mf.actualFinish||'';
            document.getElementById('mfgStatusDate').value=mf.statusDate||'';
            document.getElementById('mfgActualProgress').value=mf.actualProgress||0;
            document.getElementById('mfgRemark').value=mf.remark||'';
            // Calculate Manufacture Plan Progress
            calcManufacturePlanProgress();
            
            // FAT fields
            document.getElementById('mfgPlanFAT').value=mf.planFAT||'';
            document.getElementById('mfgActualFAT').value=mf.actualFAT||'';
            document.getElementById('mfgFATResult').value=mf.fatResult||'';
            document.getElementById('mfgFATRemarks').value=mf.fatRemarks||'';
            updateFATStatus(mf.planFAT, mf.actualFAT, mf.fatResult);
            const dl = p.delivery || {};
            document.getElementById('incoterm').value=dl.incoterm||'';
            document.getElementById('deliveryLocation').value=dl.deliveryLocation||'';
            // New delivery fields
            document.getElementById('planDelivery100').value=dl.planDelivery100||dl.planDate||'';
            document.getElementById('actualDelivery100').value=dl.actualDelivery100||dl.actualDate||'';
            document.getElementById('shippingStatusDate').value=dl.shippingStatusDate||'';
            document.getElementById('shippingStatus').value=dl.shippingStatus||0;
            document.getElementById('planMaterialAtSite100').value=dl.planMaterialAtSite100||dl.requiredAtSite||'';
            document.getElementById('actualMaterialAtSite100').value=dl.actualMaterialAtSite100||'';
            document.getElementById('materialStatusDate').value=dl.materialStatusDate||'';
            document.getElementById('materialReceivedActual').value=dl.materialReceivedActual||0;
            // Legacy hidden fields for backward compatibility
            document.getElementById('deliveryPlanDate').value=dl.planDelivery100||dl.planDate||'';
            document.getElementById('deliveryActualDate').value=dl.actualDelivery100||dl.actualDate||'';
            document.getElementById('requiredAtSite').value=dl.planMaterialAtSite100||dl.requiredAtSite||'';
            updateIncotermInfo();
            calcDeliveryPlanStatus();
        }
        function populateProjectForm(p) { document.getElementById('projectId').value=p.id;document.getElementById('projName').value=p.name;document.getElementById('projOwner').value=p.owner;document.getElementById('projContractor').value=p.contractor;document.getElementById('projTechProvider').value=p.technologyProvider;document.getElementById('projContractType').value=p.contractType;document.getElementById('projContractPrice').value=p.contractPrice;document.getElementById('projPaymentTerm').value=p.paymentTerm;document.getElementById('projStartDate').value=p.startDate;document.getElementById('projFinishDate').value=p.finishDate;document.getElementById('projLdDelay').value=p.ldDelay;document.getElementById('projLdPerformance').value=p.ldPerformance;document.getElementById('projGuaranteePower').value=p.guaranteePower;document.getElementById('projScopeByOwner').value=p.scopeByOwner; }
        function populateRiskForm(r) { document.getElementById('riskId').value=r.id;document.getElementById('riskPackageId').value=r.packageId;document.getElementById('riskCategory').value=r.category;document.getElementById('riskDescription').value=r.riskDescription;document.getElementById('riskProbability').value=r.probability;document.getElementById('riskImpact').value=r.impact;document.getElementById('riskStatus').value=r.status;document.getElementById('riskMitigation').value=r.mitigation;document.getElementById('riskOwner').value=r.owner;document.getElementById('riskDueDate').value=r.dueDate;calcRiskLevel(); }

        function savePackage() { 
            const id=document.getElementById('packageId').value;
            const pkg={
                id:id?parseInt(id):Date.now(),
                projectId:selectedProject,
                initiation:document.getElementById('initiation').value,
                discipline:document.getElementById('discipline').value,
                area:document.getElementById('area').value,
                rfqNo:document.getElementById('rfqNo').value,
                packageName:document.getElementById('packageName').value,
                description:document.getElementById('packageDesc').value,
                contractNo:document.getElementById('contractNo').value,
                vendorName:document.getElementById('vendorName').value,
                coo:document.getElementById('coo').value,
                milestones:{},
                engineering:{
                    required:document.getElementById('engRequired').checked,
                    planStart:document.getElementById('engPlanStart').value,
                    planFinish:document.getElementById('engPlanFinish').value,
                    actualStart:document.getElementById('engActualStart').value,
                    actualFinish:document.getElementById('engActualFinish').value,
                    statusDate:document.getElementById('engStatusDate').value,
                    planProgress:parseFloat(document.getElementById('engPlanProgress').textContent)||0,
                    actualProgress:parseInt(document.getElementById('engActualProgress').value)||0,
                    remark:document.getElementById('engRemark').value
                },
                manufacture:{
                    planStart:document.getElementById('mfgPlanStart').value,
                    planFinish:document.getElementById('mfgPlanFinish').value,
                    actualStart:document.getElementById('mfgActualStart').value,
                    actualFinish:document.getElementById('mfgActualFinish').value,
                    statusDate:document.getElementById('mfgStatusDate').value,
                    planProgress:parseFloat(document.getElementById('mfgPlanProgress').textContent)||0,
                    actualProgress:parseInt(document.getElementById('mfgActualProgress').value)||0,
                    remark:document.getElementById('mfgRemark').value,
                    planFAT:document.getElementById('mfgPlanFAT').value,
                    actualFAT:document.getElementById('mfgActualFAT').value,
                    fatResult:document.getElementById('mfgFATResult').value,
                    fatRemarks:document.getElementById('mfgFATRemarks').value
                },
                delivery:{
                    incoterm:document.getElementById('incoterm').value,
                    deliveryLocation:document.getElementById('deliveryLocation').value,
                    planDelivery100:document.getElementById('planDelivery100').value,
                    actualDelivery100:document.getElementById('actualDelivery100').value,
                    shippingStatusDate:document.getElementById('shippingStatusDate').value,
                    shippingStatusPlan:parseFloat(document.getElementById('shippingStatusPlanDisplay').textContent)||0,
                    shippingStatus:parseInt(document.getElementById('shippingStatus').value)||0,
                    planMaterialAtSite100:document.getElementById('planMaterialAtSite100').value,
                    actualMaterialAtSite100:document.getElementById('actualMaterialAtSite100').value,
                    materialStatusDate:document.getElementById('materialStatusDate').value,
                    materialAtSitePlan:parseFloat(document.getElementById('materialAtSitePlanDisplay').textContent)||0,
                    materialReceivedActual:parseInt(document.getElementById('materialReceivedActual').value)||0
                }
            };
            milestoneLabels.forEach(m=>{
                pkg.milestones[m.key]={
                    plan:document.getElementById(m.key+'Plan').value,
                    actual:document.getElementById(m.key+'Actual').value
                };
            });
            if(id){
                const i=packages.findIndex(p=>p.id===parseInt(id));
                if(i!==-1)packages[i]=pkg;
            }else{
                packages.push(pkg);
            }
            saveAllData();
            showNotification(id?'Package updated successfully':'Package added successfully','success');
            closePackageModal();
            renderAll(); 
        }
        function saveProject() { const id=document.getElementById('projectId').value,proj={id:id?parseInt(id):Date.now(),name:document.getElementById('projName').value,owner:document.getElementById('projOwner').value,contractor:document.getElementById('projContractor').value,technologyProvider:document.getElementById('projTechProvider').value,contractType:document.getElementById('projContractType').value,contractPrice:parseInt(document.getElementById('projContractPrice').value)||0,paymentTerm:document.getElementById('projPaymentTerm').value,startDate:document.getElementById('projStartDate').value,finishDate:document.getElementById('projFinishDate').value,ldDelay:parseInt(document.getElementById('projLdDelay').value)||0,ldPerformance:parseInt(document.getElementById('projLdPerformance').value)||0,guaranteePower:parseInt(document.getElementById('projGuaranteePower').value)||0,scopeByOwner:document.getElementById('projScopeByOwner').value};if(id){const i=projects.findIndex(p=>p.id===parseInt(id));if(i!==-1)projects[i]=proj;}else{projects.push(proj);selectedProject=proj.id;}saveAllData();showNotification(id?'Project updated successfully':'Project added successfully','success');closeProjectModal();populateSelects();renderAll(); }
        function saveRisk() { 
            const id = document.getElementById('riskId').value;
            const prob = document.getElementById('riskProbability').value;
            const impact = document.getElementById('riskImpact').value;
            const existingRisk = id ? risks.find(r => r.id === parseInt(id)) : null;
            
            const risk = {
                id: id ? parseInt(id) : Date.now(),
                projectId: selectedProject,
                packageId: parseInt(document.getElementById('riskPackageId').value) || null,
                category: document.getElementById('riskCategory').value,
                riskDescription: document.getElementById('riskDescription').value,
                probability: prob,
                impact: impact,
                riskLevel: calcRiskLevelValue(prob, impact),
                status: document.getElementById('riskStatus').value,
                mitigation: document.getElementById('riskMitigation').value,
                owner: document.getElementById('riskOwner').value,
                dueDate: document.getElementById('riskDueDate').value,
                isAutoGenerated: existingRisk ? existingRisk.isAutoGenerated : false, // Preserve auto flag if editing
                generatedDate: existingRisk?.generatedDate || null,
                lastModified: new Date().toISOString()
            };
            
            if (id) {
                const i = risks.findIndex(r => r.id === parseInt(id));
                if (i !== -1) risks[i] = risk;
            } else {
                risks.push(risk);
            }
            
            saveAllData();
            showNotification(id ? 'Risk updated successfully' : 'Risk added successfully', 'success');
            closeRiskModal();
            renderAll(); 
        }

        function editPackage(id) { openPackageModal(id); }
        function editProject(id) { openProjectModal(id); }
        function editRisk(id) { openRiskModal(id); }
        function deletePackage(id) { if(confirm('Delete this package?')){packages=packages.filter(p=>p.id!==id);saveAllData();showNotification('Package deleted','success');renderAll();} }
        function deleteRisk(id) { if(confirm('Delete this risk?')){risks=risks.filter(r=>r.id!==id);saveAllData();showNotification('Risk deleted','success');renderAll();} }
        function deleteProject(id) { 
            if(confirm('Delete this project? All associated packages and risks will also be deleted.')){
                packages=packages.filter(p=>p.projectId!==id);
                risks=risks.filter(r=>r.projectId!==id);
                projects=projects.filter(p=>p.id!==id);
                if(selectedProject===id && projects.length>0) selectedProject=projects[0].id;
                else if(projects.length===0) selectedProject=null;
                saveAllData();
                showNotification('Project deleted','success');
                populateSelects();
                renderAll();
            } 
        }

        // ===== EXPORT PDF FUNCTIONS =====
        
        function toggleExportDropdown() {
            const dropdown = document.getElementById('exportDropdown');
            dropdown.classList.toggle('show');
            
            // Close dropdown when clicking outside
            setTimeout(() => {
                document.addEventListener('click', closeExportDropdown);
            }, 0);
        }
        
        function closeExportDropdown(e) {
            const dropdown = document.getElementById('exportDropdown');
            const button = e?.target?.closest('.export-dropdown');
            if (!button) {
                dropdown.classList.remove('show');
                document.removeEventListener('click', closeExportDropdown);
            }
        }
        
        function showPdfLoading(show, progress = '') {
            const overlay = document.getElementById('pdfLoadingOverlay');
            const progressEl = document.getElementById('pdfLoadingProgress');
            if (show) {
                overlay.classList.add('show');
                if (progress) progressEl.textContent = progress;
            } else {
                overlay.classList.remove('show');
            }
        }
        
        // Export Dashboard PDF with Charts
        async function exportDashboardPDF() {
            closeExportDropdown();
            showPdfLoading(true, 'Initializing...');
            
            try {
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF('l', 'mm', 'a4'); // Landscape A4
                const pageWidth = pdf.internal.pageSize.getWidth();
                const pageHeight = pdf.internal.pageSize.getHeight();
                const margin = 15;
                let yPos = margin;
                
                const proj = projects.find(p => p.id === selectedProject);
                const s = getStats();
                const pkgs = getProjectPackages();
                
                // Header
                pdf.setFillColor(15, 118, 110);
                pdf.rect(0, 0, pageWidth, 25, 'F');
                pdf.setTextColor(255, 255, 255);
                pdf.setFontSize(18);
                pdf.setFont('helvetica', 'bold');
                pdf.text('Procurement Dashboard Report', pageWidth / 2, 12, { align: 'center' });
                pdf.setFontSize(11);
                pdf.setFont('helvetica', 'normal');
                pdf.text(proj?.name || 'All Projects', pageWidth / 2, 19, { align: 'center' });
                
                yPos = 32;
                
                // Meta info
                pdf.setTextColor(100, 116, 139);
                pdf.setFontSize(9);
                pdf.text('Generated: ' + new Date().toLocaleString('id-ID'), margin, yPos);
                pdf.text('Owner: ' + (proj?.owner || '-'), pageWidth / 2, yPos, { align: 'center' });
                pdf.text('Contractor: ' + (proj?.contractor || '-'), pageWidth - margin, yPos, { align: 'right' });
                
                yPos += 10;
                
                // Statistics boxes
                showPdfLoading(true, 'Rendering statistics...');
                const statBoxWidth = (pageWidth - margin * 2 - 15) / 4;
                const stats = [
                    { label: 'Total Packages', value: s.total, color: [59, 130, 246] },
                    { label: 'PO Issued', value: s.poIssued, color: [16, 185, 129] },
                    { label: 'Critical Items', value: s.criticalCount, color: [239, 68, 68] },
                    { label: 'Avg Progress', value: s.avgProgress + '%', color: [20, 184, 166] }
                ];
                
                stats.forEach((stat, i) => {
                    const x = margin + i * (statBoxWidth + 5);
                    pdf.setFillColor(248, 250, 252);
                    pdf.setDrawColor(226, 232, 240);
                    pdf.roundedRect(x, yPos, statBoxWidth, 22, 3, 3, 'FD');
                    pdf.setTextColor(stat.color[0], stat.color[1], stat.color[2]);
                    pdf.setFontSize(16);
                    pdf.setFont('helvetica', 'bold');
                    pdf.text(String(stat.value), x + statBoxWidth / 2, yPos + 10, { align: 'center' });
                    pdf.setTextColor(100, 116, 139);
                    pdf.setFontSize(8);
                    pdf.setFont('helvetica', 'normal');
                    pdf.text(stat.label, x + statBoxWidth / 2, yPos + 17, { align: 'center' });
                });
                
                yPos += 30;
                
                // Capture Charts
                showPdfLoading(true, 'Capturing charts...');
                
                // Discipline Chart
                const disciplineCanvas = document.getElementById('disciplineChart');
                const disciplineImg = disciplineCanvas.toDataURL('image/png', 1.0);
                const chartWidth = (pageWidth - margin * 2 - 10) / 2;
                const chartHeight = 55;
                
                pdf.setFillColor(248, 250, 252);
                pdf.roundedRect(margin, yPos, chartWidth, chartHeight + 10, 3, 3, 'F');
                pdf.setTextColor(30, 41, 59);
                pdf.setFontSize(10);
                pdf.setFont('helvetica', 'bold');
                pdf.text('Progress by Discipline', margin + 5, yPos + 7);
                pdf.addImage(disciplineImg, 'PNG', margin + 5, yPos + 10, chartWidth - 10, chartHeight - 5);
                
                // S-Curve Chart
                const scurveCanvas = document.getElementById('scurveChart');
                const scurveImg = scurveCanvas.toDataURL('image/png', 1.0);
                
                pdf.setFillColor(248, 250, 252);
                pdf.roundedRect(margin + chartWidth + 10, yPos, chartWidth, chartHeight + 10, 3, 3, 'F');
                pdf.setTextColor(30, 41, 59);
                pdf.text('Overall S-Curve', margin + chartWidth + 15, yPos + 7);
                pdf.addImage(scurveImg, 'PNG', margin + chartWidth + 15, yPos + 10, chartWidth - 10, chartHeight - 5);
                
                yPos += chartHeight + 18;
                
                // Packages Table
                showPdfLoading(true, 'Generating table...');
                pdf.setTextColor(30, 41, 59);
                pdf.setFontSize(11);
                pdf.setFont('helvetica', 'bold');
                pdf.text('Package Summary', margin, yPos);
                yPos += 6;
                
                // Table Header
                const colWidths = [55, 30, 45, 30, 30, 35, 40];
                const headers = ['Package', 'Discipline', 'Vendor', 'COO', 'PO Status', 'Mfg Progress', 'Delivery'];
                
                pdf.setFillColor(15, 118, 110);
                pdf.rect(margin, yPos, pageWidth - margin * 2, 8, 'F');
                pdf.setTextColor(255, 255, 255);
                pdf.setFontSize(8);
                pdf.setFont('helvetica', 'bold');
                
                let xPos = margin + 2;
                headers.forEach((header, i) => {
                    pdf.text(header, xPos, yPos + 5.5);
                    xPos += colWidths[i];
                });
                
                yPos += 8;
                
                // Table Rows
                pdf.setFont('helvetica', 'normal');
                pkgs.forEach((pkg, idx) => {
                    if (yPos > pageHeight - 25) {
                        pdf.addPage();
                        yPos = margin;
                    }
                    
                    if (idx % 2 === 0) {
                        pdf.setFillColor(248, 250, 252);
                        pdf.rect(margin, yPos, pageWidth - margin * 2, 7, 'F');
                    }
                    
                    pdf.setTextColor(30, 41, 59);
                    pdf.setFontSize(7);
                    xPos = margin + 2;
                    
                    const plan = calculateSCurve(pkg.manufacture.planStart, pkg.manufacture.planFinish);
                    const rowData = [
                        pkg.packageName.substring(0, 25),
                        pkg.discipline,
                        (pkg.vendorName || '-').substring(0, 20),
                        pkg.coo || '-',
                        pkg.milestones.issuePO.actual ? 'Issued' : 'Pending',
                        pkg.manufacture.actualProgress + '% (Plan: ' + Math.round(plan) + '%)',
                        pkg.delivery.planDate || '-'
                    ];
                    
                    rowData.forEach((data, i) => {
                        pdf.text(data, xPos, yPos + 5);
                        xPos += colWidths[i];
                    });
                    
                    yPos += 7;
                });
                
                // Footer
                yPos = pageHeight - 10;
                pdf.setDrawColor(226, 232, 240);
                pdf.line(margin, yPos - 3, pageWidth - margin, yPos - 3);
                pdf.setTextColor(148, 163, 184);
                pdf.setFontSize(8);
                pdf.text('Generated by Procurement Management System | Confidential - Internal Use Only', pageWidth / 2, yPos, { align: 'center' });
                
                showPdfLoading(true, 'Saving PDF...');
                pdf.save('Dashboard_Report_' + new Date().toISOString().split('T')[0] + '.pdf');
                showPdfLoading(false);
                showNotification('Dashboard PDF exported successfully!', 'success');
                
            } catch (error) {
                console.error('PDF Export Error:', error);
                showPdfLoading(false);
                showNotification('Error exporting PDF: ' + error.message, 'danger');
            }
        }
        
        // Export Risk Analysis PDF with Charts
        async function exportRiskAnalysisPDF() {
            closeExportDropdown();
            showPdfLoading(true, 'Initializing...');
            
            try {
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF('l', 'mm', 'a4');
                const pageWidth = pdf.internal.pageSize.getWidth();
                const pageHeight = pdf.internal.pageSize.getHeight();
                const margin = 15;
                let yPos = margin;
                
                const proj = projects.find(p => p.id === selectedProject);
                const rs = getProjectRisks();
                
                // Header
                pdf.setFillColor(15, 118, 110);
                pdf.rect(0, 0, pageWidth, 25, 'F');
                pdf.setTextColor(255, 255, 255);
                pdf.setFontSize(18);
                pdf.setFont('helvetica', 'bold');
                pdf.text('Risk Analysis Report', pageWidth / 2, 12, { align: 'center' });
                pdf.setFontSize(11);
                pdf.setFont('helvetica', 'normal');
                pdf.text(proj?.name || 'All Projects', pageWidth / 2, 19, { align: 'center' });
                
                yPos = 32;
                
                // Meta info
                pdf.setTextColor(100, 116, 139);
                pdf.setFontSize(9);
                pdf.text('Generated: ' + new Date().toLocaleString('id-ID'), margin, yPos);
                pdf.text('Total Risks: ' + rs.length, pageWidth - margin, yPos, { align: 'right' });
                
                yPos += 10;
                
                // Risk Statistics
                showPdfLoading(true, 'Rendering statistics...');
                const critCount = rs.filter(r => r.riskLevel === 'Critical').length;
                const medCount = rs.filter(r => r.riskLevel === 'Medium').length;
                const lowCount = rs.filter(r => r.riskLevel === 'Low').length;
                const openCount = rs.filter(r => r.status === 'Open').length;
                const autoCount = rs.filter(r => r.isAutoGenerated).length;
                const manualCount = rs.filter(r => !r.isAutoGenerated).length;
                
                const statBoxWidth = (pageWidth - margin * 2 - 25) / 6;
                const riskStats = [
                    { label: 'Critical', value: critCount, color: [220, 38, 38] },
                    { label: 'Medium', value: medCount, color: [217, 119, 6] },
                    { label: 'Low', value: lowCount, color: [22, 163, 74] },
                    { label: 'Open', value: openCount, color: [6, 182, 212] },
                    { label: 'Auto', value: autoCount, color: [139, 92, 246] },
                    { label: 'Manual', value: manualCount, color: [100, 116, 139] }
                ];
                
                riskStats.forEach((stat, i) => {
                    const x = margin + i * (statBoxWidth + 5);
                    pdf.setFillColor(248, 250, 252);
                    pdf.setDrawColor(226, 232, 240);
                    pdf.roundedRect(x, yPos, statBoxWidth, 18, 2, 2, 'FD');
                    pdf.setTextColor(stat.color[0], stat.color[1], stat.color[2]);
                    pdf.setFontSize(14);
                    pdf.setFont('helvetica', 'bold');
                    pdf.text(String(stat.value), x + statBoxWidth / 2, yPos + 8, { align: 'center' });
                    pdf.setTextColor(100, 116, 139);
                    pdf.setFontSize(7);
                    pdf.setFont('helvetica', 'normal');
                    pdf.text(stat.label, x + statBoxWidth / 2, yPos + 14, { align: 'center' });
                });
                
                yPos += 25;
                
                // Capture Charts
                showPdfLoading(true, 'Capturing charts...');
                
                // Risk Pie Chart
                const riskPieCanvas = document.getElementById('riskPieChart');
                const riskPieImg = riskPieCanvas.toDataURL('image/png', 1.0);
                const chartWidth = (pageWidth - margin * 2 - 10) / 2;
                const chartHeight = 50;
                
                pdf.setFillColor(248, 250, 252);
                pdf.roundedRect(margin, yPos, chartWidth, chartHeight + 10, 3, 3, 'F');
                pdf.setTextColor(30, 41, 59);
                pdf.setFontSize(10);
                pdf.setFont('helvetica', 'bold');
                pdf.text('Risk Distribution', margin + 5, yPos + 7);
                pdf.addImage(riskPieImg, 'PNG', margin + 10, yPos + 10, chartWidth - 20, chartHeight - 5);
                
                // Risk Heat Map - Capture as image
                showPdfLoading(true, 'Capturing heat map...');
                const heatMapEl = document.getElementById('riskHeatMap');
                const heatMapCanvas = await html2canvas(heatMapEl, { backgroundColor: '#1e293b', scale: 2 });
                const heatMapImg = heatMapCanvas.toDataURL('image/png');
                
                pdf.setFillColor(248, 250, 252);
                pdf.roundedRect(margin + chartWidth + 10, yPos, chartWidth, chartHeight + 10, 3, 3, 'F');
                pdf.setTextColor(30, 41, 59);
                pdf.text('Risk Heat Map', margin + chartWidth + 15, yPos + 7);
                pdf.addImage(heatMapImg, 'PNG', margin + chartWidth + 20, yPos + 10, chartWidth - 25, chartHeight - 5);
                
                yPos += chartHeight + 18;
                
                // Risk Register Table
                showPdfLoading(true, 'Generating risk register...');
                pdf.setTextColor(30, 41, 59);
                pdf.setFontSize(11);
                pdf.setFont('helvetica', 'bold');
                pdf.text('Risk Register', margin, yPos);
                yPos += 6;
                
                // Table Header
                const colWidths = [40, 25, 80, 20, 25, 20, 55];
                const headers = ['Package', 'Category', 'Risk Description', 'Level', 'Status', 'Source', 'Mitigation'];
                
                pdf.setFillColor(15, 118, 110);
                pdf.rect(margin, yPos, pageWidth - margin * 2, 8, 'F');
                pdf.setTextColor(255, 255, 255);
                pdf.setFontSize(7);
                pdf.setFont('helvetica', 'bold');
                
                let xPos = margin + 2;
                headers.forEach((header, i) => {
                    pdf.text(header, xPos, yPos + 5.5);
                    xPos += colWidths[i];
                });
                
                yPos += 8;
                
                // Table Rows
                pdf.setFont('helvetica', 'normal');
                rs.forEach((risk, idx) => {
                    if (yPos > pageHeight - 25) {
                        pdf.addPage();
                        yPos = margin;
                        
                        // Re-draw header on new page
                        pdf.setFillColor(15, 118, 110);
                        pdf.rect(margin, yPos, pageWidth - margin * 2, 8, 'F');
                        pdf.setTextColor(255, 255, 255);
                        pdf.setFontSize(7);
                        pdf.setFont('helvetica', 'bold');
                        xPos = margin + 2;
                        headers.forEach((header, i) => {
                            pdf.text(header, xPos, yPos + 5.5);
                            xPos += colWidths[i];
                        });
                        yPos += 8;
                        pdf.setFont('helvetica', 'normal');
                    }
                    
                    const rowHeight = 8;
                    if (idx % 2 === 0) {
                        pdf.setFillColor(248, 250, 252);
                        pdf.rect(margin, yPos, pageWidth - margin * 2, rowHeight, 'F');
                    }
                    
                    const pkg = packages.find(p => p.id === risk.packageId);
                    pdf.setFontSize(6);
                    xPos = margin + 2;
                    
                    // Package
                    pdf.setTextColor(30, 41, 59);
                    pdf.text((pkg?.packageName || 'Project Level').substring(0, 18), xPos, yPos + 5);
                    xPos += colWidths[0];
                    
                    // Category
                    pdf.text(risk.category, xPos, yPos + 5);
                    xPos += colWidths[1];
                    
                    // Description
                    pdf.text(risk.riskDescription.substring(0, 45), xPos, yPos + 5);
                    xPos += colWidths[2];
                    
                    // Level with color
                    if (risk.riskLevel === 'Critical') pdf.setTextColor(220, 38, 38);
                    else if (risk.riskLevel === 'Medium') pdf.setTextColor(217, 119, 6);
                    else pdf.setTextColor(22, 163, 74);
                    pdf.text(risk.riskLevel, xPos, yPos + 5);
                    xPos += colWidths[3];
                    
                    // Status
                    pdf.setTextColor(30, 41, 59);
                    pdf.text(risk.status, xPos, yPos + 5);
                    xPos += colWidths[4];
                    
                    // Source
                    if (risk.isAutoGenerated) pdf.setTextColor(139, 92, 246);
                    else pdf.setTextColor(100, 116, 139);
                    pdf.text(risk.isAutoGenerated ? 'Auto' : 'Manual', xPos, yPos + 5);
                    xPos += colWidths[5];
                    
                    // Mitigation
                    pdf.setTextColor(30, 41, 59);
                    pdf.text((risk.mitigation || '-').substring(0, 30), xPos, yPos + 5);
                    
                    yPos += rowHeight;
                });
                
                // Footer
                pdf.addPage();
                yPos = margin;
                
                // Risk Summary by Category
                pdf.setTextColor(30, 41, 59);
                pdf.setFontSize(12);
                pdf.setFont('helvetica', 'bold');
                pdf.text('Risk Summary by Category', margin, yPos);
                yPos += 8;
                
                const categories = ['Schedule', 'Technical', 'Commercial', 'Logistics', 'HSE'];
                const catColors = {
                    'Schedule': [59, 130, 246],
                    'Technical': [139, 92, 246],
                    'Commercial': [236, 72, 153],
                    'Logistics': [245, 158, 11],
                    'HSE': [16, 185, 129]
                };
                
                categories.forEach(cat => {
                    const catRisks = rs.filter(r => r.category === cat);
                    if (catRisks.length > 0) {
                        const crit = catRisks.filter(r => r.riskLevel === 'Critical').length;
                        const med = catRisks.filter(r => r.riskLevel === 'Medium').length;
                        const low = catRisks.filter(r => r.riskLevel === 'Low').length;
                        
                        pdf.setFillColor(catColors[cat][0], catColors[cat][1], catColors[cat][2]);
                        pdf.rect(margin, yPos, 4, 12, 'F');
                        
                        pdf.setTextColor(30, 41, 59);
                        pdf.setFontSize(10);
                        pdf.setFont('helvetica', 'bold');
                        pdf.text(cat, margin + 8, yPos + 5);
                        
                        pdf.setFontSize(8);
                        pdf.setFont('helvetica', 'normal');
                        pdf.setTextColor(100, 116, 139);
                        pdf.text('Total: ' + catRisks.length + ' | Critical: ' + crit + ' | Medium: ' + med + ' | Low: ' + low, margin + 8, yPos + 10);
                        
                        yPos += 16;
                    }
                });
                
                // Final footer
                yPos = pageHeight - 10;
                pdf.setDrawColor(226, 232, 240);
                pdf.line(margin, yPos - 3, pageWidth - margin, yPos - 3);
                pdf.setTextColor(148, 163, 184);
                pdf.setFontSize(8);
                pdf.text('Generated by Procurement Management System | Confidential - Internal Use Only', pageWidth / 2, yPos, { align: 'center' });
                
                showPdfLoading(true, 'Saving PDF...');
                pdf.save('Risk_Analysis_Report_' + new Date().toISOString().split('T')[0] + '.pdf');
                showPdfLoading(false);
                showNotification('Risk Analysis PDF exported successfully!', 'success');
                
            } catch (error) {
                console.error('PDF Export Error:', error);
                showPdfLoading(false);
                showNotification('Error exporting PDF: ' + error.message, 'danger');
            }
        }
        
        // Quick Export (Table only - original functionality)
        function exportQuickPDF(type) {
            closeExportDropdown();
            const isRisk = type === 'risks';
            const proj = projects.find(p => p.id === selectedProject);
            const s = getStats();
            const pkgs = getProjectPackages();
            const rs = getProjectRisks();
            
            const w = window.open('', '_blank');
            w.document.write('<!DOCTYPE html><html><head><title>' + (isRisk ? 'Risk Analysis' : 'Dashboard') + ' Report</title><style>@page{size:A4 landscape;margin:15mm}body{font-family:Segoe UI,sans-serif;color:#1e293b;padding:20px}.header{text-align:center;margin-bottom:30px;padding-bottom:20px;border-bottom:3px solid #0f766e}.header h1{color:#0f766e;margin:0 0 10px;font-size:24px}.header h2{color:#334155;margin:0;font-size:16px;font-weight:normal}.meta{display:flex;justify-content:space-between;margin-bottom:20px;font-size:12px;color:#64748b}.stats{display:grid;grid-template-columns:repeat(4,1fr);gap:15px;margin-bottom:25px}.stat{background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:15px;text-align:center}.stat-val{font-size:28px;font-weight:700;color:#0f766e}.stat-lbl{font-size:12px;color:#64748b;margin-top:5px}table{width:100%;border-collapse:collapse;font-size:11px}th{background:#0f766e;color:white;padding:10px 8px;text-align:left}td{padding:8px;border-bottom:1px solid #e2e8f0}tr:nth-child(even){background:#f8fafc}.badge{display:inline-block;padding:3px 8px;border-radius:12px;font-size:10px;font-weight:600}.badge-critical{background:#fef2f2;color:#dc2626}.badge-warning{background:#fffbeb;color:#d97706}.badge-success{background:#f0fdf4;color:#16a34a}.footer{margin-top:30px;padding-top:15px;border-top:1px solid #e2e8f0;text-align:center;font-size:10px;color:#94a3b8}</style></head><body><div class="header"><h1>' + (isRisk ? 'Risk Analysis Report' : 'Procurement Dashboard Report') + '</h1><h2>' + (proj?.name || 'All Projects') + '</h2></div><div class="meta"><span>Generated: ' + new Date().toLocaleString('id-ID') + '</span><span>Owner: ' + (proj?.owner || '-') + '</span><span>Contractor: ' + (proj?.contractor || '-') + '</span></div>' + (isRisk ? '<div class="stats"><div class="stat"><div class="stat-val" style="color:#dc2626">' + rs.filter(r => r.riskLevel === 'Critical').length + '</div><div class="stat-lbl">Critical</div></div><div class="stat"><div class="stat-val" style="color:#d97706">' + rs.filter(r => r.riskLevel === 'Medium').length + '</div><div class="stat-lbl">Medium</div></div><div class="stat"><div class="stat-val" style="color:#16a34a">' + rs.filter(r => r.riskLevel === 'Low').length + '</div><div class="stat-lbl">Low</div></div><div class="stat"><div class="stat-val">' + rs.filter(r => r.status === 'Open').length + '</div><div class="stat-lbl">Open</div></div></div><table><thead><tr><th>Package</th><th>Category</th><th>Risk</th><th>Level</th><th>Status</th><th>Mitigation</th><th>Owner</th></tr></thead><tbody>' + rs.map(r => { const pkg = packages.find(p => p.id === r.packageId); return '<tr><td>' + (pkg?.packageName || '-') + '</td><td>' + r.category + '</td><td>' + r.riskDescription + '</td><td><span class="badge badge-' + (r.riskLevel === 'Critical' ? 'critical' : r.riskLevel === 'Medium' ? 'warning' : 'success') + '">' + r.riskLevel + '</span></td><td>' + r.status + '</td><td style="max-width:200px;font-size:10px;">' + r.mitigation + '</td><td>' + r.owner + '</td></tr>'; }).join('') + '</tbody></table>' : '<div class="stats"><div class="stat"><div class="stat-val">' + s.total + '</div><div class="stat-lbl">Total Packages</div></div><div class="stat"><div class="stat-val">' + s.poIssued + '</div><div class="stat-lbl">PO Issued</div></div><div class="stat"><div class="stat-val">' + s.criticalCount + '</div><div class="stat-lbl">Critical Items</div></div><div class="stat"><div class="stat-val">' + s.avgProgress + '%</div><div class="stat-lbl">Avg Progress</div></div></div><table><thead><tr><th>Package</th><th>Discipline</th><th>Vendor</th><th>COO</th><th>PO Status</th><th>Mfg Progress</th><th>Delivery</th></tr></thead><tbody>' + pkgs.map(p => '<tr><td><strong>' + p.packageName + '</strong><br><small>' + p.rfqNo + '</small></td><td>' + p.discipline + '</td><td>' + (p.vendorName || '-') + '</td><td>' + (p.coo || '-') + '</td><td>' + (p.milestones.issuePO.actual ? '<span class="badge badge-success">Issued</span>' : '<span class="badge badge-warning">Pending</span>') + '</td><td>' + p.manufacture.actualProgress + '%</td><td>' + (p.delivery.planDate || '-') + '</td></tr>').join('') + '</tbody></table>') + '<div class="footer"><p>Generated by Procurement Management System</p><p>Confidential - Internal Use Only</p></div></body></html>');
            w.document.close();
            w.focus();
            setTimeout(() => w.print(), 500);
        }
        
        function exportToExcel(type) {
            closeExportDropdown();
            const proj = projects.find(p => p.id === selectedProject);
            const pkgs = getProjectPackages();
            const rs = getProjectRisks();
            const todayStr = new Date().toISOString().split('T')[0];
            
            // Load SheetJS dynamically if not present
            const doExport = () => {
                if (typeof XLSX === 'undefined') {
                    showNotification('Loading Excel library...', 'info');
                    const s = document.createElement('script');
                    s.src = 'https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js';
                    s.onload = () => buildAndDownloadXLSX();
                    s.onerror = () => { fallbackCSV(); };
                    document.head.appendChild(s);
                } else {
                    buildAndDownloadXLSX();
                }
            };
            
            const fallbackCSV = () => {
                // Fallback: single-sheet CSV if XLSX fails to load
                let csv = '\uFEFF';
                csv += 'Package Name,Discipline,Vendor,Plan Delivery,Actual Delivery,Plan On Site,Actual On Site,Status\n';
                pkgs.forEach(p => {
                    const d = p.delivery || {};
                    csv += ['"'+p.packageName+'"',p.discipline,'"'+(p.vendorName||'')+'"',d.planDelivery100||'',d.actualDelivery100||'',d.planMaterialAtSite100||'',d.actualMaterialAtSite100||'',''].join(',') + '\n';
                });
                const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a'); a.href = url;
                a.download = (proj?.name||'export').replace(/\s+/g,'_') + '_' + todayStr + '.csv';
                a.click(); URL.revokeObjectURL(url);
                showNotification('Exported as CSV (Excel library unavailable)', 'info');
            };
            
            const buildAndDownloadXLSX = () => {
                const wb = XLSX.utils.book_new();
                
                // ===== SHEET 1: Project (matching reference format) =====
                const projHeader = ['ID','Name','Owner','Contractor','Technology Provider','Contract Type',
                    'Contract Price','Payment Term','Start Date','Finish Date','LD Delay','LD Performance',
                    'Guarantee Power','Scope by Owner'];
                const projRow = [
                    proj?.id||'', proj?.name||'', proj?.owner||'', proj?.contractor||'',
                    proj?.technologyProvider||'', proj?.contractType||'', proj?.contractPrice||0,
                    proj?.paymentTerm||'', proj?.startDate||'', proj?.finishDate||'',
                    proj?.ldDelay||0, proj?.ldPerformance||0, proj?.guaranteePower||'', proj?.scopeByOwner||''
                ];
                const ws1 = XLSX.utils.aoa_to_sheet([projHeader, projRow]);
                ws1['!cols'] = [{wch:16},{wch:30},{wch:30},{wch:45},{wch:20},{wch:16},
                    {wch:14},{wch:18},{wch:12},{wch:12},{wch:10},{wch:12},{wch:12},{wch:30}];
                XLSX.utils.book_append_sheet(wb, ws1, 'Projects');
                
                // ===== SHEET 2: Packages (Complete - 58 columns matching reference) =====
                const pkgHeader = [
                    'ID','Project ID','Initiation','Discipline','Area','RFQ No','Package Name','Description','Contract No','Vendor Name','COO',
                    'Issue RFQ Plan','Issue RFQ Actual','Receive Quotation Plan','Receive Quotation Actual',
                    'Issue TBE Plan','Issue TBE Actual','Issue CBE Plan','Issue CBE Actual',
                    'Final Negotiation Plan','Final Negotiation Actual','Issue PO Plan','Issue PO Actual',
                    'KOM Plan','KOM Actual',
                    'Eng Required','Eng Plan Start','Eng Plan Finish','Eng Actual Start','Eng Actual Finish',
                    'Eng Status Date','Eng Plan Progress','Eng Actual Progress','Eng Remark',
                    'Mfg Plan Start','Mfg Plan Finish','Mfg Actual Start','Mfg Actual Finish',
                    'Mfg Status Date','Mfg Plan Progress','Mfg Actual Progress','Mfg Remark',
                    'Plan FAT','Actual FAT','FAT Result','FAT Remarks',
                    'Incoterm','Delivery Location','Plan Delivery 100','Actual Delivery 100',
                    'Shipping Status Date','Shipping Status Plan','Shipping Status',
                    'Plan Material at Site 100','Actual Material at Site 100',
                    'Material Status Date','Material at Site Plan','Material Received Actual'
                ];
                const pkgRows = pkgs.map((p) => {
                    const ms = p.milestones || {}, eng = p.engineering || {}, mf = p.manufacture || {}, d = p.delivery || {};
                    return [
                        p.id, p.projectId, p.initiation, p.discipline, p.area, p.rfqNo, p.packageName, p.description||'', p.contractNo||'', p.vendorName||'', p.coo||'',
                        ms.issueRFQ?.plan||'', ms.issueRFQ?.actual||'',
                        ms.receiveQuotation?.plan||'', ms.receiveQuotation?.actual||'',
                        ms.issueTBE?.plan||'', ms.issueTBE?.actual||'',
                        ms.issueCBE?.plan||'', ms.issueCBE?.actual||'',
                        ms.finalNegotiation?.plan||'', ms.finalNegotiation?.actual||'',
                        ms.issuePO?.plan||'', ms.issuePO?.actual||'',
                        ms.kom?.plan||'', ms.kom?.actual||'',
                        eng.required ? 'TRUE' : 'FALSE', eng.planStart||'', eng.planFinish||'', eng.actualStart||'', eng.actualFinish||'',
                        eng.statusDate||'', eng.planProgress ?? '', eng.actualProgress ?? '', eng.remark||'',
                        mf.planStart||'', mf.planFinish||'', mf.actualStart||'', mf.actualFinish||'',
                        mf.statusDate||'', mf.planProgress ?? '', mf.actualProgress ?? '', mf.remark||'',
                        mf.planFAT||'', mf.actualFAT||'', mf.fatResult||'', mf.fatRemarks||'',
                        d.incoterm||'', d.deliveryLocation||'', d.planDelivery100||'', d.actualDelivery100||'',
                        d.shippingStatusDate||'', d.shippingStatusPlan ?? '', d.shippingStatus ?? '',
                        d.planMaterialAtSite100||'', d.actualMaterialAtSite100||'',
                        d.materialStatusDate||'', d.materialAtSitePlan ?? '', d.materialReceivedActual ?? ''
                    ];
                });
                const ws2 = XLSX.utils.aoa_to_sheet([pkgHeader, ...pkgRows]);
                ws2['!cols'] = [
                    {wch:16},{wch:16},{wch:6},{wch:12},{wch:6},{wch:22},{wch:38},{wch:20},{wch:22},{wch:30},{wch:10},
                    ...Array(14).fill({wch:13}), // milestones (Issue RFQ to KOM)
                    {wch:8},...Array(8).fill({wch:13}), // engineering
                    ...Array(8).fill({wch:13}), // manufacture
                    {wch:13},{wch:13},{wch:14},{wch:20}, // FAT
                    {wch:8},{wch:16},{wch:13},{wch:13}, // delivery
                    {wch:13},{wch:10},{wch:10}, // shipping
                    {wch:13},{wch:13},{wch:13},{wch:10},{wch:10} // material
                ];
                ws2['!autofilter'] = { ref: 'A1:BF' + (pkgRows.length + 1) };
                XLSX.utils.book_append_sheet(wb, ws2, 'Packages');
                
                // ===== SHEET 3: Risk Analysis (matching reference format) =====
                const riskHeader = ['ID','Project ID','Package ID','Category','Risk Description',
                    'Probability','Impact','Risk Level','Status','Mitigation','Owner','Due Date',
                    'Is Auto Generated','Generated Date'];
                const riskRows = rs.map((r) => {
                    return [
                        r.id||'', r.projectId||'', r.packageId||'',
                        r.category, r.riskDescription,
                        r.probability, r.impact, r.riskLevel, r.status,
                        r.mitigation, r.owner, r.dueDate||'',
                        r.isAutoGenerated ? 'TRUE' : 'FALSE', r.generatedDate||''
                    ];
                });
                const ws3 = XLSX.utils.aoa_to_sheet([riskHeader, ...riskRows]);
                ws3['!cols'] = [{wch:16},{wch:16},{wch:16},{wch:18},{wch:50},
                    {wch:10},{wch:10},{wch:10},{wch:8},{wch:50},{wch:18},{wch:12},
                    {wch:14},{wch:22}];
                ws3['!autofilter'] = { ref: 'A1:N' + (riskRows.length + 1) };
                XLSX.utils.book_append_sheet(wb, ws3, 'Risks');
                
                // Download
                const fileName = (proj?.name||'Procurement').replace(/\s+/g,'_') + '_Export_' + todayStr + '.xlsx';
                XLSX.writeFile(wb, fileName);
                showNotification('Exported to Excel (.xlsx) with 3 sheets: Projects, Packages (58 cols), Risks', 'success');
            };
            
            doExport();
        }
        
        // Legacy function for backward compatibility
        function exportPDF() {
            toggleExportDropdown();
        }
        
        // ===== DATA EXPORT/IMPORT FUNCTIONS =====
        
        // Variable to store imported data temporarily
        let pendingImportData = null;
        
        // Toggle Data Dropdown
        function toggleDataDropdown() {
            const dropdown = document.getElementById('dataDropdown');
            const exportDropdown = document.getElementById('exportDropdown');
            
            // Close export dropdown if open
            if (exportDropdown) exportDropdown.classList.remove('show');
            
            dropdown.classList.toggle('show');
        }
        
        // Close Data Dropdown
        function closeDataDropdown() {
            const dropdown = document.getElementById('dataDropdown');
            if (dropdown) dropdown.classList.remove('show');
        }
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function(e) {
            const dataDropdown = document.getElementById('dataDropdown');
            const dataBtn = e.target.closest('.data-dropdown');
            if (!dataBtn && dataDropdown) {
                dataDropdown.classList.remove('show');
            }
        });
        
        // Export All Data to JSON
        function exportAllData() {
            closeDataDropdown();
            
            try {
                const exportData = {
                    version: '1.2',
                    exportDate: new Date().toISOString(),
                    exportType: 'full',
                    application: 'Procurement Management System',
                    data: {
                        projects: projects,
                        packages: packages,
                        risks: risks,
                        weightFactors: weightFactors,
                        selectedProject: selectedProject
                    }
                };
                
                const dataStr = JSON.stringify(exportData, null, 2);
                const blob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                
                const link = document.createElement('a');
                link.href = url;
                link.download = 'procurement_data_backup_' + new Date().toISOString().split('T')[0] + '.json';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);
                
                showNotification('All data exported successfully!', 'success');
            } catch (error) {
                console.error('Export Error:', error);
                showNotification('Error exporting data: ' + error.message, 'danger');
            }
        }
        
        // Export Current Project Data to JSON
        function exportProjectData() {
            closeDataDropdown();
            
            try {
                const currentProject = projects.find(p => p.id === selectedProject);
                if (!currentProject) {
                    showNotification('No project selected!', 'warning');
                    return;
                }
                
                const projectPackages = packages.filter(p => p.projectId === selectedProject);
                const projectRisks = risks.filter(r => r.projectId === selectedProject);
                
                const exportData = {
                    version: '1.2',
                    exportDate: new Date().toISOString(),
                    exportType: 'project',
                    application: 'Procurement Management System',
                    data: {
                        projects: [currentProject],
                        packages: projectPackages,
                        risks: projectRisks,
                        weightFactors: weightFactors
                    }
                };
                
                const dataStr = JSON.stringify(exportData, null, 2);
                const blob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                
                const projectName = currentProject.name.replace(/[^a-z0-9]/gi, '_').substring(0, 30);
                const link = document.createElement('a');
                link.href = url;
                link.download = 'procurement_project_' + projectName + '_' + new Date().toISOString().split('T')[0] + '.json';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);
                
                showNotification('Project data exported successfully!', 'success');
            } catch (error) {
                console.error('Export Error:', error);
                showNotification('Error exporting project data: ' + error.message, 'danger');
            }
        }
        
        // Open Import Modal
        function openImportModal() {
            closeDataDropdown();
            pendingImportData = null;
            
            // Reset file input and preview
            document.getElementById('importFileInput').value = '';
            document.getElementById('importFileInfo').style.display = 'none';
            document.getElementById('importPreview').classList.remove('show');
            document.getElementById('importConfirmBtn').disabled = true;
            document.getElementById('importZone').style.display = 'block';
            
            document.getElementById('importModal').classList.add('active');
        }
        
        // Close Import Modal
        function closeImportModal() {
            document.getElementById('importModal').classList.remove('active');
            pendingImportData = null;
        }
        
        // Handle File Selection
        function handleImportFile(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            // Check file type
            if (!file.name.endsWith('.json')) {
                showNotification('Please select a JSON file!', 'warning');
                return;
            }
            
            // Show file info
            document.getElementById('importFileName').textContent = file.name;
            document.getElementById('importFileSize').textContent = formatFileSize(file.size);
            document.getElementById('importFileInfo').style.display = 'flex';
            document.getElementById('importZone').style.display = 'none';
            
            // Read file
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = JSON.parse(e.target.result);
                    
                    // Validate data structure
                    if (!validateImportData(data)) {
                        showNotification('Invalid data format! Please check the file.', 'danger');
                        removeImportFile();
                        return;
                    }
                    
                    pendingImportData = data;
                    
                    // Show preview
                    const projectCount = data.data?.projects?.length || 0;
                    const packageCount = data.data?.packages?.length || 0;
                    const riskCount = data.data?.risks?.length || 0;
                    
                    document.getElementById('importProjectCount').textContent = projectCount;
                    document.getElementById('importPackageCount').textContent = packageCount;
                    document.getElementById('importRiskCount').textContent = riskCount;
                    
                    document.getElementById('importPreview').classList.add('show');
                    document.getElementById('importConfirmBtn').disabled = false;
                    
                } catch (error) {
                    console.error('Parse Error:', error);
                    showNotification('Error reading file: Invalid JSON format!', 'danger');
                    removeImportFile();
                }
            };
            reader.readAsText(file);
        }
        
        // Format file size
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        // Validate import data structure
        function validateImportData(data) {
            // Check basic structure
            if (!data || typeof data !== 'object') return false;
            if (!data.data || typeof data.data !== 'object') return false;
            
            // Must have at least one of: projects, packages, or risks
            const hasProjects = Array.isArray(data.data.projects);
            const hasPackages = Array.isArray(data.data.packages);
            const hasRisks = Array.isArray(data.data.risks);
            
            if (!hasProjects && !hasPackages && !hasRisks) return false;
            
            // Validate projects structure
            if (hasProjects && data.data.projects.length > 0) {
                const proj = data.data.projects[0];
                if (typeof proj.id === 'undefined' || typeof proj.name === 'undefined') return false;
            }
            
            // Validate packages structure
            if (hasPackages && data.data.packages.length > 0) {
                const pkg = data.data.packages[0];
                if (typeof pkg.id === 'undefined' || typeof pkg.projectId === 'undefined') return false;
            }
            
            return true;
        }
        
        // Remove imported file
        function removeImportFile() {
            document.getElementById('importFileInput').value = '';
            document.getElementById('importFileInfo').style.display = 'none';
            document.getElementById('importPreview').classList.remove('show');
            document.getElementById('importConfirmBtn').disabled = true;
            document.getElementById('importZone').style.display = 'block';
            pendingImportData = null;
        }
        
        // Confirm Import
        function confirmImport() {
            if (!pendingImportData) {
                showNotification('No data to import!', 'warning');
                return;
            }
            
            const importMode = document.querySelector('input[name="importMode"]:checked').value;
            
            const confirmMsg = importMode === 'replace' 
                ? 'This will DELETE all existing data and replace with imported data. Continue?'
                : 'This will ADD imported data to existing data. This may create duplicate entries. Continue?';
            
            if (!confirm(confirmMsg)) return;
            
            try {
                if (importMode === 'replace') {
                    // Replace all data
                    projects = pendingImportData.data.projects || [];
                    packages = pendingImportData.data.packages || [];
                    risks = pendingImportData.data.risks || [];
                    
                    if (pendingImportData.data.weightFactors) {
                        weightFactors = pendingImportData.data.weightFactors;
                    }
                    
                    // Set selected project to first available
                    selectedProject = projects.length > 0 ? projects[0].id : null;
                    
                } else {
                    // Merge data
                    const importedProjects = pendingImportData.data.projects || [];
                    const importedPackages = pendingImportData.data.packages || [];
                    const importedRisks = pendingImportData.data.risks || [];
                    
                    // Generate new IDs to avoid conflicts
                    const maxProjectId = Math.max(0, ...projects.map(p => p.id));
                    const maxPackageId = Math.max(0, ...packages.map(p => p.id));
                    const maxRiskId = Math.max(0, ...risks.map(r => r.id));
                    
                    // Create ID mapping for projects
                    const projectIdMap = {};
                    importedProjects.forEach((proj, index) => {
                        const oldId = proj.id;
                        const newId = maxProjectId + index + 1;
                        projectIdMap[oldId] = newId;
                        proj.id = newId;
                        projects.push(proj);
                    });
                    
                    // Create ID mapping for packages and update project references
                    const packageIdMap = {};
                    importedPackages.forEach((pkg, index) => {
                        const oldId = pkg.id;
                        const newId = maxPackageId + index + 1;
                        packageIdMap[oldId] = newId;
                        pkg.id = newId;
                        // Update project reference
                        if (projectIdMap[pkg.projectId]) {
                            pkg.projectId = projectIdMap[pkg.projectId];
                        }
                        packages.push(pkg);
                    });
                    
                    // Update risks with new IDs and references
                    importedRisks.forEach((risk, index) => {
                        risk.id = maxRiskId + index + 1;
                        // Update project reference
                        if (projectIdMap[risk.projectId]) {
                            risk.projectId = projectIdMap[risk.projectId];
                        }
                        // Update package reference
                        if (packageIdMap[risk.packageId]) {
                            risk.packageId = packageIdMap[risk.packageId];
                        }
                        risks.push(risk);
                    });
                    
                    // If weight factors provided and current is default, update
                    if (pendingImportData.data.weightFactors) {
                        // Optionally merge weight factors (user preference)
                        // weightFactors = pendingImportData.data.weightFactors;
                    }
                }
                
                // Save to localStorage
                saveAllData();
                
                // Refresh UI
                populateSelects();
                renderAll();
                
                // Close modal
                closeImportModal();
                
                const importCount = (pendingImportData.data.projects?.length || 0) + 
                                   (pendingImportData.data.packages?.length || 0) + 
                                   (pendingImportData.data.risks?.length || 0);
                
                showNotification(`Data imported successfully! (${importCount} items)`, 'success');
                
            } catch (error) {
                console.error('Import Error:', error);
                showNotification('Error importing data: ' + error.message, 'danger');
            }
        }
        
        // Setup drag and drop for import zone
        document.addEventListener('DOMContentLoaded', function() {
            const importZone = document.getElementById('importZone');
            if (importZone) {
                importZone.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.classList.add('dragover');
                });
                
                importZone.addEventListener('dragleave', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.classList.remove('dragover');
                });
                
                importZone.addEventListener('drop', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    this.classList.remove('dragover');
                    
                    const files = e.dataTransfer.files;
                    if (files.length > 0) {
                        const fileInput = document.getElementById('importFileInput');
                        fileInput.files = files;
                        handleImportFile({ target: fileInput });
                    }
                });
            }
        });
        
        // Keep packages sticky header positioned correctly on resize
        window.addEventListener('resize', function() {
            const gh = document.querySelector('.header');
            const sh = document.getElementById('pkgStickyHeader');
            if (gh && sh) sh.style.top = gh.offsetHeight + 'px';
        });
    
        // ========================================
        // SCHEDULE TAB - GANTT CHART FUNCTIONS
        // ========================================
        
        function renderScheduleGantt() {
            const view = document.getElementById('scheduleViewFilter').value;
            const discipline = document.getElementById('scheduleDisciplineFilter').value;
            const status = document.getElementById('scheduleStatusFilter').value;
            
            let filteredPackages = packages.filter(p => p.projectId === selectedProject);
            if (discipline !== 'all') filteredPackages = filteredPackages.filter(p => p.discipline === discipline);
            
            // View-aware status filter
            if (status !== 'all') {
                filteredPackages = filteredPackages.filter(p => {
                    const delivery = p.delivery || {}, manufacture = p.manufacture || {};
                    const today = new Date().toISOString().split('T')[0];
                    if (status === 'completed') {
                        if (view === 'fat') return !!manufacture.actualFAT;
                        if (view === 'delivery') return !!delivery.actualDelivery100;
                        if (view === 'material') return !!delivery.actualMaterialAtSite100;
                        return delivery.actualDelivery100 && delivery.actualMaterialAtSite100;
                    } else if (status === 'delayed') {
                        const dd = delivery.planDelivery100 && delivery.planDelivery100 < today && !delivery.actualDelivery100;
                        const ds = delivery.planMaterialAtSite100 && delivery.planMaterialAtSite100 < today && !delivery.actualMaterialAtSite100;
                        const df = manufacture.planFAT && manufacture.planFAT < today && !manufacture.actualFAT;
                        if (view === 'fat') return df; if (view === 'delivery') return dd; if (view === 'material') return ds;
                        return dd || ds || df;
                    } else if (status === 'ongoing') {
                        if (view === 'fat') return manufacture.planFAT && !manufacture.actualFAT;
                        if (view === 'delivery') return delivery.planDelivery100 && !delivery.actualDelivery100;
                        if (view === 'material') return delivery.planMaterialAtSite100 && !delivery.actualMaterialAtSite100;
                        return (delivery.planDelivery100 && !delivery.actualDelivery100) || (delivery.planMaterialAtSite100 && !delivery.actualMaterialAtSite100);
                    } else if (status === 'upcoming') {
                        if (view === 'fat') return manufacture.planFAT && manufacture.planFAT > today;
                        if (view === 'delivery') return delivery.planDelivery100 && delivery.planDelivery100 > today;
                        if (view === 'material') return delivery.planMaterialAtSite100 && delivery.planMaterialAtSite100 > today;
                        return delivery.planDelivery100 && delivery.planDelivery100 > today;
                    }
                    return true;
                });
            }
            
            filteredPackages.sort((a, b) => {
                const dA = view === 'fat' ? (a.manufacture?.planFAT || '9999') : (a.delivery?.planDelivery100 || '9999');
                const dB = view === 'fat' ? (b.manufacture?.planFAT || '9999') : (b.delivery?.planDelivery100 || '9999');
                return dA.localeCompare(dB);
            });
            
            if (filteredPackages.length === 0) {
                document.getElementById('ganttChartContainer').innerHTML = '<div style="text-align:center;padding:3rem;color:#64748b;">No schedule data available for selected filters</div>';
                updateScheduleStats(); return;
            }
            
            // Collect date range
            const allDates = [];
            filteredPackages.forEach(p => {
                const d = p.delivery || {}, m = p.manufacture || {};
                if (view === 'all' || view === 'delivery') { if (d.planDelivery100) allDates.push(new Date(d.planDelivery100)); if (d.actualDelivery100) allDates.push(new Date(d.actualDelivery100)); }
                if (view === 'all' || view === 'material') { if (d.planMaterialAtSite100) allDates.push(new Date(d.planMaterialAtSite100)); if (d.actualMaterialAtSite100) allDates.push(new Date(d.actualMaterialAtSite100)); }
                if (view === 'all' || view === 'fat') { if (m.planFAT) allDates.push(new Date(m.planFAT)); if (m.actualFAT) allDates.push(new Date(m.actualFAT)); }
            });
            if (allDates.length === 0) {
                document.getElementById('ganttChartContainer').innerHTML = '<div style="text-align:center;padding:3rem;color:#64748b;">No schedule data available</div>';
                updateScheduleStats(); return;
            }
            
            const minDate = new Date(Math.min(...allDates));
            const maxDate = new Date(Math.max(...allDates));
            minDate.setMonth(minDate.getMonth() - 1); minDate.setDate(1);
            maxDate.setMonth(maxDate.getMonth() + 2); maxDate.setDate(1);
            
            const formatDate = (dateStr) => {
                if (!dateStr) return '';
                const date = new Date(dateStr);
                return String(date.getDate()).padStart(2,'0') + '-' + date.toLocaleString('en-US',{month:'short'}) + '-' + String(date.getFullYear()).slice(-2);
            };
            
            // Build months
            const months = [];
            const cd = new Date(minDate);
            while (cd <= maxDate) {
                months.push({ year: cd.getFullYear(), month: cd.getMonth(), label: cd.toLocaleString('en-US',{month:'short',year:'numeric'}), firstDay: new Date(cd.getFullYear(), cd.getMonth(), 1), daysInMonth: new Date(cd.getFullYear(), cd.getMonth()+1, 0).getDate() });
                cd.setMonth(cd.getMonth() + 1);
            }
            
            const dayWidth = 3;
            const rowHeight = 60;
            const leftColW = 300;
            const totalDays = Math.ceil((maxDate - minDate) / 86400000);
            const chartWidth = totalDays * dayWidth;
            const today = new Date();
            const todayStr = today.toISOString().split('T')[0];
            const todayOffset = Math.floor((today - minDate) / 86400000) * dayWidth;
            
            // Helper: date to px offset from timeline start
            const dateToPx = (ds) => { if (!ds) return null; return Math.floor((new Date(ds) - minDate) / 86400000) * dayWidth; };
            
            // ===== BUILD TABLE-BASED GANTT (supports <thead> repeat in print) =====
            let html = '<table class="gantt-tbl" style="border-collapse:collapse;min-width:' + (chartWidth + leftColW) + 'px;border:1px solid #334155;border-radius:8px;">';
            
            // THEAD - Package Name header + month columns
            html += '<thead><tr>';
            html += '<th class="gantt-pkg-th" style="width:'+leftColW+'px;min-width:'+leftColW+'px;height:50px;background:rgba(15,23,42,0.95);border-bottom:2px solid #475569;border-right:2px solid #475569;color:white;font-weight:700;font-size:0.85rem;text-align:center;position:sticky;left:0;z-index:20;padding:0.5rem;"><span style="color:#94a3b8;font-size:0.7rem;margin-right:0.4rem;">#</span>PACKAGE NAME <span style="font-size:0.7rem;color:#64748b;font-weight:400;">('+filteredPackages.length+')</span></th>';
            months.forEach(m => {
                const mw = m.daysInMonth * dayWidth;
                html += '<th style="min-width:'+mw+'px;width:'+mw+'px;background:rgba(15,23,42,0.95);border-bottom:2px solid #475569;border-right:1px solid #475569;padding:0.4rem;text-align:center;vertical-align:middle;">' +
                    '<div style="font-size:0.75rem;font-weight:700;color:#14b8a6;">' + m.label.split(' ')[0] + '</div>' +
                    '<div style="font-size:0.65rem;color:#94a3b8;">' + m.label.split(' ')[1] + '</div></th>';
            });
            html += '</tr></thead>';
            
            // TBODY - Rows
            html += '<tbody>';
            filteredPackages.forEach((pkg, index) => {
                const delivery = pkg.delivery || {};
                const manufacture = pkg.manufacture || {};
                const bgColor = index % 2 === 0 ? 'rgba(30,41,59,0.5)' : 'rgba(15,23,42,0.5)';
                
                html += '<tr>';
                // Package name cell (sticky left)
                html += '<td class="gantt-pkg-td" style="width:'+leftColW+'px;min-width:'+leftColW+'px;height:'+rowHeight+'px;padding:0.5rem 0.75rem;border-bottom:1px solid #334155;border-right:2px solid #475569;background:'+bgColor+';position:sticky;left:0;z-index:5;">' +
                    '<div style="display:flex;align-items:flex-start;gap:0.4rem;">' +
                    '<span style="flex-shrink:0;min-width:1.4rem;height:1.4rem;background:#1e3a5f;color:#60a5fa;font-size:0.65rem;font-weight:700;border-radius:3px;display:flex;align-items:center;justify-content:center;margin-top:1px;border:1px solid #2563eb;">'+(index+1)+'</span>' +
                    '<div style="min-width:0;">' +
                    '<div style="font-size:0.82rem;font-weight:600;color:#e2e8f0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:0.2rem;" title="'+pkg.packageName+'">' + pkg.packageName + '</div>' +
                    '<div style="font-size:0.68rem;color:#94a3b8;">' + (pkg.discipline||'N/A') + '  ' + (pkg.vendorName||'N/A') + '</div>' +
                    '</div></div></td>';
                
                // Timeline cell: one merged cell spanning all months
                html += '<td colspan="'+months.length+'" style="padding:0;height:'+rowHeight+'px;border-bottom:1px solid #334155;background:'+bgColor+';position:relative;overflow:visible;">';
                
                // Month grid lines
                let mx = 0;
                months.forEach((m, mi) => {
                    const mw = m.daysInMonth * dayWidth;
                    const lc = mi % 2 === 0 ? '#334155' : '#1e293b';
                    html += '<div style="position:absolute;left:'+mx+'px;top:0;bottom:0;width:'+mw+'px;background:'+lc+';opacity:0.3;border-right:1px solid #475569;"></div>';
                    mx += mw;
                });
                
                // Today marker
                if (todayOffset >= 0 && todayOffset <= chartWidth) {
                    html += '<div style="position:absolute;left:'+todayOffset+'px;top:0;bottom:0;width:2px;background:#f59e0b;z-index:8;"></div>';
                }
                
                // Triangle helper
                const tri = (dateStr, color, label, yOff) => {
                    if (!dateStr) return '';
                    const px = dateToPx(dateStr);
                    if (px === null) return '';
                    const fd = formatDate(dateStr);
                    return '<div style="position:absolute;top:'+yOff+'px;left:'+(px-6)+'px;display:flex;align-items:center;z-index:5;">' +
                        '<div style="width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:12px solid '+color+';cursor:pointer;filter:drop-shadow(0 2px 3px rgba(0,0,0,0.4));" title="'+label+': '+dateStr+'"></div>' +
                        '<div style="margin-left:10px;font-size:0.7rem;color:#94a3b8;white-space:nowrap;font-weight:500;text-shadow:1px 1px 2px rgba(0,0,0,0.8);">'+fd+'</div></div>';
                };
                const bar = (sd, ed, color, label, yOff) => {
                    if (!sd) return '';
                    const s = dateToPx(sd), e = dateToPx(ed || todayStr);
                    if (s === null) return '';
                    const w = Math.max((e||todayOffset) - s, 5);
                    return '<div style="position:absolute;top:'+yOff+'px;left:'+s+'px;width:'+w+'px;height:8px;background:'+color+';border-radius:2px;z-index:4;opacity:0.7;" title="'+label+'"></div>';
                };
                
                if (view === 'all') {
                    html += tri(delivery.planDelivery100, '#06b6d4', 'Plan Delivery', 5);
                    html += tri(delivery.actualDelivery100, '#14b8a6', 'Actual Delivery', 5);
                    html += tri(delivery.planMaterialAtSite100, '#8b5cf6', 'Plan Material On Site', 22);
                    html += tri(delivery.actualMaterialAtSite100, '#a855f7', 'Actual Material On Site', 22);
                    html += tri(manufacture.planFAT, '#f59e0b', 'Plan FAT', 39);
                    html += tri(manufacture.actualFAT, '#10b981', 'Actual FAT', 39);
                    if (delivery.planDelivery100 && !delivery.actualDelivery100 && new Date(delivery.planDelivery100) < today)
                        html += bar(delivery.planDelivery100, todayStr, '#ef4444', 'Delivery Delayed', 52);
                } else if (view === 'delivery') {
                    html += tri(delivery.planDelivery100, '#06b6d4', 'Plan Delivery', 8);
                    html += tri(delivery.actualDelivery100, '#14b8a6', 'Actual Delivery', 8);
                    if (delivery.planDelivery100 && !delivery.actualDelivery100 && new Date(delivery.planDelivery100) < today)
                        html += bar(delivery.planDelivery100, todayStr, '#ef4444', 'Delayed', 48);
                } else if (view === 'material') {
                    html += tri(delivery.planMaterialAtSite100, '#8b5cf6', 'Plan Material On Site', 8);
                    html += tri(delivery.actualMaterialAtSite100, '#a855f7', 'Actual Material On Site', 8);
                } else if (view === 'fat') {
                    html += tri(manufacture.planFAT, '#f59e0b', 'Plan FAT', 8);
                    html += tri(manufacture.actualFAT, '#10b981', 'Actual FAT', 8);
                    if (manufacture.planFAT && !manufacture.actualFAT && new Date(manufacture.planFAT) < today)
                        html += bar(manufacture.planFAT, todayStr, '#ef4444', 'FAT Delayed', 32);
                }
                
                html += '</td></tr>';
            });
            html += '</tbody></table>';
            
            // Add today label overlay
            if (todayOffset >= 0 && todayOffset <= chartWidth) {
                html += '<div style="position:relative;height:0;"><div style="position:absolute;top:-'+(filteredPackages.length * rowHeight + 55)+'px;left:'+(leftColW + todayOffset - 25)+'px;width:50px;text-align:center;font-size:0.65rem;color:#f59e0b;font-weight:700;background:rgba(15,23,42,0.9);padding:0.15rem;border-radius:4px;border:1px solid #f59e0b;z-index:25;">TODAY</div></div>';
            }
            
            document.getElementById('ganttChartContainer').innerHTML = html;
            
            // Update statistics
            updateScheduleStats();
        }
        
        function updateScheduleStats() {
            const pkgs = packages.filter(p => p.projectId === selectedProject);
            const today = new Date().toISOString().split('T')[0];
            
            let inTransit = 0;
            let onSite = 0;
            let delayed = 0;
            
            pkgs.forEach(p => {
                const delivery = p.delivery || {};
                
                // In transit: delivery done but not on site yet
                if (delivery.actualDelivery100 && !delivery.actualMaterialAtSite100) {
                    inTransit++;
                }
                
                // On site: material received at site
                if (delivery.actualMaterialAtSite100) {
                    onSite++;
                }
                
                // Delayed: plan date passed but not completed
                if ((delivery.planDelivery100 && delivery.planDelivery100 < today && !delivery.actualDelivery100) ||
                    (delivery.planMaterialAtSite100 && delivery.planMaterialAtSite100 < today && !delivery.actualMaterialAtSite100)) {
                    delayed++;
                }
            });
            
            document.getElementById('schedTotalPackages').textContent = pkgs.length;
            document.getElementById('schedInTransit').textContent = inTransit;
            document.getElementById('schedOnSite').textContent = onSite;
            document.getElementById('schedDelayed').textContent = delayed;
        }
        
        function populateScheduleFilters() {
            // Get all unique disciplines from packages
            const allPackages = packages.filter(p => p.projectId === selectedProject);
            const disciplines = [...new Set(allPackages.map(p => p.discipline).filter(d => d))].sort();
            
            const disciplineSelect = document.getElementById('scheduleDisciplineFilter');
            disciplineSelect.innerHTML = '<option value="all">All Disciplines</option>';
            
            disciplines.forEach(d => {
                disciplineSelect.innerHTML += `<option value="${d}">${d}</option>`;
            });
            
            console.log('Populated disciplines:', disciplines);
        }
        
        // ========================================
        // INQUIRY PLAN TAB - GANTT CHART FUNCTIONS
        // ========================================
        
        function populateInquiryFilters() {
            const allPkgs = packages.filter(p => p.projectId === selectedProject);
            const discs = [...new Set(allPkgs.map(p => p.discipline).filter(Boolean))].sort();
            const sel = document.getElementById('inquiryDisciplineFilter');
            sel.innerHTML = '<option value="all">All Disciplines</option>';
            discs.forEach(d => { sel.innerHTML += '<option value="'+d+'">'+d+'</option>'; });
        }
        
        function renderInquiryGantt() {
            const view = document.getElementById('inquiryViewFilter').value;
            const discipline = document.getElementById('inquiryDisciplineFilter').value;
            const status = document.getElementById('inquiryStatusFilter').value;
            const todayStr = new Date().toISOString().split('T')[0];
            const today = new Date();
            
            // Milestone definitions: key, plan color, label
            const mileDefs = [
                { key: 'issueRFQ', color: '#06b6d4', label: 'Issue RFQ' },
                { key: 'receiveQuotation', color: '#8b5cf6', label: 'Recv Quotation' },
                { key: 'issueTBE', color: '#f59e0b', label: 'Issue TBE' },
                { key: 'issueCBE', color: '#f97316', label: 'Issue CBE' },
                { key: 'finalNegotiation', color: '#ec4899', label: 'Final Negotiation' },
                { key: 'issuePO', color: '#10b981', label: 'Issue PO' },
                { key: 'kom', color: '#3b82f6', label: 'KOM' },
            ];
            
            let filtered = packages.filter(p => p.projectId === selectedProject);
            if (discipline !== 'all') filtered = filtered.filter(p => p.discipline === discipline);
            
            // Status filter (view-aware)
            if (status !== 'all') {
                filtered = filtered.filter(p => {
                    const ms = p.milestones || {};
                    if (view === 'all') {
                        // Check the last milestone in sequence (issuePO)
                        const po = ms.issuePO || {};
                        if (status === 'completed') return !!po.actual;
                        if (status === 'delayed') return po.plan && po.plan < todayStr && !po.actual;
                        if (status === 'ongoing') return !po.actual; // includes packages with no plan date yet
                        if (status === 'upcoming') return po.plan && po.plan > todayStr;
                    } else {
                        const m = ms[view] || {};
                        if (status === 'completed') return !!m.actual;
                        if (status === 'delayed') return m.plan && m.plan < todayStr && !m.actual;
                        if (status === 'ongoing') return !m.actual; // includes packages with no plan date yet
                        if (status === 'upcoming') return m.plan && m.plan > todayStr;
                    }
                    return true;
                });
            }
            
            // Sort by earliest plan date
            filtered.sort((a, b) => {
                const getEarliest = (p) => {
                    const ms = p.milestones || {};
                    if (view !== 'all') return ms[view]?.plan || '9999';
                    for (const md of mileDefs) { if (ms[md.key]?.plan) return ms[md.key].plan; }
                    return '9999';
                };
                return getEarliest(a).localeCompare(getEarliest(b));
            });
            
            if (filtered.length === 0) {
                document.getElementById('inquiryGanttContainer').innerHTML = '<div style="text-align:center;padding:3rem;color:#64748b;">No data available for selected filters</div>';
                updateInquiryStats([]); return;
            }
            
            // Collect date range (include today as fallback for packages with no dates)
            const allDates = [today];
            filtered.forEach(p => {
                const ms = p.milestones || {};
                const keys = view === 'all' ? mileDefs.map(m => m.key) : [view];
                keys.forEach(k => {
                    if (ms[k]?.plan) allDates.push(new Date(ms[k].plan));
                    if (ms[k]?.actual) allDates.push(new Date(ms[k].actual));
                });
            });
            
            const minDate = new Date(Math.min(...allDates));
            const maxDate = new Date(Math.max(...allDates));
            minDate.setMonth(minDate.getMonth() - 1); minDate.setDate(1);
            maxDate.setMonth(maxDate.getMonth() + 2); maxDate.setDate(1);
            
            const formatDate = (ds) => {
                if (!ds) return '';
                const d = new Date(ds);
                return String(d.getDate()).padStart(2,'0') + '-' + d.toLocaleString('en-US',{month:'short'}) + '-' + String(d.getFullYear()).slice(-2);
            };
            
            // Build months
            const months = [];
            const cd = new Date(minDate);
            while (cd <= maxDate) {
                months.push({ year: cd.getFullYear(), month: cd.getMonth(), label: cd.toLocaleString('en-US',{month:'short',year:'numeric'}), daysInMonth: new Date(cd.getFullYear(), cd.getMonth()+1, 0).getDate() });
                cd.setMonth(cd.getMonth() + 1);
            }
            
            const dayWidth = 3;
            const rowHeight = view === 'all' ? 90 : 60;
            const leftColW = 300;
            const totalDays = Math.ceil((maxDate - minDate) / 86400000);
            const chartWidth = totalDays * dayWidth;
            const todayOffset = Math.floor((today - minDate) / 86400000) * dayWidth;
            const dateToPx = (ds) => { if (!ds) return null; return Math.floor((new Date(ds) - minDate) / 86400000) * dayWidth; };
            
            // Build TABLE
            let html = '<table class="gantt-tbl" style="border-collapse:collapse;min-width:'+(chartWidth + leftColW)+'px;border:1px solid #334155;border-radius:8px;">';
            
            // THEAD
            html += '<thead><tr>';
            html += '<th class="gantt-pkg-th" style="width:'+leftColW+'px;min-width:'+leftColW+'px;height:50px;background:rgba(15,23,42,0.95);border-bottom:2px solid #475569;border-right:2px solid #475569;color:white;font-weight:700;font-size:0.85rem;text-align:center;position:sticky;left:0;z-index:20;padding:0.5rem;"><span style="color:#94a3b8;font-size:0.7rem;margin-right:0.4rem;">#</span>PACKAGE NAME <span style="font-size:0.7rem;color:#64748b;font-weight:400;">('+filtered.length+')</span></th>';
            months.forEach(m => {
                const mw = m.daysInMonth * dayWidth;
                html += '<th style="min-width:'+mw+'px;width:'+mw+'px;background:rgba(15,23,42,0.95);border-bottom:2px solid #475569;border-right:1px solid #475569;padding:0.4rem;text-align:center;vertical-align:middle;">' +
                    '<div style="font-size:0.75rem;font-weight:700;color:#14b8a6;">'+m.label.split(' ')[0]+'</div>' +
                    '<div style="font-size:0.65rem;color:#94a3b8;">'+m.label.split(' ')[1]+'</div></th>';
            });
            html += '</tr></thead><tbody>';
            
            // TBODY
            filtered.forEach((pkg, index) => {
                const ms = pkg.milestones || {};
                const bgColor = index % 2 === 0 ? 'rgba(30,41,59,0.5)' : 'rgba(15,23,42,0.5)';
                
                html += '<tr>';
                html += '<td class="gantt-pkg-td" style="width:'+leftColW+'px;min-width:'+leftColW+'px;height:'+rowHeight+'px;padding:0.5rem 0.75rem;border-bottom:1px solid #334155;border-right:2px solid #475569;background:'+bgColor+';position:sticky;left:0;z-index:5;">' +
                    '<div style="display:flex;align-items:flex-start;gap:0.4rem;">' +
                    '<span style="flex-shrink:0;min-width:1.4rem;height:1.4rem;background:#1e3a5f;color:#60a5fa;font-size:0.65rem;font-weight:700;border-radius:3px;display:flex;align-items:center;justify-content:center;margin-top:1px;border:1px solid #2563eb;">'+(index+1)+'</span>' +
                    '<div style="min-width:0;">' +
                    '<div style="font-size:0.82rem;font-weight:600;color:#e2e8f0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:0.2rem;" title="'+pkg.packageName+'">'+pkg.packageName+'</div>' +
                    '<div style="font-size:0.68rem;color:#94a3b8;">'+(pkg.discipline||'N/A')+'  '+(pkg.vendorName||'N/A')+'</div>' +
                    '</div></div></td>';
                
                html += '<td colspan="'+months.length+'" style="padding:0;height:'+rowHeight+'px;border-bottom:1px solid #334155;background:'+bgColor+';position:relative;overflow:visible;">';
                
                // Grid lines
                let mx = 0;
                months.forEach((m, mi) => {
                    const mw = m.daysInMonth * dayWidth;
                    html += '<div style="position:absolute;left:'+mx+'px;top:0;bottom:0;width:'+mw+'px;background:'+(mi%2===0?'#334155':'#1e293b')+';opacity:0.3;border-right:1px solid #475569;"></div>';
                    mx += mw;
                });
                
                // Today marker
                if (todayOffset >= 0 && todayOffset <= chartWidth) {
                    html += '<div style="position:absolute;left:'+todayOffset+'px;top:0;bottom:0;width:2px;background:#f59e0b;z-index:8;"></div>';
                }
                
                // Triangle helper
                const tri = (ds, color, label, yOff) => {
                    if (!ds) return '';
                    const px = dateToPx(ds);
                    if (px === null) return '';
                    return '<div style="position:absolute;top:'+yOff+'px;left:'+(px-6)+'px;display:flex;align-items:center;z-index:5;">' +
                        '<div style="width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:12px solid '+color+';cursor:pointer;filter:drop-shadow(0 2px 3px rgba(0,0,0,0.4));" title="'+label+': '+ds+'"></div>' +
                        '<div style="margin-left:10px;font-size:0.7rem;color:#94a3b8;white-space:nowrap;font-weight:500;text-shadow:1px 1px 2px rgba(0,0,0,0.8);">'+formatDate(ds)+'</div></div>';
                };
                const bar = (sd, ed, color, label, yOff) => {
                    if (!sd) return '';
                    const s = dateToPx(sd), e = dateToPx(ed || todayStr);
                    if (s === null) return '';
                    const w = Math.max((e||todayOffset) - s, 5);
                    return '<div style="position:absolute;top:'+yOff+'px;left:'+s+'px;width:'+w+'px;height:8px;background:'+color+';border-radius:2px;z-index:4;opacity:0.7;" title="'+label+'"></div>';
                };
                
                if (view === 'all') {
                    // Check if package has ANY milestone dates
                    const hasAnyDate = mileDefs.some(md => ms[md.key]?.plan || ms[md.key]?.actual);
                    if (!hasAnyDate) {
                        // Show "No dates planned" at today position
                        html += '<div style="position:absolute;top:30px;left:'+(todayOffset > 20 ? todayOffset - 80 : 20)+'px;font-size:0.75rem;color:#f59e0b;font-style:italic;background:rgba(245,158,11,0.1);padding:2px 10px;border-radius:4px;border:1px dashed #f59e0b;white-space:nowrap;z-index:5;"> No dates planned</div>';
                    } else {
                    // Show all milestones stacked vertically
                    mileDefs.forEach((md, mi) => {
                        const m = ms[md.key] || {};
                        const yBase = 4 + mi * 12;
                        // Plan marker (darker shade)
                        if (m.plan) {
                            const px = dateToPx(m.plan);
                            if (px !== null) {
                                html += '<div style="position:absolute;top:'+yBase+'px;left:'+(px-4)+'px;display:flex;align-items:center;z-index:5;">' +
                                    '<div style="width:0;height:0;border-left:4px solid transparent;border-right:4px solid transparent;border-top:9px solid '+md.color+';cursor:pointer;opacity:0.7;" title="Plan '+md.label+': '+m.plan+'"></div>';
                                // If also has actual, show actual next to it
                                if (m.actual) {
                                    const apx = dateToPx(m.actual);
                                    html += '</div>';
                                    html += '<div style="position:absolute;top:'+yBase+'px;left:'+(apx-4)+'px;display:flex;align-items:center;z-index:6;">' +
                                        '<div style="width:0;height:0;border-left:4px solid transparent;border-right:4px solid transparent;border-top:9px solid '+md.color+';cursor:pointer;" title="Actual '+md.label+': '+m.actual+'"></div>' +
                                        '<div style="margin-left:6px;font-size:0.6rem;color:#94a3b8;white-space:nowrap;text-shadow:1px 1px 2px rgba(0,0,0,0.8);">'+formatDate(m.actual)+'</div></div>';
                                } else {
                                    html += '<div style="margin-left:6px;font-size:0.6rem;color:#94a3b8;white-space:nowrap;text-shadow:1px 1px 2px rgba(0,0,0,0.8);">'+formatDate(m.plan)+'</div></div>';
                                    // Delay bar
                                    if (m.plan < todayStr) {
                                        html += bar(m.plan, todayStr, '#ef4444', md.label+' Delayed', yBase + 9);
                                    }
                                }
                            }
                        }
                    });
                    }
                } else {
                    // Single milestone view
                    const m = ms[view] || {};
                    const md = mileDefs.find(d => d.key === view);
                    if (md) {
                        if (!m.plan && !m.actual) {
                            html += '<div style="position:absolute;top:20px;left:'+(todayOffset > 20 ? todayOffset - 80 : 20)+'px;font-size:0.75rem;color:#f59e0b;font-style:italic;background:rgba(245,158,11,0.1);padding:2px 10px;border-radius:4px;border:1px dashed #f59e0b;white-space:nowrap;z-index:5;"> No date</div>';
                        } else {
                        html += tri(m.plan, md.color, 'Plan '+md.label, 8);
                        if (m.actual) {
                            // Actual: slightly lighter/brighter version
                            html += tri(m.actual, md.color, 'Actual '+md.label, 28);
                        }
                        if (m.plan && !m.actual && m.plan < todayStr) {
                            html += bar(m.plan, todayStr, '#ef4444', md.label+' Delayed', 48);
                        }
                        }
                    }
                }
                
                html += '</td></tr>';
            });
            html += '</tbody></table>';
            
            document.getElementById('inquiryGanttContainer').innerHTML = html;
            updateInquiryStats(filtered);
        }
        
        function updateInquiryStats(filtered) {
            const todayStr = new Date().toISOString().split('T')[0];
            const total = filtered.length;
            const poIssued = filtered.filter(p => p.milestones?.issuePO?.actual).length;
            const poPending = total - poIssued;
            let delayed = 0;
            filtered.forEach(p => {
                const ms = p.milestones || {};
                ['issueRFQ','receiveQuotation','issueTBE','issueCBE','finalNegotiation','issuePO','kom'].forEach(k => {
                    if (ms[k]?.plan && ms[k].plan < todayStr && !ms[k]?.actual) delayed++;
                });
            });
            document.getElementById('inqTotalPkgs').textContent = total;
            document.getElementById('inqPOIssued').textContent = poIssued;
            document.getElementById('inqPOPending').textContent = poPending;
            document.getElementById('inqDelayed').textContent = delayed;
        }
        
        function printInquiryReport() {
            const view = document.getElementById('inquiryViewFilter').value;
            const discipline = document.getElementById('inquiryDisciplineFilter').value;
            const status = document.getElementById('inquiryStatusFilter').value;
            const project = projects.find(p => p.id === selectedProject);
            const todayStr = new Date().toISOString().split('T')[0];
            
            const viewLabels = {
                'all': 'All Milestones', 'issueRFQ': 'Issue RFQ', 'receiveQuotation': 'Receive Quotation',
                'issueTBE': 'Issue TBE', 'issueCBE': 'Issue CBE', 'finalNegotiation': 'Final Negotiation',
                'issuePO': 'Issue PO', 'kom': 'KOM'
            };
            
            // Populate print header
            document.getElementById('printInqProjectName').textContent = project ? project.name : 'All Projects';
            document.getElementById('printInqDate').textContent = 'Print Date: ' + new Date().toLocaleDateString('en-US', { weekday:'long', year:'numeric', month:'long', day:'numeric', hour:'2-digit', minute:'2-digit' });
            document.getElementById('printInqView').textContent = viewLabels[view] || view;
            document.getElementById('printInqDiscipline').textContent = discipline === 'all' ? 'All Disciplines' : discipline;
            document.getElementById('printInqStatus').textContent = status === 'all' ? 'All Status' : status.charAt(0).toUpperCase() + status.slice(1);
            
            // Filter packages (same logic as renderInquiryGantt)
            let filtered = packages.filter(p => p.projectId === selectedProject);
            if (discipline !== 'all') filtered = filtered.filter(p => p.discipline === discipline);
            if (status !== 'all') {
                filtered = filtered.filter(p => {
                    const ms = p.milestones || {};
                    if (view === 'all') {
                        const po = ms.issuePO || {};
                        if (status === 'completed') return !!po.actual;
                        if (status === 'delayed') return po.plan && po.plan < todayStr && !po.actual;
                        if (status === 'ongoing') return !po.actual;
                        if (status === 'upcoming') return po.plan && po.plan > todayStr;
                    } else {
                        const m = ms[view] || {};
                        if (status === 'completed') return !!m.actual;
                        if (status === 'delayed') return m.plan && m.plan < todayStr && !m.actual;
                        if (status === 'ongoing') return !m.actual;
                        if (status === 'upcoming') return m.plan && m.plan > todayStr;
                    }
                    return true;
                });
            }
            
            // Build detail table
            buildInquiryPrintTable(filtered, view);
            
            // Show inquiry tab for print
            const scheduleTab = document.getElementById('schedule');
            const inquiryTab = document.getElementById('inquiry');
            if (scheduleTab) scheduleTab.classList.remove('print-active');
            if (inquiryTab) inquiryTab.classList.add('print-active');
            
            requestAnimationFrame(() => {
                requestAnimationFrame(() => {
                    window.print();
                    if (inquiryTab) inquiryTab.classList.remove('print-active');
                });
            });
        }
        
        function buildInquiryPrintTable(filtered, view) {
            const fmt = (ds) => {
                if (!ds) return '-';
                const d = new Date(ds);
                return String(d.getDate()).padStart(2,'0') + '-' + d.toLocaleString('en-US',{month:'short'}) + '-' + String(d.getFullYear()).slice(-2);
            };
            const todayStr = new Date().toISOString().split('T')[0];
            
            const mileLabels = [
                { key: 'issueRFQ', label: 'Issue RFQ' },
                { key: 'receiveQuotation', label: 'Recv Quotation' },
                { key: 'issueTBE', label: 'Issue TBE' },
                { key: 'issueCBE', label: 'Issue CBE' },
                { key: 'finalNegotiation', label: 'Final Negotiation' },
                { key: 'issuePO', label: 'Issue PO' },
                { key: 'kom', label: 'KOM' },
            ];
            
            let headerCols, buildRow;
            
            if (view === 'all') {
                headerCols = '<th style="width:24px;text-align:center;">No</th><th style="width:160px;">Package Name</th><th style="width:60px;">Discipline</th><th style="width:120px;">Vendor</th>';
                mileLabels.forEach(m => {
                    headerCols += '<th style="width:58px;text-align:center;">'+m.label+'<br>Plan</th><th style="width:58px;text-align:center;">'+m.label+'<br>Actual</th>';
                });
                headerCols += '<th style="width:50px;text-align:center;">Status</th>';
                
                buildRow = (pkg, idx) => {
                    const ms = pkg.milestones || {};
                    let st = 'Pending';
                    if (ms.issuePO?.actual) st = '<span class="gantt-status-completed">PO Issued</span>';
                    else if (ms.issuePO?.plan && ms.issuePO.plan < todayStr) st = '<span class="gantt-status-delayed">Delayed</span>';
                    let row = '<tr><td style="text-align:center;">'+(idx+1)+'</td><td class="pkg-name-cell">'+pkg.packageName+'</td><td>'+(pkg.discipline||'-')+'</td><td class="pkg-vendor-cell">'+(pkg.vendorName||'-')+'</td>';
                    mileLabels.forEach(m => {
                        const mile = ms[m.key] || {};
                        row += '<td style="text-align:center;">'+fmt(mile.plan)+'</td><td style="text-align:center;">'+fmt(mile.actual)+'</td>';
                    });
                    row += '<td style="text-align:center;">'+st+'</td></tr>';
                    return row;
                };
            } else {
                const ml = mileLabels.find(m => m.key === view);
                headerCols = '<th style="width:24px;text-align:center;">No</th><th style="width:200px;">Package Name</th><th style="width:75px;">Discipline</th><th style="width:160px;">Vendor</th>' +
                    '<th style="width:80px;text-align:center;">'+(ml?.label||view)+' Plan</th><th style="width:80px;text-align:center;">'+(ml?.label||view)+' Actual</th><th style="width:55px;text-align:center;">Status</th>';
                
                buildRow = (pkg, idx) => {
                    const ms = pkg.milestones || {};
                    const m = ms[view] || {};
                    let st = '-';
                    if (m.actual) st = '<span class="gantt-status-completed">Done</span>';
                    else if (m.plan && m.plan < todayStr) st = '<span class="gantt-status-delayed">Delayed</span>';
                    else if (m.plan) st = 'Scheduled';
                    return '<tr><td style="text-align:center;">'+(idx+1)+'</td><td class="pkg-name-cell">'+pkg.packageName+'</td><td>'+(pkg.discipline||'-')+'</td><td class="pkg-vendor-cell">'+(pkg.vendorName||'-')+'</td><td style="text-align:center;">'+fmt(m.plan)+'</td><td style="text-align:center;">'+fmt(m.actual)+'</td><td style="text-align:center;">'+st+'</td></tr>';
                };
            }
            
            let html = '<div class="print-table-section-title">Inquiry Detail Data</div>';
            html += '<table class="gantt-table"><thead><tr>' + headerCols + '</tr></thead><tbody>';
            filtered.forEach((pkg, idx) => { html += buildRow(pkg, idx); });
            html += '</tbody></table>';
            document.getElementById('inquiryPrintTable').innerHTML = html;
        }
        
        function exportSchedule() {
            const view = document.getElementById('scheduleViewFilter').value;
            let csv = '';
            
            if (view === 'fat') {
                csv = 'Package Name,Discipline,Vendor,Plan FAT,Actual FAT,FAT Result,Status\n';
                
                packages.filter(p => p.projectId === selectedProject).forEach(p => {
                    const manufacture = p.manufacture || {};
                    const today = new Date().toISOString().split('T')[0];
                    
                    let status = 'Pending';
                    if (manufacture.actualFAT) {
                        status = manufacture.fatResult || 'Completed';
                    } else if (manufacture.planFAT && manufacture.planFAT < today) {
                        status = 'Delayed';
                    } else if (manufacture.planFAT) {
                        status = 'Scheduled';
                    }
                    
                    csv += `"${p.packageName}","${p.discipline}","${p.vendorName || ''}","${manufacture.planFAT || ''}","${manufacture.actualFAT || ''}","${manufacture.fatResult || ''}","${status}"\n`;
                });
            } else {
                csv = 'Package Name,Discipline,Plan Delivery,Actual Delivery,Plan On Site,Actual On Site,Status\n';
                
                packages.filter(p => p.projectId === selectedProject).forEach(p => {
                    const delivery = p.delivery || {};
                    const today = new Date().toISOString().split('T')[0];
                    
                    let status = 'Pending';
                    if (delivery.actualMaterialAtSite100) status = 'On Site';
                    else if (delivery.actualDelivery100) status = 'In Transit';
                    else if (delivery.planDelivery100 && delivery.planDelivery100 < today) status = 'Delayed';
                    else if (delivery.planDelivery100) status = 'Scheduled';
                    
                    csv += `"${p.packageName}","${p.discipline}","${delivery.planDelivery100 || ''}","${delivery.actualDelivery100 || ''}","${delivery.planMaterialAtSite100 || ''}","${delivery.actualMaterialAtSite100 || ''}","${status}"\n`;
                });
            }
            
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `schedule_${view}_${new Date().toISOString().split('T')[0]}.csv`;
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('Schedule exported successfully!', 'success');
        }
        
        /**
         * Print Schedule Report
         * Prints the currently displayed schedule (filtered by View & Discipline)
         * Uses window.print() with print-specific CSS styling
         */
        /**
         * Print Schedule Report
         * =====================
         * Layout: Page 1 = Header + Gantt Chart Timeline | Page 2+ = Detail Table (repeat header)
         *
         * Flow:
         * 1. Read active filters  populate print header
         * 2. Get filtered & sorted packages (same as visual Gantt)
         * 3. Render Gantt chart onto <canvas>  convert to PNG image
         * 4. Build detail <table> with <thead> for repeating header
         * 5. window.print()  @media print shows: header, gantt image, page-break, table
         */
        function printScheduleReport() {
            const view = document.getElementById('scheduleViewFilter').value;
            const discipline = document.getElementById('scheduleDisciplineFilter').value;
            const status = document.getElementById('scheduleStatusFilter').value;
            const project = projects.find(p => p.id === selectedProject);
            
            const viewLabels = {
                'all': 'All (Delivery, On Site, FAT)',
                'delivery': 'Delivery Date',
                'material': 'Material On Site Date',
                'fat': 'FAT Date'
            };
            
            // ---- 1. Populate print header ----
            document.getElementById('printProjectName').textContent = project ? project.name : 'All Projects';
            document.getElementById('printGeneratedDate').textContent = 
                'Print Date: ' + new Date().toLocaleDateString('en-US', { weekday:'long', year:'numeric', month:'long', day:'numeric', hour:'2-digit', minute:'2-digit' });
            document.getElementById('printViewFilter').textContent = viewLabels[view] || view;
            document.getElementById('printDisciplineFilter').textContent = discipline === 'all' ? 'All Disciplines' : discipline;
            document.getElementById('printStatusFilter').textContent = status === 'all' ? 'All Status' : status.charAt(0).toUpperCase() + status.slice(1);
            
            // ---- 2. Get filtered packages ----
            let filtered = packages.filter(p => p.projectId === selectedProject);
            if (discipline !== 'all') filtered = filtered.filter(p => p.discipline === discipline);
            if (status !== 'all') {
                const todayStr = new Date().toISOString().split('T')[0];
                filtered = filtered.filter(p => {
                    const d = p.delivery || {}, m = p.manufacture || {};
                    if (status === 'completed') {
                        if (view === 'fat') return !!m.actualFAT;
                        if (view === 'delivery') return !!d.actualDelivery100;
                        if (view === 'material') return !!d.actualMaterialAtSite100;
                        return d.actualDelivery100 && d.actualMaterialAtSite100;
                    }
                    if (status === 'delayed') {
                        const dd = d.planDelivery100 && d.planDelivery100 < todayStr && !d.actualDelivery100;
                        const ds = d.planMaterialAtSite100 && d.planMaterialAtSite100 < todayStr && !d.actualMaterialAtSite100;
                        const df = m.planFAT && m.planFAT < todayStr && !m.actualFAT;
                        if (view === 'fat') return df;
                        if (view === 'delivery') return dd;
                        if (view === 'material') return ds;
                        return dd || ds || df;
                    }
                    if (status === 'ongoing') {
                        if (view === 'fat') return m.planFAT && !m.actualFAT;
                        if (view === 'delivery') return d.planDelivery100 && !d.actualDelivery100;
                        if (view === 'material') return d.planMaterialAtSite100 && !d.actualMaterialAtSite100;
                        return (d.planDelivery100 && !d.actualDelivery100) || (d.planMaterialAtSite100 && !d.actualMaterialAtSite100);
                    }
                    if (status === 'upcoming') {
                        if (view === 'fat') return m.planFAT && m.planFAT > todayStr;
                        if (view === 'delivery') return d.planDelivery100 && d.planDelivery100 > todayStr;
                        if (view === 'material') return d.planMaterialAtSite100 && d.planMaterialAtSite100 > todayStr;
                        return d.planDelivery100 && d.planDelivery100 > todayStr;
                    }
                    return true;
                });
            }
            filtered.sort((a, b) => {
                const dA = view === 'fat' ? (a.manufacture?.planFAT || '9999') : (a.delivery?.planDelivery100 || '9999');
                const dB = view === 'fat' ? (b.manufacture?.planFAT || '9999') : (b.delivery?.planDelivery100 || '9999');
                return dA.localeCompare(dB);
            });
            
            // ---- 3. Build Detail Table (visual gantt shown directly via CSS) ----
            buildPrintTable(filtered, view);
            
            // ---- 5. Ensure schedule tab active & print ----
            const scheduleTab = document.getElementById('schedule');
            const inquiryTab = document.getElementById('inquiry');
            if (scheduleTab) scheduleTab.classList.add('print-active');
            if (inquiryTab) inquiryTab.classList.remove('print-active');
            
            requestAnimationFrame(() => { 
                requestAnimationFrame(() => { 
                    window.print();
                    if (scheduleTab) scheduleTab.classList.remove('print-active');
                });
            });
        }
        
        /**
         * Render print-friendly Gantt chart to canvas  image
         */
        /**
         * Render print-friendly Gantt chart as HTML TABLE (repeating thead)
         * Each month = one column. Triangles placed in the cell matching the date's month.
         */
        /**        /**
         * Build print-only detail table with repeating header
         */
        function buildPrintTable(filtered, view) {
            const fmt = (ds) => {
                if (!ds) return '-';
                const d = new Date(ds);
                return String(d.getDate()).padStart(2,'0') + '-' + d.toLocaleString('en-US',{month:'short'}) + '-' + String(d.getFullYear()).slice(-2);
            };
            const todayStr = new Date().toISOString().split('T')[0];
            
            let headerCols = '', buildRow;
            
            if (view === 'all') {
                headerCols = '<th style="width:24px;text-align:center;">No</th><th style="width:180px;">Package Name</th><th style="width:65px;">Discipline</th><th style="width:140px;">Vendor</th><th style="width:62px;text-align:center;">Plan<br>Delivery</th><th style="width:62px;text-align:center;">Actual<br>Delivery</th><th style="width:62px;text-align:center;">Plan<br>On Site</th><th style="width:62px;text-align:center;">Actual<br>On Site</th><th style="width:62px;text-align:center;">Plan<br>FAT</th><th style="width:62px;text-align:center;">Actual<br>FAT</th><th style="width:55px;text-align:center;">Status</th>';
                buildRow = (pkg, idx) => {
                    const d = pkg.delivery || {}, m = pkg.manufacture || {};
                    let st = 'Pending';
                    if (d.actualMaterialAtSite100) st = '<span class="gantt-status-completed">On Site</span>';
                    else if (d.actualDelivery100) st = 'In Transit';
                    else if (d.planDelivery100 && d.planDelivery100 < todayStr) st = '<span class="gantt-status-delayed">Delayed</span>';
                    else if (d.planDelivery100) st = 'Scheduled';
                    return '<tr><td style="text-align:center;">'+(idx+1)+'</td><td class="pkg-name-cell">'+pkg.packageName+'</td><td>'+(pkg.discipline||'-')+'</td><td class="pkg-vendor-cell">'+(pkg.vendorName||'-')+'</td><td style="text-align:center;">'+fmt(d.planDelivery100)+'</td><td style="text-align:center;">'+fmt(d.actualDelivery100)+'</td><td style="text-align:center;">'+fmt(d.planMaterialAtSite100)+'</td><td style="text-align:center;">'+fmt(d.actualMaterialAtSite100)+'</td><td style="text-align:center;">'+fmt(m.planFAT)+'</td><td style="text-align:center;">'+fmt(m.actualFAT)+'</td><td style="text-align:center;">'+st+'</td></tr>';
                };
            } else if (view === 'delivery') {
                headerCols = '<th style="width:24px;text-align:center;">No</th><th style="width:200px;">Package Name</th><th style="width:75px;">Discipline</th><th style="width:160px;">Vendor</th><th style="width:80px;">COO</th><th style="width:72px;text-align:center;">Plan Delivery</th><th style="width:72px;text-align:center;">Actual Delivery</th><th style="width:55px;text-align:center;">Status</th>';
                buildRow = (pkg, idx) => {
                    const d = pkg.delivery || {};
                    let st = 'Pending';
                    if (d.actualDelivery100) st = '<span class="gantt-status-completed">Delivered</span>';
                    else if (d.planDelivery100 && d.planDelivery100 < todayStr) st = '<span class="gantt-status-delayed">Delayed</span>';
                    else if (d.planDelivery100) st = 'Scheduled';
                    return '<tr><td style="text-align:center;">'+(idx+1)+'</td><td class="pkg-name-cell">'+pkg.packageName+'</td><td>'+(pkg.discipline||'-')+'</td><td class="pkg-vendor-cell">'+(pkg.vendorName||'-')+'</td><td>'+(pkg.coo||'-')+'</td><td style="text-align:center;">'+fmt(d.planDelivery100)+'</td><td style="text-align:center;">'+fmt(d.actualDelivery100)+'</td><td style="text-align:center;">'+st+'</td></tr>';
                };
            } else if (view === 'material') {
                headerCols = '<th style="width:24px;text-align:center;">No</th><th style="width:200px;">Package Name</th><th style="width:75px;">Discipline</th><th style="width:160px;">Vendor</th><th style="width:72px;text-align:center;">Plan On Site</th><th style="width:72px;text-align:center;">Actual On Site</th><th style="width:55px;text-align:center;">Status</th>';
                buildRow = (pkg, idx) => {
                    const d = pkg.delivery || {};
                    let st = 'Pending';
                    if (d.actualMaterialAtSite100) st = '<span class="gantt-status-completed">Received</span>';
                    else if (d.planMaterialAtSite100 && d.planMaterialAtSite100 < todayStr) st = '<span class="gantt-status-delayed">Delayed</span>';
                    else if (d.planMaterialAtSite100) st = 'Scheduled';
                    return '<tr><td style="text-align:center;">'+(idx+1)+'</td><td class="pkg-name-cell">'+pkg.packageName+'</td><td>'+(pkg.discipline||'-')+'</td><td class="pkg-vendor-cell">'+(pkg.vendorName||'-')+'</td><td style="text-align:center;">'+fmt(d.planMaterialAtSite100)+'</td><td style="text-align:center;">'+fmt(d.actualMaterialAtSite100)+'</td><td style="text-align:center;">'+st+'</td></tr>';
                };
            } else if (view === 'fat') {
                headerCols = '<th style="width:24px;text-align:center;">No</th><th style="width:200px;">Package Name</th><th style="width:75px;">Discipline</th><th style="width:160px;">Vendor</th><th style="width:72px;text-align:center;">Plan FAT</th><th style="width:72px;text-align:center;">Actual FAT</th><th style="width:80px;text-align:center;">FAT Result</th><th style="width:55px;text-align:center;">Status</th>';
                buildRow = (pkg, idx) => {
                    const m = pkg.manufacture || {};
                    let st = 'N/A';
                    if (m.actualFAT) st = '<span class="gantt-status-completed">'+(m.fatResult||'Done')+'</span>';
                    else if (m.planFAT && m.planFAT < todayStr) st = '<span class="gantt-status-delayed">Overdue</span>';
                    else if (m.planFAT) st = 'Scheduled';
                    return '<tr><td style="text-align:center;">'+(idx+1)+'</td><td class="pkg-name-cell">'+pkg.packageName+'</td><td>'+(pkg.discipline||'-')+'</td><td class="pkg-vendor-cell">'+(pkg.vendorName||'-')+'</td><td style="text-align:center;">'+fmt(m.planFAT)+'</td><td style="text-align:center;">'+fmt(m.actualFAT)+'</td><td style="text-align:center;">'+(m.fatResult||'-')+'</td><td style="text-align:center;">'+st+'</td></tr>';
                };
            }
            
            let html = '<div class="print-table-section-title">Detail Schedule Data</div>';
            html += '<table class="gantt-table gantt-print-table"><thead><tr>' + headerCols + '</tr></thead><tbody>';
            filtered.forEach((pkg, idx) => { html += buildRow(pkg, idx); });
            html += '</tbody></table>';
            document.getElementById('ganttPrintTable').innerHTML = html;
        }
        
</script>
</body>
</html>
